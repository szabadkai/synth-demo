(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function o(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerPolicy&&(f.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?f.credentials="include":p.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(p){if(p.ep)return;p.ep=!0;const f=o(p);fetch(p.href,f)}})();function gc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var $i={exports:{}},Br={},Gi={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu;function yf(){if(Qu)return pe;Qu=1;var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function E(k,D,ae){this.props=k,this.context=D,this.refs=P,this.updater=ae||R}E.prototype.isReactComponent={},E.prototype.setState=function(k,D){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,D,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function L(){}L.prototype=E.prototype;function I(k,D,ae){this.props=k,this.context=D,this.refs=P,this.updater=ae||R}var W=I.prototype=new L;W.constructor=I,O(W,E.prototype),W.isPureReactComponent=!0;var b=Array.isArray,Q=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function V(k,D,ae){var de,he={},ve=null,ye=null;if(D!=null)for(de in D.ref!==void 0&&(ye=D.ref),D.key!==void 0&&(ve=""+D.key),D)Q.call(D,de)&&!A.hasOwnProperty(de)&&(he[de]=D[de]);var fe=arguments.length-2;if(fe===1)he.children=ae;else if(1<fe){for(var Ee=Array(fe),We=0;We<fe;We++)Ee[We]=arguments[We+2];he.children=Ee}if(k&&k.defaultProps)for(de in fe=k.defaultProps,fe)he[de]===void 0&&(he[de]=fe[de]);return{$$typeof:u,type:k,key:ve,ref:ye,props:he,_owner:j.current}}function K(k,D){return{$$typeof:u,type:k.type,key:D,ref:k.ref,props:k.props,_owner:k._owner}}function ie(k){return typeof k=="object"&&k!==null&&k.$$typeof===u}function Pe(k){var D={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return D[ae]})}var ue=/\/+/g;function ke(k,D){return typeof k=="object"&&k!==null&&k.key!=null?Pe(""+k.key):D.toString(36)}function nt(k,D,ae,de,he){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case u:case a:ye=!0}}if(ye)return ye=k,he=he(ye),k=de===""?"."+ke(ye,0):de,b(he)?(ae="",k!=null&&(ae=k.replace(ue,"$&/")+"/"),nt(he,D,ae,"",function(We){return We})):he!=null&&(ie(he)&&(he=K(he,ae+(!he.key||ye&&ye.key===he.key?"":(""+he.key).replace(ue,"$&/")+"/")+k)),D.push(he)),1;if(ye=0,de=de===""?".":de+":",b(k))for(var fe=0;fe<k.length;fe++){ve=k[fe];var Ee=de+ke(ve,fe);ye+=nt(ve,D,ae,Ee,he)}else if(Ee=y(k),typeof Ee=="function")for(k=Ee.call(k),fe=0;!(ve=k.next()).done;)ve=ve.value,Ee=de+ke(ve,fe++),ye+=nt(ve,D,ae,Ee,he);else if(ve==="object")throw D=String(k),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ye}function it(k,D,ae){if(k==null)return k;var de=[],he=0;return nt(k,de,"","",function(ve){return D.call(ae,ve,he++)}),de}function ce(k){if(k._status===-1){var D=k._result;D=D(),D.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=D)}if(k._status===1)return k._result.default;throw k._result}var ge={current:null},H={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:H,ReactCurrentOwner:j};function $(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:it,forEach:function(k,D,ae){it(k,function(){D.apply(this,arguments)},ae)},count:function(k){var D=0;return it(k,function(){D++}),D},toArray:function(k){return it(k,function(D){return D})||[]},only:function(k){if(!ie(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},pe.Component=E,pe.Fragment=o,pe.Profiler=p,pe.PureComponent=I,pe.StrictMode=d,pe.Suspense=h,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,pe.act=$,pe.cloneElement=function(k,D,ae){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var de=O({},k.props),he=k.key,ve=k.ref,ye=k._owner;if(D!=null){if(D.ref!==void 0&&(ve=D.ref,ye=j.current),D.key!==void 0&&(he=""+D.key),k.type&&k.type.defaultProps)var fe=k.type.defaultProps;for(Ee in D)Q.call(D,Ee)&&!A.hasOwnProperty(Ee)&&(de[Ee]=D[Ee]===void 0&&fe!==void 0?fe[Ee]:D[Ee])}var Ee=arguments.length-2;if(Ee===1)de.children=ae;else if(1<Ee){fe=Array(Ee);for(var We=0;We<Ee;We++)fe[We]=arguments[We+2];de.children=fe}return{$$typeof:u,type:k.type,key:he,ref:ve,props:de,_owner:ye}},pe.createContext=function(k){return k={$$typeof:g,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},pe.createElement=V,pe.createFactory=function(k){var D=V.bind(null,k);return D.type=k,D},pe.createRef=function(){return{current:null}},pe.forwardRef=function(k){return{$$typeof:S,render:k}},pe.isValidElement=ie,pe.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ce}},pe.memo=function(k,D){return{$$typeof:x,type:k,compare:D===void 0?null:D}},pe.startTransition=function(k){var D=H.transition;H.transition={};try{k()}finally{H.transition=D}},pe.unstable_act=$,pe.useCallback=function(k,D){return ge.current.useCallback(k,D)},pe.useContext=function(k){return ge.current.useContext(k)},pe.useDebugValue=function(){},pe.useDeferredValue=function(k){return ge.current.useDeferredValue(k)},pe.useEffect=function(k,D){return ge.current.useEffect(k,D)},pe.useId=function(){return ge.current.useId()},pe.useImperativeHandle=function(k,D,ae){return ge.current.useImperativeHandle(k,D,ae)},pe.useInsertionEffect=function(k,D){return ge.current.useInsertionEffect(k,D)},pe.useLayoutEffect=function(k,D){return ge.current.useLayoutEffect(k,D)},pe.useMemo=function(k,D){return ge.current.useMemo(k,D)},pe.useReducer=function(k,D,ae){return ge.current.useReducer(k,D,ae)},pe.useRef=function(k){return ge.current.useRef(k)},pe.useState=function(k){return ge.current.useState(k)},pe.useSyncExternalStore=function(k,D,ae){return ge.current.useSyncExternalStore(k,D,ae)},pe.useTransition=function(){return ge.current.useTransition()},pe.version="18.3.1",pe}var Ku;function Vr(){return Ku||(Ku=1,Gi.exports=yf()),Gi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu;function xf(){if(Xu)return Br;Xu=1;var u=Vr(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function g(S,h,x){var T,C={},y=null,R=null;x!==void 0&&(y=""+x),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(R=h.ref);for(T in h)d.call(h,T)&&!f.hasOwnProperty(T)&&(C[T]=h[T]);if(S&&S.defaultProps)for(T in h=S.defaultProps,h)C[T]===void 0&&(C[T]=h[T]);return{$$typeof:a,type:S,key:y,ref:R,props:C,_owner:p.current}}return Br.Fragment=o,Br.jsx=g,Br.jsxs=g,Br}var Yu;function wf(){return Yu||(Yu=1,$i.exports=xf()),$i.exports}var i=wf(),Jl={},Qi={exports:{}},ft={},Ki={exports:{}},Xi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function Sf(){return Zu||(Zu=1,(function(u){function a(H,te){var $=H.length;H.push(te);e:for(;0<$;){var k=$-1>>>1,D=H[k];if(0<p(D,te))H[k]=te,H[$]=D,$=k;else break e}}function o(H){return H.length===0?null:H[0]}function d(H){if(H.length===0)return null;var te=H[0],$=H.pop();if($!==te){H[0]=$;e:for(var k=0,D=H.length,ae=D>>>1;k<ae;){var de=2*(k+1)-1,he=H[de],ve=de+1,ye=H[ve];if(0>p(he,$))ve<D&&0>p(ye,he)?(H[k]=ye,H[ve]=$,k=ve):(H[k]=he,H[de]=$,k=de);else if(ve<D&&0>p(ye,$))H[k]=ye,H[ve]=$,k=ve;else break e}}return te}function p(H,te){var $=H.sortIndex-te.sortIndex;return $!==0?$:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var g=Date,S=g.now();u.unstable_now=function(){return g.now()-S}}var h=[],x=[],T=1,C=null,y=3,R=!1,O=!1,P=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(H){for(var te=o(x);te!==null;){if(te.callback===null)d(x);else if(te.startTime<=H)d(x),te.sortIndex=te.expirationTime,a(h,te);else break;te=o(x)}}function b(H){if(P=!1,W(H),!O)if(o(h)!==null)O=!0,ce(Q);else{var te=o(x);te!==null&&ge(b,te.startTime-H)}}function Q(H,te){O=!1,P&&(P=!1,L(V),V=-1),R=!0;var $=y;try{for(W(te),C=o(h);C!==null&&(!(C.expirationTime>te)||H&&!Pe());){var k=C.callback;if(typeof k=="function"){C.callback=null,y=C.priorityLevel;var D=k(C.expirationTime<=te);te=u.unstable_now(),typeof D=="function"?C.callback=D:C===o(h)&&d(h),W(te)}else d(h);C=o(h)}if(C!==null)var ae=!0;else{var de=o(x);de!==null&&ge(b,de.startTime-te),ae=!1}return ae}finally{C=null,y=$,R=!1}}var j=!1,A=null,V=-1,K=5,ie=-1;function Pe(){return!(u.unstable_now()-ie<K)}function ue(){if(A!==null){var H=u.unstable_now();ie=H;var te=!0;try{te=A(!0,H)}finally{te?ke():(j=!1,A=null)}}else j=!1}var ke;if(typeof I=="function")ke=function(){I(ue)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,it=nt.port2;nt.port1.onmessage=ue,ke=function(){it.postMessage(null)}}else ke=function(){E(ue,0)};function ce(H){A=H,j||(j=!0,ke())}function ge(H,te){V=E(function(){H(u.unstable_now())},te)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(H){H.callback=null},u.unstable_continueExecution=function(){O||R||(O=!0,ce(Q))},u.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_getFirstCallbackNode=function(){return o(h)},u.unstable_next=function(H){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var $=y;y=te;try{return H()}finally{y=$}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return te()}finally{y=$}},u.unstable_scheduleCallback=function(H,te,$){var k=u.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?k+$:k):$=k,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,H={id:T++,callback:te,priorityLevel:H,startTime:$,expirationTime:D,sortIndex:-1},$>k?(H.sortIndex=$,a(x,H),o(h)===null&&H===o(x)&&(P?(L(V),V=-1):P=!0,ge(b,$-k))):(H.sortIndex=D,a(h,H),O||R||(O=!0,ce(Q))),H},u.unstable_shouldYield=Pe,u.unstable_wrapCallback=function(H){var te=y;return function(){var $=y;y=te;try{return H.apply(this,arguments)}finally{y=$}}}})(Xi)),Xi}var Ju;function kf(){return Ju||(Ju=1,Ki.exports=Sf()),Ki.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec;function jf(){if(ec)return ft;ec=1;var u=Vr(),a=kf();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function f(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(p[e]=t,e=0;e<t.length;e++)d.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},C={};function y(e){return h.call(C,e)?!0:h.call(T,e)?!1:x.test(e)?C[e]=!0:(T[e]=!0,!1)}function R(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,r){if(t===null||typeof t>"u"||R(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,n,r,l,s,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=c}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,I);E[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,I);E[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,I);E[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,t,n,r){var l=E.hasOwnProperty(t)?E[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,r)&&(n=null),r||l===null?y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var b=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,k;function D(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var ae=!1;function de(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),s=r.stack.split(`
`),c=l.length-1,m=s.length-1;1<=c&&0<=m&&l[c]!==s[m];)m--;for(;1<=c&&0<=m;c--,m--)if(l[c]!==s[m]){if(c!==1||m!==1)do if(c--,m--,0>m||l[c]!==s[m]){var v=`
`+l[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=m);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function he(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case j:return"Portal";case K:return"Profiler";case V:return"StrictMode";case ke:return"Suspense";case nt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case it:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function We(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){r=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oe(e){e._valueTracker||(e._valueTracker=We(e))}function Be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ye(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nt(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yt(e,t){t=t.checked,t!=null&&W(e,"checked",t,!1)}function Zt(e,t){Yt(e,t);var n=fe(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rr(e,t.type,n):t.hasOwnProperty("defaultValue")&&rr(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rr(e,t,n){(t!=="number"||Ae(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wt=Array.isArray;function Le(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Me(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(wt(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function Ht(e,t){var n=fe(t.value),r=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function me(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ce,rt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sc=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){Sc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function ao(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function uo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=ao(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var kc=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ls(e,t){if(t){if(kc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function ss(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,Ln=null,Rn=null;function co(e){if(e=Cr(e)){if(typeof as!="function")throw Error(o(280));var t=e.stateNode;t&&(t=hl(t),as(e.stateNode,e.type,t))}}function fo(e){Ln?Rn?Rn.push(e):Rn=[e]:Ln=e}function po(){if(Ln){var e=Ln,t=Rn;if(Rn=Ln=null,co(e),t)for(e=0;e<t.length;e++)co(t[e])}}function ho(e,t){return e(t)}function mo(){}var us=!1;function vo(e,t,n){if(us)return e(t,n);us=!0;try{return ho(e,t,n)}finally{us=!1,(Ln!==null||Rn!==null)&&(mo(),po())}}function sr(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var cs=!1;if(S)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){cs=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{cs=!1}function jc(e,t,n,r,l,s,c,m,v){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(F){this.onError(F)}}var or=!1,$r=null,Gr=!1,ds=null,Ec={onError:function(e){or=!0,$r=e}};function Mc(e,t,n,r,l,s,c,m,v){or=!1,$r=null,jc.apply(Ec,arguments)}function Cc(e,t,n,r,l,s,c,m,v){if(Mc.apply(this,arguments),or){if(or){var _=$r;or=!1,$r=null}else throw Error(o(198));Gr||(Gr=!0,ds=_)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function go(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yo(e){if(xn(e)!==e)throw Error(o(188))}function Nc(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return yo(l),e;if(s===r)return yo(l),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=l,r=s;else{for(var c=!1,m=l.child;m;){if(m===n){c=!0,n=l,r=s;break}if(m===r){c=!0,r=l,n=s;break}m=m.sibling}if(!c){for(m=s.child;m;){if(m===n){c=!0,n=s,r=l;break}if(m===r){c=!0,r=s,n=l;break}m=m.sibling}if(!c)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function xo(e){return e=Nc(e),e!==null?wo(e):null}function wo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wo(e);if(t!==null)return t;e=e.sibling}return null}var So=a.unstable_scheduleCallback,ko=a.unstable_cancelCallback,Pc=a.unstable_shouldYield,Tc=a.unstable_requestPaint,Fe=a.unstable_now,_c=a.unstable_getCurrentPriorityLevel,fs=a.unstable_ImmediatePriority,jo=a.unstable_UserBlockingPriority,Qr=a.unstable_NormalPriority,Oc=a.unstable_LowPriority,Eo=a.unstable_IdlePriority,Kr=null,At=null;function Lc(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Dc,Rc=Math.log,Ic=Math.LN2;function Dc(e){return e>>>=0,e===0?32:31-(Rc(e)/Ic|0)|0}var Xr=64,Yr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,c=n&268435455;if(c!==0){var m=c&~l;m!==0?r=ar(m):(s&=c,s!==0&&(r=ar(s)))}else c=n&~l,c!==0?r=ar(c):s!==0&&(r=ar(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),l=1<<n,r|=e[n],t&=~l;return r}function zc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Tt(s),m=1<<c,v=l[c];v===-1?((m&n)===0||(m&r)!==0)&&(l[c]=zc(m,t)):v<=t&&(e.expiredLanes|=m),s&=~m}}function ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mo(){var e=Xr;return Xr<<=1,(Xr&4194240)===0&&(Xr=64),e}function hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ur(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Fc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Tt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function ms(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var je=0;function Co(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var No,vs,Po,To,_o,gs=!1,Jr=[],Jt=null,en=null,tn=null,cr=new Map,dr=new Map,nn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oo(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Cr(t),t!==null&&vs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bc(e,t,n,r,l){switch(t){case"focusin":return Jt=fr(Jt,e,t,n,r,l),!0;case"dragenter":return en=fr(en,e,t,n,r,l),!0;case"mouseover":return tn=fr(tn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return cr.set(s,fr(cr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,dr.set(s,fr(dr.get(s)||null,e,t,n,r,l)),!0}return!1}function Lo(e){var t=wn(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=go(n),t!==null){e.blockedOn=t,_o(e.priority,function(){Po(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);is=r,n.target.dispatchEvent(r),is=null}else return t=Cr(n),t!==null&&vs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ro(e,t,n){el(e)&&n.delete(t)}function Bc(){gs=!1,Jt!==null&&el(Jt)&&(Jt=null),en!==null&&el(en)&&(en=null),tn!==null&&el(tn)&&(tn=null),cr.forEach(Ro),dr.forEach(Ro)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,gs||(gs=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bc)))}function hr(e){function t(l){return pr(l,e)}if(0<Jr.length){pr(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&pr(Jt,e),en!==null&&pr(en,e),tn!==null&&pr(tn,e),cr.forEach(t),dr.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)Lo(n),n.blockedOn===null&&nn.shift()}var In=b.ReactCurrentBatchConfig,tl=!0;function Hc(e,t,n,r){var l=je,s=In.transition;In.transition=null;try{je=1,ys(e,t,n,r)}finally{je=l,In.transition=s}}function Uc(e,t,n,r){var l=je,s=In.transition;In.transition=null;try{je=4,ys(e,t,n,r)}finally{je=l,In.transition=s}}function ys(e,t,n,r){if(tl){var l=xs(e,t,n,r);if(l===null)zs(e,t,r,nl,n),Oo(e,r);else if(bc(l,e,t,n,r))r.stopPropagation();else if(Oo(e,r),t&4&&-1<qc.indexOf(e)){for(;l!==null;){var s=Cr(l);if(s!==null&&No(s),s=xs(e,t,n,r),s===null&&zs(e,t,r,nl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else zs(e,t,r,null,n)}}var nl=null;function xs(e,t,n,r){if(nl=null,e=os(r),e=wn(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=go(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function Io(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_c()){case fs:return 1;case jo:return 4;case Qr:case Oc:return 16;case Eo:return 536870912;default:return 16}default:return 16}}var rn=null,ws=null,rl=null;function Do(){if(rl)return rl;var e,t=ws,n=t.length,r,l="value"in rn?rn.value:rn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===l[s-r];r++);return rl=l.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function zo(){return!1}function mt(e){function t(n,r,l,s,c){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sl:zo,this.isPropagationStopped=zo,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=mt(Dn),mr=$({},Dn,{view:0,detail:0}),Wc=mt(mr),ks,js,vr,il=$({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(ks=e.screenX-vr.screenX,js=e.screenY-vr.screenY):js=ks=0,vr=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:js}}),Ao=mt(il),Vc=$({},il,{dataTransfer:0}),$c=mt(Vc),Gc=$({},mr,{relatedTarget:0}),Es=mt(Gc),Qc=$({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=mt(Qc),Xc=$({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yc=mt(Xc),Zc=$({},Dn,{data:0}),Fo=mt(Zc),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=td[e])?!!t[e]:!1}function Ms(){return nd}var rd=$({},mr,{key:function(e){if(e.key){var t=Jc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ed[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ld=mt(rd),sd=$({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=mt(sd),id=$({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),od=mt(id),ad=$({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ud=mt(ad),cd=$({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dd=mt(cd),fd=[9,13,27,32],Cs=S&&"CompositionEvent"in window,gr=null;S&&"documentMode"in document&&(gr=document.documentMode);var pd=S&&"TextEvent"in window&&!gr,bo=S&&(!Cs||gr&&8<gr&&11>=gr),Bo=" ",Ho=!1;function Uo(e,t){switch(e){case"keyup":return fd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function hd(e,t){switch(e){case"compositionend":return Wo(t);case"keypress":return t.which!==32?null:(Ho=!0,Bo);case"textInput":return e=t.data,e===Bo&&Ho?null:e;default:return null}}function md(e,t){if(zn)return e==="compositionend"||!Cs&&Uo(e,t)?(e=Do(),rl=ws=rn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bo&&t.locale!=="ko"?null:t.data;default:return null}}var vd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vd[e.type]:t==="textarea"}function $o(e,t,n,r){fo(r),t=dl(t,"onChange"),0<t.length&&(n=new Ss("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,xr=null;function gd(e){ca(e,0)}function ol(e){var t=Bn(e);if(Be(t))return e}function yd(e,t){if(e==="change")return t}var Go=!1;if(S){var Ns;if(S){var Ps="oninput"in document;if(!Ps){var Qo=document.createElement("div");Qo.setAttribute("oninput","return;"),Ps=typeof Qo.oninput=="function"}Ns=Ps}else Ns=!1;Go=Ns&&(!document.documentMode||9<document.documentMode)}function Ko(){yr&&(yr.detachEvent("onpropertychange",Xo),xr=yr=null)}function Xo(e){if(e.propertyName==="value"&&ol(xr)){var t=[];$o(t,xr,e,os(e)),vo(gd,t)}}function xd(e,t,n){e==="focusin"?(Ko(),yr=t,xr=n,yr.attachEvent("onpropertychange",Xo)):e==="focusout"&&Ko()}function wd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(xr)}function Sd(e,t){if(e==="click")return ol(t)}function kd(e,t){if(e==="input"||e==="change")return ol(t)}function jd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:jd;function wr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!h.call(t,l)||!_t(e[l],t[l]))return!1}return!0}function Yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zo(e,t){var n=Yo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yo(n)}}function Jo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ea(){for(var e=window,t=Ae();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ae(e.document)}return t}function Ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ed(e){var t=ea(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jo(n.ownerDocument.documentElement,n)){if(r!==null&&Ts(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Zo(n,s);var c=Zo(n,r);l&&c&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Md=S&&"documentMode"in document&&11>=document.documentMode,An=null,_s=null,Sr=null,Os=!1;function ta(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Os||An==null||An!==Ae(r)||(r=An,"selectionStart"in r&&Ts(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&wr(Sr,r)||(Sr=r,r=dl(_s,"onSelect"),0<r.length&&(t=new Ss("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Ls={},na={};S&&(na=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function ul(e){if(Ls[e])return Ls[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in na)return Ls[e]=t[n];return e}var ra=ul("animationend"),la=ul("animationiteration"),sa=ul("animationstart"),ia=ul("transitionend"),oa=new Map,aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){oa.set(e,t),f(t,[e])}for(var Rs=0;Rs<aa.length;Rs++){var Is=aa[Rs],Cd=Is.toLowerCase(),Nd=Is[0].toUpperCase()+Is.slice(1);ln(Cd,"on"+Nd)}ln(ra,"onAnimationEnd"),ln(la,"onAnimationIteration"),ln(sa,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(ia,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function ua(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cc(r,t,void 0,e),e.currentTarget=null}function ca(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var c=r.length-1;0<=c;c--){var m=r[c],v=m.instance,_=m.currentTarget;if(m=m.listener,v!==s&&l.isPropagationStopped())break e;ua(l,m,_),s=v}else for(c=0;c<r.length;c++){if(m=r[c],v=m.instance,_=m.currentTarget,m=m.listener,v!==s&&l.isPropagationStopped())break e;ua(l,m,_),s=v}}}if(Gr)throw e=ds,Gr=!1,ds=null,e}function _e(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(da(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),da(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[cl]){e[cl]=!0,d.forEach(function(n){n!=="selectionchange"&&(Pd.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Ds("selectionchange",!1,t))}}function da(e,t,n,r){switch(Io(t)){case 1:var l=Hc;break;case 4:l=Uc;break;default:l=ys}n=l.bind(null,t,n,e),l=void 0,!cs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function zs(e,t,n,r,l){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var m=r.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(c===4)for(c=r.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;c=c.return}for(;m!==null;){if(c=wn(m),c===null)return;if(v=c.tag,v===5||v===6){r=s=c;continue e}m=m.parentNode}}r=r.return}vo(function(){var _=s,F=os(n),q=[];e:{var z=oa.get(e);if(z!==void 0){var G=Ss,Y=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":G=ld;break;case"focusin":Y="focus",G=Es;break;case"focusout":Y="blur",G=Es;break;case"beforeblur":case"afterblur":G=Es;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=od;break;case ra:case la:case sa:G=Kc;break;case ia:G=ud;break;case"scroll":G=Wc;break;case"wheel":G=dd;break;case"copy":case"cut":case"paste":G=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qo}var J=(t&4)!==0,qe=!J&&e==="scroll",M=J?z!==null?z+"Capture":null:z;J=[];for(var w=_,N;w!==null;){N=w;var B=N.stateNode;if(N.tag===5&&B!==null&&(N=B,M!==null&&(B=sr(w,M),B!=null&&J.push(Er(w,B,N)))),qe)break;w=w.return}0<J.length&&(z=new G(z,Y,null,n,F),q.push({event:z,listeners:J}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",z&&n!==is&&(Y=n.relatedTarget||n.fromElement)&&(wn(Y)||Y[Ut]))break e;if((G||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,G?(Y=n.relatedTarget||n.toElement,G=_,Y=Y?wn(Y):null,Y!==null&&(qe=xn(Y),Y!==qe||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(G=null,Y=_),G!==Y)){if(J=Ao,B="onMouseLeave",M="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(J=qo,B="onPointerLeave",M="onPointerEnter",w="pointer"),qe=G==null?z:Bn(G),N=Y==null?z:Bn(Y),z=new J(B,w+"leave",G,n,F),z.target=qe,z.relatedTarget=N,B=null,wn(F)===_&&(J=new J(M,w+"enter",Y,n,F),J.target=N,J.relatedTarget=qe,B=J),qe=B,G&&Y)t:{for(J=G,M=Y,w=0,N=J;N;N=qn(N))w++;for(N=0,B=M;B;B=qn(B))N++;for(;0<w-N;)J=qn(J),w--;for(;0<N-w;)M=qn(M),N--;for(;w--;){if(J===M||M!==null&&J===M.alternate)break t;J=qn(J),M=qn(M)}J=null}else J=null;G!==null&&fa(q,z,G,J,!1),Y!==null&&qe!==null&&fa(q,qe,Y,J,!0)}}e:{if(z=_?Bn(_):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var ne=yd;else if(Vo(z))if(Go)ne=kd;else{ne=wd;var re=xd}else(G=z.nodeName)&&G.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ne=Sd);if(ne&&(ne=ne(e,_))){$o(q,ne,n,F);break e}re&&re(e,z,_),e==="focusout"&&(re=z._wrapperState)&&re.controlled&&z.type==="number"&&rr(z,"number",z.value)}switch(re=_?Bn(_):window,e){case"focusin":(Vo(re)||re.contentEditable==="true")&&(An=re,_s=_,Sr=null);break;case"focusout":Sr=_s=An=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,ta(q,n,F);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":ta(q,n,F)}var le;if(Cs)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else zn?Uo(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(bo&&n.locale!=="ko"&&(zn||se!=="onCompositionStart"?se==="onCompositionEnd"&&zn&&(le=Do()):(rn=F,ws="value"in rn?rn.value:rn.textContent,zn=!0)),re=dl(_,se),0<re.length&&(se=new Fo(se,e,null,n,F),q.push({event:se,listeners:re}),le?se.data=le:(le=Wo(n),le!==null&&(se.data=le)))),(le=pd?hd(e,n):md(e,n))&&(_=dl(_,"onBeforeInput"),0<_.length&&(F=new Fo("onBeforeInput","beforeinput",null,n,F),q.push({event:F,listeners:_}),F.data=le))}ca(q,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=sr(e,n),s!=null&&r.unshift(Er(e,s,l)),s=sr(e,t),s!=null&&r.push(Er(e,s,l))),e=e.return}return r}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fa(e,t,n,r,l){for(var s=t._reactName,c=[];n!==null&&n!==r;){var m=n,v=m.alternate,_=m.stateNode;if(v!==null&&v===r)break;m.tag===5&&_!==null&&(m=_,l?(v=sr(n,s),v!=null&&c.unshift(Er(n,v,m))):l||(v=sr(n,s),v!=null&&c.push(Er(n,v,m)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Td=/\r\n?/g,_d=/\u0000|\uFFFD/g;function pa(e){return(typeof e=="string"?e:""+e).replace(Td,`
`).replace(_d,"")}function fl(e,t,n){if(t=pa(t),pa(e)!==t&&n)throw Error(o(425))}function pl(){}var As=null,Fs=null;function qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bs=typeof setTimeout=="function"?setTimeout:void 0,Od=typeof clearTimeout=="function"?clearTimeout:void 0,ha=typeof Promise=="function"?Promise:void 0,Ld=typeof queueMicrotask=="function"?queueMicrotask:typeof ha<"u"?function(e){return ha.resolve(null).then(e).catch(Rd)}:bs;function Rd(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);hr(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ma(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+bn,Mr="__reactProps$"+bn,Ut="__reactContainer$"+bn,Hs="__reactEvents$"+bn,Id="__reactListeners$"+bn,Dd="__reactHandles$"+bn;function wn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ma(e);e!==null;){if(n=e[Ft])return n;e=ma(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[Ft]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function hl(e){return e[Mr]||null}var Us=[],Hn=-1;function on(e){return{current:e}}function Oe(e){0>Hn||(e.current=Us[Hn],Us[Hn]=null,Hn--)}function Te(e,t){Hn++,Us[Hn]=e.current,e.current=t}var an={},Ze=on(an),ot=on(!1),Sn=an;function Un(e,t){var n=e.type.contextTypes;if(!n)return an;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function at(e){return e=e.childContextTypes,e!=null}function ml(){Oe(ot),Oe(Ze)}function va(e,t,n){if(Ze.current!==an)throw Error(o(168));Te(Ze,t),Te(ot,n)}function ga(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(o(108,ye(e)||"Unknown",l));return $({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Sn=Ze.current,Te(Ze,e),Te(ot,ot.current),!0}function ya(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ga(e,t,Sn),r.__reactInternalMemoizedMergedChildContext=e,Oe(ot),Oe(Ze),Te(Ze,e)):Oe(ot),Te(ot,n)}var Wt=null,gl=!1,Ws=!1;function xa(e){Wt===null?Wt=[e]:Wt.push(e)}function zd(e){gl=!0,xa(e)}function un(){if(!Ws&&Wt!==null){Ws=!0;var e=0,t=je;try{var n=Wt;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,gl=!1}catch(l){throw Wt!==null&&(Wt=Wt.slice(e+1)),So(fs,un),l}finally{je=t,Ws=!1}}return null}var Wn=[],Vn=0,yl=null,xl=0,St=[],kt=0,kn=null,Vt=1,$t="";function jn(e,t){Wn[Vn++]=xl,Wn[Vn++]=yl,yl=e,xl=t}function wa(e,t,n){St[kt++]=Vt,St[kt++]=$t,St[kt++]=kn,kn=e;var r=Vt;e=$t;var l=32-Tt(r)-1;r&=~(1<<l),n+=1;var s=32-Tt(t)+l;if(30<s){var c=l-l%5;s=(r&(1<<c)-1).toString(32),r>>=c,l-=c,Vt=1<<32-Tt(t)+l|n<<l|r,$t=s+e}else Vt=1<<s|n<<l|r,$t=e}function Vs(e){e.return!==null&&(jn(e,1),wa(e,1,0))}function $s(e){for(;e===yl;)yl=Wn[--Vn],Wn[Vn]=null,xl=Wn[--Vn],Wn[Vn]=null;for(;e===kn;)kn=St[--kt],St[kt]=null,$t=St[--kt],St[kt]=null,Vt=St[--kt],St[kt]=null}var vt=null,gt=null,Re=!1,Ot=null;function Sa(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ka(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:Vt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(Re){var t=gt;if(t){var n=t;if(!ka(e,t)){if(Gs(e))throw Error(o(418));t=sn(n.nextSibling);var r=vt;t&&ka(e,t)?Sa(r,n):(e.flags=e.flags&-4097|2,Re=!1,vt=e)}}else{if(Gs(e))throw Error(o(418));e.flags=e.flags&-4097|2,Re=!1,vt=e}}}function ja(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function wl(e){if(e!==vt)return!1;if(!Re)return ja(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qs(e.type,e.memoizedProps)),t&&(t=gt)){if(Gs(e))throw Ea(),Error(o(418));for(;t;)Sa(e,t),t=sn(t.nextSibling)}if(ja(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?sn(e.stateNode.nextSibling):null;return!0}function Ea(){for(var e=gt;e;)e=sn(e.nextSibling)}function $n(){gt=vt=null,Re=!1}function Ks(e){Ot===null?Ot=[e]:Ot.push(e)}var Ad=b.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(c){var m=l.refs;c===null?delete m[s]:m[s]=c},t._stringRef=s,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ma(e){var t=e._init;return t(e._payload)}function Ca(e){function t(M,w){if(e){var N=M.deletions;N===null?(M.deletions=[w],M.flags|=16):N.push(w)}}function n(M,w){if(!e)return null;for(;w!==null;)t(M,w),w=w.sibling;return null}function r(M,w){for(M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function l(M,w){return M=gn(M,w),M.index=0,M.sibling=null,M}function s(M,w,N){return M.index=N,e?(N=M.alternate,N!==null?(N=N.index,N<w?(M.flags|=2,w):N):(M.flags|=2,w)):(M.flags|=1048576,w)}function c(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,w,N,B){return w===null||w.tag!==6?(w=bi(N,M.mode,B),w.return=M,w):(w=l(w,N),w.return=M,w)}function v(M,w,N,B){var ne=N.type;return ne===A?F(M,w,N.props.children,B,N.key):w!==null&&(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&Ma(ne)===w.type)?(B=l(w,N.props),B.ref=Nr(M,w,N),B.return=M,B):(B=Vl(N.type,N.key,N.props,null,M.mode,B),B.ref=Nr(M,w,N),B.return=M,B)}function _(M,w,N,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Bi(N,M.mode,B),w.return=M,w):(w=l(w,N.children||[]),w.return=M,w)}function F(M,w,N,B,ne){return w===null||w.tag!==7?(w=On(N,M.mode,B,ne),w.return=M,w):(w=l(w,N),w.return=M,w)}function q(M,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bi(""+w,M.mode,N),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Q:return N=Vl(w.type,w.key,w.props,null,M.mode,N),N.ref=Nr(M,null,w),N.return=M,N;case j:return w=Bi(w,M.mode,N),w.return=M,w;case ce:var B=w._init;return q(M,B(w._payload),N)}if(wt(w)||te(w))return w=On(w,M.mode,N,null),w.return=M,w;Sl(M,w)}return null}function z(M,w,N,B){var ne=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ne!==null?null:m(M,w,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return N.key===ne?v(M,w,N,B):null;case j:return N.key===ne?_(M,w,N,B):null;case ce:return ne=N._init,z(M,w,ne(N._payload),B)}if(wt(N)||te(N))return ne!==null?null:F(M,w,N,B,null);Sl(M,N)}return null}function G(M,w,N,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number")return M=M.get(N)||null,m(w,M,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return M=M.get(B.key===null?N:B.key)||null,v(w,M,B,ne);case j:return M=M.get(B.key===null?N:B.key)||null,_(w,M,B,ne);case ce:var re=B._init;return G(M,w,N,re(B._payload),ne)}if(wt(B)||te(B))return M=M.get(N)||null,F(w,M,B,ne,null);Sl(w,B)}return null}function Y(M,w,N,B){for(var ne=null,re=null,le=w,se=w=0,Ge=null;le!==null&&se<N.length;se++){le.index>se?(Ge=le,le=null):Ge=le.sibling;var Se=z(M,le,N[se],B);if(Se===null){le===null&&(le=Ge);break}e&&le&&Se.alternate===null&&t(M,le),w=s(Se,w,se),re===null?ne=Se:re.sibling=Se,re=Se,le=Ge}if(se===N.length)return n(M,le),Re&&jn(M,se),ne;if(le===null){for(;se<N.length;se++)le=q(M,N[se],B),le!==null&&(w=s(le,w,se),re===null?ne=le:re.sibling=le,re=le);return Re&&jn(M,se),ne}for(le=r(M,le);se<N.length;se++)Ge=G(le,M,se,N[se],B),Ge!==null&&(e&&Ge.alternate!==null&&le.delete(Ge.key===null?se:Ge.key),w=s(Ge,w,se),re===null?ne=Ge:re.sibling=Ge,re=Ge);return e&&le.forEach(function(yn){return t(M,yn)}),Re&&jn(M,se),ne}function J(M,w,N,B){var ne=te(N);if(typeof ne!="function")throw Error(o(150));if(N=ne.call(N),N==null)throw Error(o(151));for(var re=ne=null,le=w,se=w=0,Ge=null,Se=N.next();le!==null&&!Se.done;se++,Se=N.next()){le.index>se?(Ge=le,le=null):Ge=le.sibling;var yn=z(M,le,Se.value,B);if(yn===null){le===null&&(le=Ge);break}e&&le&&yn.alternate===null&&t(M,le),w=s(yn,w,se),re===null?ne=yn:re.sibling=yn,re=yn,le=Ge}if(Se.done)return n(M,le),Re&&jn(M,se),ne;if(le===null){for(;!Se.done;se++,Se=N.next())Se=q(M,Se.value,B),Se!==null&&(w=s(Se,w,se),re===null?ne=Se:re.sibling=Se,re=Se);return Re&&jn(M,se),ne}for(le=r(M,le);!Se.done;se++,Se=N.next())Se=G(le,M,se,Se.value,B),Se!==null&&(e&&Se.alternate!==null&&le.delete(Se.key===null?se:Se.key),w=s(Se,w,se),re===null?ne=Se:re.sibling=Se,re=Se);return e&&le.forEach(function(gf){return t(M,gf)}),Re&&jn(M,se),ne}function qe(M,w,N,B){if(typeof N=="object"&&N!==null&&N.type===A&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:e:{for(var ne=N.key,re=w;re!==null;){if(re.key===ne){if(ne=N.type,ne===A){if(re.tag===7){n(M,re.sibling),w=l(re,N.props.children),w.return=M,M=w;break e}}else if(re.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&Ma(ne)===re.type){n(M,re.sibling),w=l(re,N.props),w.ref=Nr(M,re,N),w.return=M,M=w;break e}n(M,re);break}else t(M,re);re=re.sibling}N.type===A?(w=On(N.props.children,M.mode,B,N.key),w.return=M,M=w):(B=Vl(N.type,N.key,N.props,null,M.mode,B),B.ref=Nr(M,w,N),B.return=M,M=B)}return c(M);case j:e:{for(re=N.key;w!==null;){if(w.key===re)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(M,w.sibling),w=l(w,N.children||[]),w.return=M,M=w;break e}else{n(M,w);break}else t(M,w);w=w.sibling}w=Bi(N,M.mode,B),w.return=M,M=w}return c(M);case ce:return re=N._init,qe(M,w,re(N._payload),B)}if(wt(N))return Y(M,w,N,B);if(te(N))return J(M,w,N,B);Sl(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(M,w.sibling),w=l(w,N),w.return=M,M=w):(n(M,w),w=bi(N,M.mode,B),w.return=M,M=w),c(M)):n(M,w)}return qe}var Gn=Ca(!0),Na=Ca(!1),kl=on(null),jl=null,Qn=null,Xs=null;function Ys(){Xs=Qn=jl=null}function Zs(e){var t=kl.current;Oe(kl),e._currentValue=t}function Js(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){jl=e,Xs=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ut=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Xs!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(jl===null)throw Error(o(308));Qn=e,jl.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var En=null;function ei(e){En===null?En=[e]:En.push(e)}function Pa(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ei(t)):(n.next=l.next,l.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Gt(e,n)}return l=r.interleaved,l===null?(t.next=t,ei(r)):(t.next=l.next,l.next=t),r.interleaved=t,Gt(e,n)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ms(e,n)}}function _a(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=c:s=s.next=c,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ml(e,t,n,r){var l=e.updateQueue;cn=!1;var s=l.firstBaseUpdate,c=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var v=m,_=v.next;v.next=null,c===null?s=_:c.next=_,c=v;var F=e.alternate;F!==null&&(F=F.updateQueue,m=F.lastBaseUpdate,m!==c&&(m===null?F.firstBaseUpdate=_:m.next=_,F.lastBaseUpdate=v))}if(s!==null){var q=l.baseState;c=0,F=_=v=null,m=s;do{var z=m.lane,G=m.eventTime;if((r&z)===z){F!==null&&(F=F.next={eventTime:G,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Y=e,J=m;switch(z=t,G=n,J.tag){case 1:if(Y=J.payload,typeof Y=="function"){q=Y.call(G,q,z);break e}q=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=J.payload,z=typeof Y=="function"?Y.call(G,q,z):Y,z==null)break e;q=$({},q,z);break e;case 2:cn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,z=l.effects,z===null?l.effects=[m]:z.push(m))}else G={eventTime:G,lane:z,tag:m.tag,payload:m.payload,callback:m.callback,next:null},F===null?(_=F=G,v=q):F=F.next=G,c|=z;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;z=m,m=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);if(F===null&&(v=q),l.baseState=v,l.firstBaseUpdate=_,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do c|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Nn|=c,e.lanes=c,e.memoizedState=q}}function Oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(o(191,l));l.call(r)}}}var Pr={},qt=on(Pr),Tr=on(Pr),_r=on(Pr);function Mn(e){if(e===Pr)throw Error(o(174));return e}function ni(e,t){switch(Te(_r,t),Te(Tr,e),Te(qt,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ht(t,e)}Oe(qt),Te(qt,t)}function Xn(){Oe(qt),Oe(Tr),Oe(_r)}function La(e){Mn(_r.current);var t=Mn(qt.current),n=ht(t,e.type);t!==n&&(Te(Tr,e),Te(qt,n))}function ri(e){Tr.current===e&&(Oe(qt),Oe(Tr))}var Ie=on(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function si(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var Nl=b.ReactCurrentDispatcher,ii=b.ReactCurrentBatchConfig,Cn=0,De=null,He=null,Ve=null,Pl=!1,Or=!1,Lr=0,Fd=0;function Je(){throw Error(o(321))}function oi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function ai(e,t,n,r,l,s){if(Cn=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?Hd:Ud,e=n(r,l),Or){s=0;do{if(Or=!1,Lr=0,25<=s)throw Error(o(301));s+=1,Ve=He=null,t.updateQueue=null,Nl.current=Wd,e=n(r,l)}while(Or)}if(Nl.current=Ol,t=He!==null&&He.next!==null,Cn=0,Ve=He=De=null,Pl=!1,t)throw Error(o(300));return e}function ui(){var e=Lr!==0;return Lr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?De.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Et(){if(He===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ve===null?De.memoizedState:Ve.next;if(t!==null)Ve=t,He=e;else{if(e===null)throw Error(o(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ve===null?De.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Rr(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=Et(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=He,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var c=l.next;l.next=s.next,s.next=c}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var m=c=null,v=null,_=s;do{var F=_.lane;if((Cn&F)===F)v!==null&&(v=v.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var q={lane:F,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};v===null?(m=v=q,c=r):v=v.next=q,De.lanes|=F,Nn|=F}_=_.next}while(_!==null&&_!==s);v===null?c=r:v.next=m,_t(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,De.lanes|=s,Nn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function di(e){var t=Et(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var c=l=l.next;do s=e(s,c.action),c=c.next;while(c!==l);_t(s,t.memoizedState)||(ut=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ra(){}function Ia(e,t){var n=De,r=Et(),l=t(),s=!_t(r.memoizedState,l);if(s&&(r.memoizedState=l,ut=!0),r=r.queue,fi(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ir(9,za.bind(null,n,r,l,t),void 0,null),$e===null)throw Error(o(349));(Cn&30)!==0||Da(n,t,l)}return l}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function za(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&qa(e)}function Aa(e,t,n){return n(function(){Fa(t)&&qa(e)})}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function qa(e){var t=Gt(e,1);t!==null&&Dt(t,e,1,-1)}function ba(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t.queue=e,e=e.dispatch=Bd.bind(null,De,e),[t.memoizedState,e]}function Ir(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ba(){return Et().memoizedState}function Tl(e,t,n,r){var l=bt();De.flags|=e,l.memoizedState=Ir(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var l=Et();r=r===void 0?null:r;var s=void 0;if(He!==null){var c=He.memoizedState;if(s=c.destroy,r!==null&&oi(r,c.deps)){l.memoizedState=Ir(t,n,s,r);return}}De.flags|=e,l.memoizedState=Ir(1|t,n,s,r)}function Ha(e,t){return Tl(8390656,8,e,t)}function fi(e,t){return _l(2048,8,e,t)}function Ua(e,t){return _l(4,2,e,t)}function Wa(e,t){return _l(4,4,e,t)}function Va(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $a(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,Va.bind(null,t,e),n)}function pi(){}function Ga(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return(Cn&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n):(_t(n,t)||(n=Mo(),De.lanes|=n,Nn|=n,e.baseState=!0),t)}function qd(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=ii.transition;ii.transition={};try{e(!1),t()}finally{je=n,ii.transition=r}}function Xa(){return Et().memoizedState}function bd(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Za(t,n);else if(n=Pa(e,t,n,r),n!==null){var l=st();Dt(n,e,r,l),Ja(n,t,r)}}function Bd(e,t,n){var r=mn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Za(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,m=s(c,n);if(l.hasEagerState=!0,l.eagerState=m,_t(m,c)){var v=t.interleaved;v===null?(l.next=l,ei(t)):(l.next=v.next,v.next=l),t.interleaved=l;return}}catch{}finally{}n=Pa(e,t,l,r),n!==null&&(l=st(),Dt(n,e,r,l),Ja(n,t,r))}}function Ya(e){var t=e.alternate;return e===De||t!==null&&t===De}function Za(e,t){Or=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ms(e,n)}}var Ol={readContext:jt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Hd={readContext:jt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tl(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bd.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:ba,useDebugValue:pi,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=ba(!1),t=e[0];return e=qd.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,l=bt();if(Re){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),$e===null)throw Error(o(349));(Cn&30)!==0||Da(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Ha(Aa.bind(null,r,s,e),[e]),r.flags|=2048,Ir(9,za.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bt(),t=$e.identifierPrefix;if(Re){var n=$t,r=Vt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ud={readContext:jt,useCallback:Ga,useContext:jt,useEffect:fi,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:Wa,useMemo:Qa,useReducer:ci,useRef:Ba,useState:function(){return ci(Rr)},useDebugValue:pi,useDeferredValue:function(e){var t=Et();return Ka(t,He.memoizedState,e)},useTransition:function(){var e=ci(Rr)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Ra,useSyncExternalStore:Ia,useId:Xa,unstable_isNewReconciler:!1},Wd={readContext:jt,useCallback:Ga,useContext:jt,useEffect:fi,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:Wa,useMemo:Qa,useReducer:di,useRef:Ba,useState:function(){return di(Rr)},useDebugValue:pi,useDeferredValue:function(e){var t=Et();return He===null?t.memoizedState=e:Ka(t,He.memoizedState,e)},useTransition:function(){var e=di(Rr)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Ra,useSyncExternalStore:Ia,useId:Xa,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ll={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),l=mn(e),s=Qt(r,l);s.payload=t,n!=null&&(s.callback=n),t=dn(e,s,l),t!==null&&(Dt(t,e,l,r),El(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),l=mn(e),s=Qt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=dn(e,s,l),t!==null&&(Dt(t,e,l,r),El(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=mn(e),l=Qt(n,r);l.tag=2,t!=null&&(l.callback=t),t=dn(e,l,r),t!==null&&(Dt(t,e,r,n),El(t,e,r))}};function eu(e,t,n,r,l,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,c):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(l,s):!0}function tu(e,t,n){var r=!1,l=an,s=t.contextType;return typeof s=="object"&&s!==null?s=jt(s):(l=at(t)?Sn:Ze.current,r=t.contextTypes,s=(r=r!=null)?Un(e,l):an),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ll,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function nu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ll.enqueueReplaceState(t,t.state,null)}function mi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ti(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=jt(s):(s=at(t)?Sn:Ze.current,l.context=Un(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hi(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ll.enqueueReplaceState(l,l.state,null),Ml(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var n="",r=t;do n+=he(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vd=typeof WeakMap=="function"?WeakMap:Map;function ru(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Li=r),gi(e,t)},n}function lu(e,t,n){n=Qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){gi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gi(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function su(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=sf.bind(null,e,t,n),t.then(e,e))}function iu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var $d=b.ReactCurrentOwner,ut=!1;function lt(e,t,n,r){t.child=e===null?Na(t,null,n,r):Gn(t,e.child,n,r)}function au(e,t,n,r,l){n=n.render;var s=t.ref;return Kn(t,l),r=ai(e,t,n,r,s,l),n=ui(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):(Re&&n&&Vs(t),t.flags|=1,lt(e,t,r,l),t.child)}function uu(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!qi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,cu(e,t,s,r,l)):(e=Vl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&l)===0){var c=s.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(c,r)&&e.ref===t.ref)return Kt(e,t,l)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function cu(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(wr(s,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=s,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Kt(e,t,l)}return yi(e,t,n,r,l)}function du(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Jn,yt),yt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Jn,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Jn,yt),yt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Te(Jn,yt),yt|=r;return lt(e,t,l,n),t.child}function fu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yi(e,t,n,r,l){var s=at(n)?Sn:Ze.current;return s=Un(t,s),Kn(t,l),n=ai(e,t,n,r,s,l),r=ui(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):(Re&&r&&Vs(t),t.flags|=1,lt(e,t,n,l),t.child)}function pu(e,t,n,r,l){if(at(n)){var s=!0;vl(t)}else s=!1;if(Kn(t,l),t.stateNode===null)Il(e,t),tu(t,n,r),mi(t,n,r,l),r=!0;else if(e===null){var c=t.stateNode,m=t.memoizedProps;c.props=m;var v=c.context,_=n.contextType;typeof _=="object"&&_!==null?_=jt(_):(_=at(n)?Sn:Ze.current,_=Un(t,_));var F=n.getDerivedStateFromProps,q=typeof F=="function"||typeof c.getSnapshotBeforeUpdate=="function";q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==r||v!==_)&&nu(t,c,r,_),cn=!1;var z=t.memoizedState;c.state=z,Ml(t,r,c,l),v=t.memoizedState,m!==r||z!==v||ot.current||cn?(typeof F=="function"&&(hi(t,n,F,r),v=t.memoizedState),(m=cn||eu(t,n,m,r,z,v,_))?(q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),c.props=r,c.state=v,c.context=_,r=m):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Ta(e,t),m=t.memoizedProps,_=t.type===t.elementType?m:Lt(t.type,m),c.props=_,q=t.pendingProps,z=c.context,v=n.contextType,typeof v=="object"&&v!==null?v=jt(v):(v=at(n)?Sn:Ze.current,v=Un(t,v));var G=n.getDerivedStateFromProps;(F=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==q||z!==v)&&nu(t,c,r,v),cn=!1,z=t.memoizedState,c.state=z,Ml(t,r,c,l);var Y=t.memoizedState;m!==q||z!==Y||ot.current||cn?(typeof G=="function"&&(hi(t,n,G,r),Y=t.memoizedState),(_=cn||eu(t,n,_,r,z,Y,v)||!1)?(F||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Y),c.props=r,c.state=Y,c.context=v,r=_):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return xi(e,t,n,r,s,l)}function xi(e,t,n,r,l,s){fu(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return l&&ya(t,n,!1),Kt(e,t,s);r=t.stateNode,$d.current=t;var m=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Gn(t,e.child,null,s),t.child=Gn(t,null,m,s)):lt(e,t,m,s),t.memoizedState=r.state,l&&ya(t,n,!0),t.child}function hu(e){var t=e.stateNode;t.pendingContext?va(e,t.pendingContext,t.pendingContext!==t.context):t.context&&va(e,t.context,!1),ni(e,t.containerInfo)}function mu(e,t,n,r,l){return $n(),Ks(l),t.flags|=256,lt(e,t,n,r),t.child}var wi={dehydrated:null,treeContext:null,retryLane:0};function Si(e){return{baseLanes:e,cachePool:null,transitions:null}}function vu(e,t,n){var r=t.pendingProps,l=Ie.current,s=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Te(Ie,l&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(c=r.children,e=r.fallback,s?(r=t.mode,s=t.child,c={mode:"hidden",children:c},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=c):s=$l(c,r,0,null),e=On(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Si(n),t.memoizedState=wi,e):ki(t,c));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return Gd(e,t,c,r,m,l,n);if(s){s=r.fallback,c=t.mode,l=e.child,m=l.sibling;var v={mode:"hidden",children:r.children};return(c&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=gn(l,v),r.subtreeFlags=l.subtreeFlags&14680064),m!==null?s=gn(m,s):(s=On(s,c,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,c=e.child.memoizedState,c=c===null?Si(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=wi,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ki(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rl(e,t,n,r){return r!==null&&Ks(r),Gn(t,e.child,null,n),e=ki(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gd(e,t,n,r,l,s,c){if(n)return t.flags&256?(t.flags&=-257,r=vi(Error(o(422))),Rl(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=$l({mode:"visible",children:r.children},l,0,null),s=On(s,l,c,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Gn(t,e.child,null,c),t.child.memoizedState=Si(c),t.memoizedState=wi,s);if((t.mode&1)===0)return Rl(e,t,c,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var m=r.dgst;return r=m,s=Error(o(419)),r=vi(s,r,void 0),Rl(e,t,c,r)}if(m=(c&e.childLanes)!==0,ut||m){if(r=$e,r!==null){switch(c&-c){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|c))!==0?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Gt(e,l),Dt(r,e,l,-1))}return Fi(),r=vi(Error(o(421))),Rl(e,t,c,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=of.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,gt=sn(l.nextSibling),vt=t,Re=!0,Ot=null,e!==null&&(St[kt++]=Vt,St[kt++]=$t,St[kt++]=kn,Vt=e.id,$t=e.overflow,kn=t),t=ki(t,r.children),t.flags|=4096,t)}function gu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Js(e.return,t,n)}function ji(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function yu(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(lt(e,t,r.children,n),r=Ie.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gu(e,n,t);else if(e.tag===19)gu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Ie,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ji(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ji(t,!0,n,null,s);break;case"together":ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Il(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qd(e,t,n){switch(t.tag){case 3:hu(t),$n();break;case 5:La(t);break;case 1:at(t.type)&&vl(t);break;case 4:ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Te(kl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Ie,Ie.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?vu(e,t,n):(Te(Ie,Ie.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);Te(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return yu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Te(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,du(e,t,n)}return Kt(e,t,n)}var xu,Ei,wu,Su;xu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ei=function(){},wu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Mn(qt.current);var s=null;switch(n){case"input":l=Ye(e,l),r=Ye(e,r),s=[];break;case"select":l=$({},l,{value:void 0}),r=$({},r,{value:void 0}),s=[];break;case"textarea":l=Me(e,l),r=Me(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}ls(n,r);var c;n=null;for(_ in l)if(!r.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var m=l[_];for(c in m)m.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(p.hasOwnProperty(_)?s||(s=[]):(s=s||[]).push(_,null));for(_ in r){var v=r[_];if(m=l?.[_],r.hasOwnProperty(_)&&v!==m&&(v!=null||m!=null))if(_==="style")if(m){for(c in m)!m.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in v)v.hasOwnProperty(c)&&m[c]!==v[c]&&(n||(n={}),n[c]=v[c])}else n||(s||(s=[]),s.push(_,n)),n=v;else _==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,m=m?m.__html:void 0,v!=null&&m!==v&&(s=s||[]).push(_,v)):_==="children"?typeof v!="string"&&typeof v!="number"||(s=s||[]).push(_,""+v):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(p.hasOwnProperty(_)?(v!=null&&_==="onScroll"&&_e("scroll",e),s||m===v||(s=[])):(s=s||[]).push(_,v))}n&&(s=s||[]).push("style",n);var _=s;(t.updateQueue=_)&&(t.flags|=4)}},Su=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dr(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kd(e,t,n){var r=t.pendingProps;switch($s(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return at(t.type)&&ml(),et(t),null;case 3:return r=t.stateNode,Xn(),Oe(ot),Oe(Ze),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ot!==null&&(Di(Ot),Ot=null))),Ei(e,t),et(t),null;case 5:ri(t);var l=Mn(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)wu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(e=Mn(qt.current),wl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ft]=t,r[Mr]=s,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(l=0;l<kr.length;l++)_e(kr[l],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Nt(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":pt(r,s),_e("invalid",r)}ls(n,s),l=null;for(var c in s)if(s.hasOwnProperty(c)){var m=s[c];c==="children"?typeof m=="string"?r.textContent!==m&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,m,e),l=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,m,e),l=["children",""+m]):p.hasOwnProperty(c)&&m!=null&&c==="onScroll"&&_e("scroll",r)}switch(n){case"input":oe(r),nr(r,s,!0);break;case"textarea":oe(r),me(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Ft]=t,e[Mr]=r,xu(e,t,!1,!1),t.stateNode=e;e:{switch(c=ss(n,r),n){case"dialog":_e("cancel",e),_e("close",e),l=r;break;case"iframe":case"object":case"embed":_e("load",e),l=r;break;case"video":case"audio":for(l=0;l<kr.length;l++)_e(kr[l],e);l=r;break;case"source":_e("error",e),l=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),l=r;break;case"details":_e("toggle",e),l=r;break;case"input":Nt(e,r),l=Ye(e,r),_e("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=$({},r,{value:void 0}),_e("invalid",e);break;case"textarea":pt(e,r),l=Me(e,r),_e("invalid",e);break;default:l=r}ls(n,l),m=l;for(s in m)if(m.hasOwnProperty(s)){var v=m[s];s==="style"?uo(e,v):s==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&rt(e,v)):s==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&zt(e,v):typeof v=="number"&&zt(e,""+v):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(p.hasOwnProperty(s)?v!=null&&s==="onScroll"&&_e("scroll",e):v!=null&&W(e,s,v,c))}switch(n){case"input":oe(e),nr(e,r,!1);break;case"textarea":oe(e),me(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fe(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Le(e,!!r.multiple,s,!1):r.defaultValue!=null&&Le(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Su(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=Mn(_r.current),Mn(qt.current),wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(s=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return et(t),null;case 13:if(Oe(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ea(),$n(),t.flags|=98560,s=!1;else if(s=wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Ft]=t}else $n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),s=!1}else Ot!==null&&(Di(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Ue===0&&(Ue=3):Fi())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Xn(),Ei(e,t),e===null&&jr(t.stateNode.containerInfo),et(t),null;case 10:return Zs(t.type._context),et(t),null;case 17:return at(t.type)&&ml(),et(t),null;case 19:if(Oe(Ie),s=t.memoizedState,s===null)return et(t),null;if(r=(t.flags&128)!==0,c=s.rendering,c===null)if(r)Dr(s,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Cl(e),c!==null){for(t.flags|=128,Dr(s,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fe()>er&&(t.flags|=128,r=!0,Dr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Re)return et(t),null}else 2*Fe()-s.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,r=!0,Dr(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(n=s.last,n!==null?n.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fe(),t.sibling=null,n=Ie.current,Te(Ie,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Ai(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(yt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Xd(e,t){switch($s(t),t.tag){case 1:return at(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),Oe(ot),Oe(Ze),si(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ri(t),null;case 13:if(Oe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ie),null;case 4:return Xn(),null;case 10:return Zs(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var Dl=!1,tt=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,X=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Mi(e,t,n){try{n()}catch(r){ze(e,t,r)}}var ku=!1;function Zd(e,t){if(As=tl,e=ea(),Ts(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var c=0,m=-1,v=-1,_=0,F=0,q=e,z=null;t:for(;;){for(var G;q!==n||l!==0&&q.nodeType!==3||(m=c+l),q!==s||r!==0&&q.nodeType!==3||(v=c+r),q.nodeType===3&&(c+=q.nodeValue.length),(G=q.firstChild)!==null;)z=q,q=G;for(;;){if(q===e)break t;if(z===n&&++_===l&&(m=c),z===s&&++F===r&&(v=c),(G=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=G}n=m===-1||v===-1?null:{start:m,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fs={focusedElem:e,selectionRange:n},tl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var J=Y.memoizedProps,qe=Y.memoizedState,M=t.stateNode,w=M.getSnapshotBeforeUpdate(t.elementType===t.type?J:Lt(t.type,J),qe);M.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){ze(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Y=ku,ku=!1,Y}function zr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Mi(t,n,s)}l=l.next}while(l!==r)}}function zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ci(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ju(e){var t=e.alternate;t!==null&&(e.alternate=null,ju(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Mr],delete t[Hs],delete t[Id],delete t[Dd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eu(e){return e.tag===5||e.tag===3||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ni(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Ni(e,t,n),e=e.sibling;e!==null;)Ni(e,t,n),e=e.sibling}function Pi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pi(e,t,n),e=e.sibling;e!==null;)Pi(e,t,n),e=e.sibling}var Qe=null,Rt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Cu(e,t,n),n=n.sibling}function Cu(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:tt||Zn(n,t);case 6:var r=Qe,l=Rt;Qe=null,fn(e,t,n),Qe=r,Rt=l,Qe!==null&&(Rt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Rt?(e=Qe,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),hr(e)):Bs(Qe,n.stateNode));break;case 4:r=Qe,l=Rt,Qe=n.stateNode.containerInfo,Rt=!0,fn(e,t,n),Qe=r,Rt=l;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,c=s.destroy;s=s.tag,c!==void 0&&((s&2)!==0||(s&4)!==0)&&Mi(n,t,c),l=l.next}while(l!==r)}fn(e,t,n);break;case 1:if(!tt&&(Zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){ze(n,t,m)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,fn(e,t,n),tt=r):fn(e,t,n);break;default:fn(e,t,n)}}function Nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yd),t.forEach(function(r){var l=af.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,c=t,m=c;e:for(;m!==null;){switch(m.tag){case 5:Qe=m.stateNode,Rt=!1;break e;case 3:Qe=m.stateNode.containerInfo,Rt=!0;break e;case 4:Qe=m.stateNode.containerInfo,Rt=!0;break e}m=m.return}if(Qe===null)throw Error(o(160));Cu(s,c,l),Qe=null,Rt=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(_){ze(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Bt(e),r&4){try{zr(3,e,e.return),zl(3,e)}catch(J){ze(e,e.return,J)}try{zr(5,e,e.return)}catch(J){ze(e,e.return,J)}}break;case 1:It(t,e),Bt(e),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(It(t,e),Bt(e),r&512&&n!==null&&Zn(n,n.return),e.flags&32){var l=e.stateNode;try{zt(l,"")}catch(J){ze(e,e.return,J)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,c=n!==null?n.memoizedProps:s,m=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{m==="input"&&s.type==="radio"&&s.name!=null&&Yt(l,s),ss(m,c);var _=ss(m,s);for(c=0;c<v.length;c+=2){var F=v[c],q=v[c+1];F==="style"?uo(l,q):F==="dangerouslySetInnerHTML"?rt(l,q):F==="children"?zt(l,q):W(l,F,q,_)}switch(m){case"input":Zt(l,s);break;case"textarea":Ht(l,s);break;case"select":var z=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var G=s.value;G!=null?Le(l,!!s.multiple,G,!1):z!==!!s.multiple&&(s.defaultValue!=null?Le(l,!!s.multiple,s.defaultValue,!0):Le(l,!!s.multiple,s.multiple?[]:"",!1))}l[Mr]=s}catch(J){ze(e,e.return,J)}}break;case 6:if(It(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(J){ze(e,e.return,J)}}break;case 3:if(It(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(J){ze(e,e.return,J)}break;case 4:It(t,e),Bt(e);break;case 13:It(t,e),Bt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Oi=Fe())),r&4&&Nu(e);break;case 22:if(F=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(_=tt)||F,It(t,e),tt=_):It(t,e),Bt(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!F&&(e.mode&1)!==0)for(X=e,F=e.child;F!==null;){for(q=X=F;X!==null;){switch(z=X,G=z.child,z.tag){case 0:case 11:case 14:case 15:zr(4,z,z.return);break;case 1:Zn(z,z.return);var Y=z.stateNode;if(typeof Y.componentWillUnmount=="function"){r=z,n=z.return;try{t=r,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(J){ze(r,n,J)}}break;case 5:Zn(z,z.return);break;case 22:if(z.memoizedState!==null){Ou(q);continue}}G!==null?(G.return=z,X=G):Ou(q)}F=F.sibling}e:for(F=null,q=e;;){if(q.tag===5){if(F===null){F=q;try{l=q.stateNode,_?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(m=q.stateNode,v=q.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,m.style.display=ao("display",c))}catch(J){ze(e,e.return,J)}}}else if(q.tag===6){if(F===null)try{q.stateNode.nodeValue=_?"":q.memoizedProps}catch(J){ze(e,e.return,J)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;F===q&&(F=null),q=q.return}F===q&&(F=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:It(t,e),Bt(e),r&4&&Nu(e);break;case 21:break;default:It(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Eu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(zt(l,""),r.flags&=-33);var s=Mu(e);Pi(e,s,l);break;case 3:case 4:var c=r.stateNode.containerInfo,m=Mu(e);Ni(e,m,c);break;default:throw Error(o(161))}}catch(v){ze(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jd(e,t,n){X=e,Tu(e)}function Tu(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var l=X,s=l.child;if(l.tag===22&&r){var c=l.memoizedState!==null||Dl;if(!c){var m=l.alternate,v=m!==null&&m.memoizedState!==null||tt;m=Dl;var _=tt;if(Dl=c,(tt=v)&&!_)for(X=l;X!==null;)c=X,v=c.child,c.tag===22&&c.memoizedState!==null?Lu(l):v!==null?(v.return=c,X=v):Lu(l);for(;s!==null;)X=s,Tu(s),s=s.sibling;X=l,Dl=m,tt=_}_u(e)}else(l.subtreeFlags&8772)!==0&&s!==null?(s.return=l,X=s):_u(e)}}function _u(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Oa(t,s,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oa(t,c,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var F=_.memoizedState;if(F!==null){var q=F.dehydrated;q!==null&&hr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}tt||t.flags&512&&Ci(t)}catch(z){ze(t,t.return,z)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Ou(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Lu(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zl(4,t)}catch(v){ze(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(v){ze(t,l,v)}}var s=t.return;try{Ci(t)}catch(v){ze(t,s,v)}break;case 5:var c=t.return;try{Ci(t)}catch(v){ze(t,c,v)}}}catch(v){ze(t,t.return,v)}if(t===e){X=null;break}var m=t.sibling;if(m!==null){m.return=t.return,X=m;break}X=t.return}}var ef=Math.ceil,Al=b.ReactCurrentDispatcher,Ti=b.ReactCurrentOwner,Mt=b.ReactCurrentBatchConfig,xe=0,$e=null,be=null,Ke=0,yt=0,Jn=on(0),Ue=0,Ar=null,Nn=0,Fl=0,_i=0,Fr=null,ct=null,Oi=0,er=1/0,Xt=null,ql=!1,Li=null,pn=null,bl=!1,hn=null,Bl=0,qr=0,Ri=null,Hl=-1,Ul=0;function st(){return(xe&6)!==0?Fe():Hl!==-1?Hl:Hl=Fe()}function mn(e){return(e.mode&1)===0?1:(xe&2)!==0&&Ke!==0?Ke&-Ke:Ad.transition!==null?(Ul===0&&(Ul=Mo()),Ul):(e=je,e!==0||(e=window.event,e=e===void 0?16:Io(e.type)),e)}function Dt(e,t,n,r){if(50<qr)throw qr=0,Ri=null,Error(o(185));ur(e,n,r),((xe&2)===0||e!==$e)&&(e===$e&&((xe&2)===0&&(Fl|=n),Ue===4&&vn(e,Ke)),dt(e,r),n===1&&xe===0&&(t.mode&1)===0&&(er=Fe()+500,gl&&un()))}function dt(e,t){var n=e.callbackNode;Ac(e,t);var r=Zr(e,e===$e?Ke:0);if(r===0)n!==null&&ko(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ko(n),t===1)e.tag===0?zd(Iu.bind(null,e)):xa(Iu.bind(null,e)),Ld(function(){(xe&6)===0&&un()}),n=null;else{switch(Co(r)){case 1:n=fs;break;case 4:n=jo;break;case 16:n=Qr;break;case 536870912:n=Eo;break;default:n=Qr}n=Hu(n,Ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ru(e,t){if(Hl=-1,Ul=0,(xe&6)!==0)throw Error(o(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=Zr(e,e===$e?Ke:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Wl(e,r);else{t=r;var l=xe;xe|=2;var s=zu();($e!==e||Ke!==t)&&(Xt=null,er=Fe()+500,Tn(e,t));do try{rf();break}catch(m){Du(e,m)}while(!0);Ys(),Al.current=s,xe=l,be!==null?t=0:($e=null,Ke=0,t=Ue)}if(t!==0){if(t===2&&(l=ps(e),l!==0&&(r=l,t=Ii(e,l))),t===1)throw n=Ar,Tn(e,0),vn(e,r),dt(e,Fe()),n;if(t===6)vn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!tf(l)&&(t=Wl(e,r),t===2&&(s=ps(e),s!==0&&(r=s,t=Ii(e,s))),t===1))throw n=Ar,Tn(e,0),vn(e,r),dt(e,Fe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:_n(e,ct,Xt);break;case 3:if(vn(e,r),(r&130023424)===r&&(t=Oi+500-Fe(),10<t)){if(Zr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=bs(_n.bind(null,e,ct,Xt),t);break}_n(e,ct,Xt);break;case 4:if(vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var c=31-Tt(r);s=1<<c,c=t[c],c>l&&(l=c),r&=~s}if(r=l,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ef(r/1960))-r,10<r){e.timeoutHandle=bs(_n.bind(null,e,ct,Xt),r);break}_n(e,ct,Xt);break;case 5:_n(e,ct,Xt);break;default:throw Error(o(329))}}}return dt(e,Fe()),e.callbackNode===n?Ru.bind(null,e):null}function Ii(e,t){var n=Fr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=ct,ct=n,t!==null&&Di(t)),e}function Di(e){ct===null?ct=e:ct.push.apply(ct,e)}function tf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!_t(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~_i,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function Iu(e){if((xe&6)!==0)throw Error(o(327));tr();var t=Zr(e,0);if((t&1)===0)return dt(e,Fe()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=ps(e);r!==0&&(t=r,n=Ii(e,r))}if(n===1)throw n=Ar,Tn(e,0),vn(e,t),dt(e,Fe()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,ct,Xt),dt(e,Fe()),null}function zi(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(er=Fe()+500,gl&&un())}}function Pn(e){hn!==null&&hn.tag===0&&(xe&6)===0&&tr();var t=xe;xe|=1;var n=Mt.transition,r=je;try{if(Mt.transition=null,je=1,e)return e()}finally{je=r,Mt.transition=n,xe=t,(xe&6)===0&&un()}}function Ai(){yt=Jn.current,Oe(Jn)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Od(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch($s(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:Xn(),Oe(ot),Oe(Ze),si();break;case 5:ri(r);break;case 4:Xn();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:Zs(r.type._context);break;case 22:case 23:Ai()}n=n.return}if($e=e,be=e=gn(e.current,null),Ke=yt=t,Ue=0,Ar=null,_i=Fl=Nn=0,ct=Fr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var c=s.next;s.next=l,r.next=c}n.pending=r}En=null}return e}function Du(e,t){do{var n=be;try{if(Ys(),Nl.current=Ol,Pl){for(var r=De.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Pl=!1}if(Cn=0,Ve=He=De=null,Or=!1,Lr=0,Ti.current=null,n===null||n.return===null){Ue=1,Ar=t,be=null;break}e:{var s=e,c=n.return,m=n,v=t;if(t=Ke,m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var _=v,F=m,q=F.tag;if((F.mode&1)===0&&(q===0||q===11||q===15)){var z=F.alternate;z?(F.updateQueue=z.updateQueue,F.memoizedState=z.memoizedState,F.lanes=z.lanes):(F.updateQueue=null,F.memoizedState=null)}var G=iu(c);if(G!==null){G.flags&=-257,ou(G,c,m,s,t),G.mode&1&&su(s,_,t),t=G,v=_;var Y=t.updateQueue;if(Y===null){var J=new Set;J.add(v),t.updateQueue=J}else Y.add(v);break e}else{if((t&1)===0){su(s,_,t),Fi();break e}v=Error(o(426))}}else if(Re&&m.mode&1){var qe=iu(c);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),ou(qe,c,m,s,t),Ks(Yn(v,m));break e}}s=v=Yn(v,m),Ue!==4&&(Ue=2),Fr===null?Fr=[s]:Fr.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var M=ru(s,v,t);_a(s,M);break e;case 1:m=v;var w=s.type,N=s.stateNode;if((s.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(pn===null||!pn.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var B=lu(s,m,t);_a(s,B);break e}}s=s.return}while(s!==null)}Fu(n)}catch(ne){t=ne,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function zu(){var e=Al.current;return Al.current=Ol,e===null?Ol:e}function Fi(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),$e===null||(Nn&268435455)===0&&(Fl&268435455)===0||vn($e,Ke)}function Wl(e,t){var n=xe;xe|=2;var r=zu();($e!==e||Ke!==t)&&(Xt=null,Tn(e,t));do try{nf();break}catch(l){Du(e,l)}while(!0);if(Ys(),xe=n,Al.current=r,be!==null)throw Error(o(261));return $e=null,Ke=0,Ue}function nf(){for(;be!==null;)Au(be)}function rf(){for(;be!==null&&!Pc();)Au(be)}function Au(e){var t=Bu(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Fu(e):be=t,Ti.current=null}function Fu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Kd(n,t,yt),n!==null){be=n;return}}else{if(n=Xd(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,be=null;return}}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ue===0&&(Ue=5)}function _n(e,t,n){var r=je,l=Mt.transition;try{Mt.transition=null,je=1,lf(e,t,n,r)}finally{Mt.transition=l,je=r}return null}function lf(e,t,n,r){do tr();while(hn!==null);if((xe&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fc(e,s),e===$e&&(be=$e=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||bl||(bl=!0,Hu(Qr,function(){return tr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Mt.transition,Mt.transition=null;var c=je;je=1;var m=xe;xe|=4,Ti.current=null,Zd(e,n),Pu(n,e),Ed(Fs),tl=!!As,Fs=As=null,e.current=n,Jd(n),Tc(),xe=m,je=c,Mt.transition=s}else e.current=n;if(bl&&(bl=!1,hn=e,Bl=l),s=e.pendingLanes,s===0&&(pn=null),Lc(n.stateNode),dt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ql)throw ql=!1,e=Li,Li=null,e;return(Bl&1)!==0&&e.tag!==0&&tr(),s=e.pendingLanes,(s&1)!==0?e===Ri?qr++:(qr=0,Ri=e):qr=0,un(),null}function tr(){if(hn!==null){var e=Co(Bl),t=Mt.transition,n=je;try{if(Mt.transition=null,je=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,Bl=0,(xe&6)!==0)throw Error(o(331));var l=xe;for(xe|=4,X=e.current;X!==null;){var s=X,c=s.child;if((X.flags&16)!==0){var m=s.deletions;if(m!==null){for(var v=0;v<m.length;v++){var _=m[v];for(X=_;X!==null;){var F=X;switch(F.tag){case 0:case 11:case 15:zr(8,F,s)}var q=F.child;if(q!==null)q.return=F,X=q;else for(;X!==null;){F=X;var z=F.sibling,G=F.return;if(ju(F),F===_){X=null;break}if(z!==null){z.return=G,X=z;break}X=G}}}var Y=s.alternate;if(Y!==null){var J=Y.child;if(J!==null){Y.child=null;do{var qe=J.sibling;J.sibling=null,J=qe}while(J!==null)}}X=s}}if((s.subtreeFlags&2064)!==0&&c!==null)c.return=s,X=c;else e:for(;X!==null;){if(s=X,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:zr(9,s,s.return)}var M=s.sibling;if(M!==null){M.return=s.return,X=M;break e}X=s.return}}var w=e.current;for(X=w;X!==null;){c=X;var N=c.child;if((c.subtreeFlags&2064)!==0&&N!==null)N.return=c,X=N;else e:for(c=w;X!==null;){if(m=X,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:zl(9,m)}}catch(ne){ze(m,m.return,ne)}if(m===c){X=null;break e}var B=m.sibling;if(B!==null){B.return=m.return,X=B;break e}X=m.return}}if(xe=l,un(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Kr,e)}catch{}r=!0}return r}finally{je=n,Mt.transition=t}}return!1}function qu(e,t,n){t=Yn(n,t),t=ru(e,t,1),e=dn(e,t,1),t=st(),e!==null&&(ur(e,1,t),dt(e,t))}function ze(e,t,n){if(e.tag===3)qu(e,e,n);else for(;t!==null;){if(t.tag===3){qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Yn(n,e),e=lu(t,e,1),t=dn(t,e,1),e=st(),t!==null&&(ur(t,1,e),dt(t,e));break}}t=t.return}}function sf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ke&n)===n&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Fe()-Oi?Tn(e,0):_i|=n),dt(e,t)}function bu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var n=st();e=Gt(e,t),e!==null&&(ur(e,t,n),dt(e,n))}function of(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bu(e,n)}function af(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),bu(e,n)}var Bu;Bu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)ut=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ut=!1,Qd(e,t,n);ut=(e.flags&131072)!==0}else ut=!1,Re&&(t.flags&1048576)!==0&&wa(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Il(e,t),e=t.pendingProps;var l=Un(t,Ze.current);Kn(t,n),l=ai(null,t,r,e,l,n);var s=ui();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(s=!0,vl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ti(t),l.updater=Ll,t.stateNode=l,l._reactInternals=t,mi(t,r,e,n),t=xi(null,t,r,!0,s,n)):(t.tag=0,Re&&s&&Vs(t),lt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Il(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=cf(r),e=Lt(r,e),l){case 0:t=yi(null,t,r,e,n);break e;case 1:t=pu(null,t,r,e,n);break e;case 11:t=au(null,t,r,e,n);break e;case 14:t=uu(null,t,r,Lt(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),yi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),pu(e,t,r,l,n);case 3:e:{if(hu(t),e===null)throw Error(o(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Ta(e,t),Ml(t,r,null,n);var c=t.memoizedState;if(r=c.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Yn(Error(o(423)),t),t=mu(e,t,r,n,l);break e}else if(r!==l){l=Yn(Error(o(424)),t),t=mu(e,t,r,n,l);break e}else for(gt=sn(t.stateNode.containerInfo.firstChild),vt=t,Re=!0,Ot=null,n=Na(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($n(),r===l){t=Kt(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return La(t),e===null&&Qs(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,c=l.children,qs(r,l)?c=null:s!==null&&qs(r,s)&&(t.flags|=32),fu(e,t),lt(e,t,c,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return vu(e,t,n);case 4:return ni(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),au(e,t,r,l,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,c=l.value,Te(kl,r._currentValue),r._currentValue=c,s!==null)if(_t(s.value,c)){if(s.children===l.children&&!ot.current){t=Kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var m=s.dependencies;if(m!==null){c=s.child;for(var v=m.firstContext;v!==null;){if(v.context===r){if(s.tag===1){v=Qt(-1,n&-n),v.tag=2;var _=s.updateQueue;if(_!==null){_=_.shared;var F=_.pending;F===null?v.next=v:(v.next=F.next,F.next=v),_.pending=v}}s.lanes|=n,v=s.alternate,v!==null&&(v.lanes|=n),Js(s.return,n,t),m.lanes|=n;break}v=v.next}}else if(s.tag===10)c=s.type===t.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(o(341));c.lanes|=n,m=c.alternate,m!==null&&(m.lanes|=n),Js(c,n,t),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===t){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}lt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Kn(t,n),l=jt(l),r=r(l),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,l=Lt(r,t.pendingProps),l=Lt(r.type,l),uu(e,t,r,l,n);case 15:return cu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),Il(e,t),t.tag=1,at(r)?(e=!0,vl(t)):e=!1,Kn(t,n),tu(t,r,l),mi(t,r,l,n),xi(null,t,r,!0,e,n);case 19:return yu(e,t,n);case 22:return du(e,t,n)}throw Error(o(156,t.tag))};function Hu(e,t){return So(e,t)}function uf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new uf(e,t,n,r)}function qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cf(e){if(typeof e=="function")return qi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ue)return 11;if(e===it)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,l,s){var c=2;if(r=e,typeof e=="function")qi(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case A:return On(n.children,l,s,t);case V:c=8,l|=8;break;case K:return e=Ct(12,n,t,l|2),e.elementType=K,e.lanes=s,e;case ke:return e=Ct(13,n,t,l),e.elementType=ke,e.lanes=s,e;case nt:return e=Ct(19,n,t,l),e.elementType=nt,e.lanes=s,e;case ge:return $l(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:c=10;break e;case Pe:c=9;break e;case ue:c=11;break e;case it:c=14;break e;case ce:c=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ct(c,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function On(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=ge,e.lanes=n,e.stateNode={isHidden:!1},e}function bi(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Bi(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function df(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Hi(e,t,n,r,l,s,c,m,v){return e=new df(e,t,n,m,v),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ti(s),e}function ff(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return an;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(at(n))return ga(e,n,t)}return t}function Wu(e,t,n,r,l,s,c,m,v){return e=Hi(n,r,!0,e,l,s,c,m,v),e.context=Uu(null),n=e.current,r=st(),l=mn(n),s=Qt(r,l),s.callback=t??null,dn(n,s,l),e.current.lanes=l,ur(e,l,r),dt(e,r),e}function Gl(e,t,n,r){var l=t.current,s=st(),c=mn(l);return n=Uu(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(s,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(l,t,c),e!==null&&(Dt(e,l,c,s),El(e,l,c)),c}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ui(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function pf(){return null}var $u=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wi(e){this._internalRoot=e}Kl.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Gl(e,t,null,null)},Kl.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Gl(null,e,null,null)}),t[Ut]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=To();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&Lo(e)}};function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gu(){}function hf(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var _=Ql(c);s.call(_)}}var c=Wu(t,r,e,0,null,!1,!1,"",Gu);return e._reactRootContainer=c,e[Ut]=c.current,jr(e.nodeType===8?e.parentNode:e),Pn(),c}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var m=r;r=function(){var _=Ql(v);m.call(_)}}var v=Hi(e,0,!1,null,null,!1,!1,"",Gu);return e._reactRootContainer=v,e[Ut]=v.current,jr(e.nodeType===8?e.parentNode:e),Pn(function(){Gl(t,v,n,r)}),v}function Yl(e,t,n,r,l){var s=n._reactRootContainer;if(s){var c=s;if(typeof l=="function"){var m=l;l=function(){var v=Ql(c);m.call(v)}}Gl(t,c,e,l)}else c=hf(n,t,e,l,r);return Ql(c)}No=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(ms(t,n|1),dt(t,Fe()),(xe&6)===0&&(er=Fe()+500,un()))}break;case 13:Pn(function(){var r=Gt(e,1);if(r!==null){var l=st();Dt(r,e,1,l)}}),Ui(e,1)}},vs=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=st();Dt(t,e,134217728,n)}Ui(e,134217728)}},Po=function(e){if(e.tag===13){var t=mn(e),n=Gt(e,t);if(n!==null){var r=st();Dt(n,e,t,r)}Ui(e,t)}},To=function(){return je},_o=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},as=function(e,t,n){switch(t){case"input":if(Zt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=hl(r);if(!l)throw Error(o(90));Be(r),Zt(r,l)}}}break;case"textarea":Ht(e,n);break;case"select":t=n.value,t!=null&&Le(e,!!n.multiple,t,!1)}},ho=zi,mo=Pn;var mf={usingClientEntryPoint:!1,Events:[Cr,Bn,hl,fo,po,zi]},br={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vf={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xo(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||pf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Kr=Zl.inject(vf),At=Zl}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf,ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vi(t))throw Error(o(200));return ff(e,t,null,n)},ft.createRoot=function(e,t){if(!Vi(e))throw Error(o(299));var n=!1,r="",l=$u;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Hi(e,1,!1,null,null,n,!1,r,l),e[Ut]=t.current,jr(e.nodeType===8?e.parentNode:e),new Wi(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=xo(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Pn(e)},ft.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return Yl(null,e,t,!0,n)},ft.hydrateRoot=function(e,t,n){if(!Vi(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",c=$u;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Wu(t,null,e,1,n??null,l,!1,s,c),e[Ut]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Kl(t)},ft.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return Yl(null,e,t,!1,n)},ft.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return e._reactRootContainer?(Pn(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1},ft.unstable_batchedUpdates=zi,ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Yl(e,t,n,!1,r)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var tc;function Ef(){if(tc)return Qi.exports;tc=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Qi.exports=jf(),Qi.exports}var nc;function Mf(){if(nc)return Jl;nc=1;var u=Ef();return Jl.createRoot=u.createRoot,Jl.hydrateRoot=u.hydrateRoot,Jl}var Cf=Mf(),Z=Vr();const xt=gc(Z),U={osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},engineMode:"classic",macro:{model:"va",harmonics:.6,timbre:.5,morph:.5,level:1},effects:{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}},lfo1:{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"},lfo2:{enabled:!1,wave:"triangle",rateHz:.5,amount:.4,dest:"filter"},arp:{enabled:!1,rateHz:8,bpmSync:!1,bpm:120,division:"1/8",gate:.6,chordSource:"preset",mode:"up",octaves:1,chord:"none",latch:!1,swingPct:0,repeats:1,patternLen:0},sequencer:{enabled:!1,playing:!1,bpm:120,division:"1/16",swingPct:0,gate:.6,rootMidi:60,length:16,steps:Array.from({length:16},()=>({on:!1,offset:0,velocity:1}))},expression:{x:"filter.cutoff",y:"master.gain"}},Xe=(u,a)=>Number.isFinite(u)?u:a,es=(u,a)=>u.patch[a]??U[a],ts=u=>u.patch.macro??U.macro,ns={"filter.cutoff":{getBase:u=>Xe(u.patch.filter.cutoff,U.filter.cutoff),range:(u,a)=>{const o=Ne(a*.25,80,12e3),d=Ne(a*4,o+20,14e3);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({filter:{cutoff:a}},{fromExpression:!0})},"filter.q":{getBase:u=>Xe(u.patch.filter.q,U.filter.q),range:(u,a)=>{const o=Ne(a*.5,.1,20),d=Ne(a*2.5,o+.1,20);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({filter:{q:a}},{fromExpression:!0})},"master.gain":{getBase:u=>Xe(u.patch.master.gain,U.master.gain),range:(u,a)=>{const o=Ne(a*.4,.01,1),d=Ne(a*1.6,o+.01,1);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({master:{gain:a}},{fromExpression:!0})},mix:{getBase:u=>Xe(u.patch.mix,U.mix),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({mix:Ne(a,0,1)},{fromExpression:!0})},"osc1.detune":{getBase:u=>Xe(u.patch.osc1.detune,U.osc1.detune),range:(u,a)=>{const o=Ne(a-120,-2400,2400),d=Ne(a+120,o+1,2400);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({osc1:{detune:a}},{fromExpression:!0})},"osc2.detune":{getBase:u=>Xe(u.patch.osc2.detune,U.osc2.detune),range:(u,a)=>{const o=Ne(a-120,-2400,2400),d=Ne(a+120,o+1,2400);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({osc2:{detune:a}},{fromExpression:!0})},"fm.amount":{getBase:u=>Xe(u.patch.fm.amount,U.fm.amount),range:(u,a)=>{const o=Ne(a*.5,0,4e3),d=Ne(Math.max(a+400,400),o+10,4e3);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({fm:{amount:Ne(a,0,4e3)}},{fromExpression:!0})},"envelope.attack":{getBase:u=>Xe(u.patch.envelope.attack,U.envelope.attack),range:(u,a)=>{const o=Ne(a*.2,.001,4),d=Ne(a*3,o+.01,4);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({envelope:{attack:a}},{fromExpression:!0})},"envelope.release":{getBase:u=>Xe(u.patch.envelope.release,U.envelope.release),range:(u,a)=>{const o=Ne(a*.5,.03,6),d=Ne(a*3,o+.05,6);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({envelope:{release:a}},{fromExpression:!0})},"macro.harmonics":{getBase:u=>Xe(ts(u).harmonics,U.macro.harmonics),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{harmonics:Ne(a,0,1)}},{fromExpression:!0})},"macro.timbre":{getBase:u=>Xe(ts(u).timbre,U.macro.timbre),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{timbre:Ne(a,0,1)}},{fromExpression:!0})},"macro.morph":{getBase:u=>Xe(ts(u).morph,U.macro.morph),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{morph:Ne(a,0,1)}},{fromExpression:!0})},"macro.level":{getBase:u=>Xe(ts(u).level,U.macro.level),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{level:Ne(a,0,1)}},{fromExpression:!0})},"lfo1.rateHz":{getBase:u=>Xe(es(u,"lfo1").rateHz,U.lfo1.rateHz),range:(u,a)=>{const o=Ne(a*.25,.05,30),d=Ne(a*4,o+.05,40);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({lfo1:{rateHz:a}},{fromExpression:!0})},"lfo1.amount":{getBase:u=>Xe(es(u,"lfo1").amount,U.lfo1.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo1:{amount:Ne(a,0,1)}},{fromExpression:!0})},"lfo2.rateHz":{getBase:u=>Xe(es(u,"lfo2").rateHz,U.lfo2.rateHz),range:(u,a)=>{const o=Ne(a*.25,.02,20),d=Ne(a*4,o+.05,30);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({lfo2:{rateHz:a}},{fromExpression:!0})},"lfo2.amount":{getBase:u=>Xe(es(u,"lfo2").amount,U.lfo2.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo2:{amount:Ne(a,0,1)}},{fromExpression:!0})}},Yi=["x","y"],Ne=(u,a,o)=>Math.min(o,Math.max(a,u));function Nf(u){const a=u.sampleRate*1,o=u.createBuffer(1,a,u.sampleRate),d=o.getChannelData(0);for(let p=0;p<a;p++)d[p]=Math.random()*2-1;return o}class so{ctx;master;filter;analyser;noiseBuffer;activeVoices=new Map;fxInput;fxOutput;currentFxTap=null;lfos;expression2D={active:!1,x:.5,y:.5};expressionAxisTargets={x:U.expression.x,y:U.expression.y};expressionSnapshot={x:null,y:null};expressionApplying=!1;patch;arpHeld=new Set;arpIndex=0;arpTimer=null;arpLastNote=null;arpBypass=!1;arpPhase=0;arpRepeatCounter=0;arpCurrentStepMs=0;seqTimer=null;seqPhase=0;seqCurrentStepMs=0;seqStepIndex=0;seqLastNote=null;constructor(a){this.ctx=a??new(window.AudioContext||window.webkitAudioContext),this.master=this.ctx.createGain(),this.filter=this.ctx.createBiquadFilter(),this.analyser=this.ctx.createAnalyser(),this.fxInput=this.ctx.createGain(),this.fxOutput=this.ctx.createGain(),this.filter.connect(this.fxInput),this.fxInput.connect(this.fxOutput),this.fxOutput.connect(this.master),this.master.connect(this.ctx.destination);try{this.filter.connect(this.analyser)}catch{}this.analyser.smoothingTimeConstant=0,this.lfos=[];for(let o=0;o<2;o++){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=5;const p=this.ctx.createGain();p.gain.value=0,d.connect(p),d.start(),this.lfos.push({osc:d,gain:p,dest:"none"})}this.patch={...U},this.applyPatch()}get audioContext(){return this.ctx}getAnalyser(){return this.analyser}getWaveform(){const a=this.analyser.fftSize,o=new Uint8Array(a);return this.analyser.getByteTimeDomainData(o),o}async resume(){this.ctx.state!=="running"&&await this.ctx.resume()}applyPatch(a={},o={}){const{fromExpression:d=!1}=o,p=this.patch,f={...this.patch,...a,osc1:{...this.patch.osc1,...a.osc1??{}},osc2:{...this.patch.osc2,...a.osc2??{}},fm:{...this.patch.fm,...a.fm??{}},sub:{...this.patch.sub,...a.sub??{}},ring:{...this.patch.ring,...a.ring??{}},filter:{...this.patch.filter,...a.filter??{}},envelope:{...this.patch.envelope,...a.envelope??{}},master:{...this.patch.master,...a.master??{}},mix:a.mix!=null?a.mix:this.patch.mix,engineMode:a.engineMode??this.patch.engineMode??"classic",macro:{...this.patch.macro??U.macro,...a.macro??{}},effects:{...this.patch.effects??U.effects,...a.effects??{}},lfo1:{...this.patch.lfo1??U.lfo1,...a.lfo1??{}},lfo2:{...this.patch.lfo2??U.lfo2,...a.lfo2??{}},arp:{...this.patch.arp??U.arp,...a.arp??{}},sequencer:{...this.patch.sequencer??U.sequencer,...a.sequencer??{}},expression:{...this.patch.expression??U.expression,...a.expression??{}}};if(this.patch=f,this.configureExpressionRouting(f.expression),f.master.gain!==p.master.gain&&this.master.gain.setTargetAtTime(f.master.gain,this.ctx.currentTime,.01),f.filter.type!==p.filter.type&&(this.filter.type=f.filter.type),f.filter.q!==p.filter.q&&this.filter.Q.setTargetAtTime(f.filter.q,this.ctx.currentTime,.02),f.filter.cutoff!==p.filter.cutoff&&this.filter.frequency.setTargetAtTime(f.filter.cutoff,this.ctx.currentTime,.015),this.noiseBuffer||(this.noiseBuffer=Nf(this.ctx)),a.effects!==void 0&&this.buildFxChain(),a.lfo1!==void 0||a.lfo2!==void 0||a.master?.gain!==void 0){const g=[this.patch.lfo1,this.patch.lfo2];for(let S=0;S<this.lfos.length;S++){const h=this.lfos[S],x=g[S];h.osc.type=x.wave,h.osc.frequency.setValueAtTime(Math.max(.01,x.rateHz),this.ctx.currentTime);try{h.gain.disconnect()}catch{}if(h.dest="none",h.gain.gain.value=0,x.enabled)if(x.dest==="filter")h.dest="filter",h.gain.gain.value=Math.max(0,x.amount)*2e3,h.gain.connect(this.filter.frequency);else if(x.dest==="amp"){h.dest="amp";const T=this.patch.master.gain;h.gain.gain.value=Math.max(0,x.amount)*Math.max(0,T)*.8,h.gain.connect(this.master.gain)}else x.dest==="pitch"&&(h.dest="pitch",h.gain.gain.value=Math.max(0,x.amount)*50)}}if(a.arp!==void 0&&this.updateArpScheduler({forceRestart:!0}),a.sequencer!==void 0&&this.updateSeqScheduler(),a.osc1?.detune!==void 0||a.osc1?.finePct!==void 0){const g=this.ctx.currentTime,S=f.osc1.detune||0,h=(f.osc1.finePct??0)/100,x=Math.abs(S)*.05*h,T=S+x;for(const C of this.activeVoices.values())if(C.osc1Detune)try{C.osc1Detune.setTargetAtTime(T,g,.01)}catch{}}if(a.osc2?.detune!==void 0){const g=this.ctx.currentTime;for(const S of this.activeVoices.values())if(S.osc2Detune)try{S.osc2Detune.setTargetAtTime(f.osc2.detune||0,g,.01)}catch{}}this.expression2D.active&&!d&&this.applyExpression2D()}buildFxChain(){try{this.fxInput.disconnect()}catch{}if(this.currentFxTap){try{this.currentFxTap.disconnect(this.fxOutput)}catch{}this.currentFxTap=null}let a=this.fxInput;const o=this.patch.effects;o?.delay?.enabled&&(a=this.applyDelayEffect(a,o.delay)),o?.reverb?.enabled&&(a=this.applyReverbEffect(a,o.reverb)),a.connect(this.fxOutput),this.currentFxTap=a}clamp01(a){return Math.min(1,Math.max(0,a))}setExpression2D(a,o){const d=this.clamp01(a),p=this.clamp01(o);this.expression2D.active||this.captureExpressionBase(),this.expression2D={active:!0,x:d,y:p},this.applyExpression2D()}clearExpression2D(){if(this.expression2D.active){this.expressionApplying=!0;try{for(const a of Yi)this.resetExpressionAxis(a)}finally{this.expressionApplying=!1,this.expression2D={active:!1,x:.5,y:.5},this.expressionSnapshot={x:null,y:null}}}}configureExpressionRouting(a=this.patch.expression??U.expression){const o=U.expression??{x:"filter.cutoff",y:"master.gain"};for(const d of Yi){const p=a?.[d]??o[d],f=ns[p]?p:o[d];(this.expressionAxisTargets[d]!==f||!this.expression2D.active)&&(this.expressionSnapshot[d]=null),this.expressionAxisTargets[d]=f}}captureExpressionBase(){for(const a of Yi){const o=this.expressionAxisTargets[a],d=ns[o];if(!d)continue;const p=d.getBase(this);this.expressionSnapshot[a]=Number.isFinite(p)?p:0}}applyExpressionAxis(a,o){const d=this.expressionAxisTargets[a],p=ns[d];if(!p)return;let f=this.expressionSnapshot[a];(f==null||Number.isNaN(f))&&(f=p.getBase(this),this.expressionSnapshot[a]=f);const{min:g,max:S}=p.range(this,f),h=S-g,x=h<=0?f:g+h*this.clamp01(o);p.apply(this,x)}resetExpressionAxis(a){const o=this.expressionSnapshot[a],d=this.expressionAxisTargets[a],p=ns[d];p&&o!=null&&Number.isFinite(o)&&p.apply(this,o),this.expressionSnapshot[a]=null}applyExpression2D(){if(!(!this.expression2D.active||this.expressionApplying)){this.expressionApplying=!0;try{this.applyExpressionAxis("x",this.expression2D.x),this.applyExpressionAxis("y",this.expression2D.y)}finally{this.expressionApplying=!1}}}applyDelayEffect(a,o){const d=this.clamp01(o.mix),p=Math.max(0,Math.min(1.5,o.time)),f=Math.max(0,Math.min(.95,o.feedback)),g=this.ctx.createDelay(2);g.delayTime.value=p;const S=this.ctx.createGain();S.gain.value=f,g.connect(S),S.connect(g);const h=this.ctx.createGain();h.gain.value=1-d;const x=this.ctx.createGain();x.gain.value=d;const T=this.ctx.createGain();return a.connect(h),a.connect(g),g.connect(x),h.connect(T),x.connect(T),T}makeImpulse(a,o){const d=Math.max(1,Math.floor(this.ctx.sampleRate*Math.max(.05,a))),p=this.ctx.createBuffer(2,d,this.ctx.sampleRate);for(let f=0;f<p.numberOfChannels;f++){const g=p.getChannelData(f);for(let S=0;S<d;S++){const h=S/d;g[S]=(Math.random()*2-1)*Math.pow(1-h,2+o*6)}}return p}applyReverbEffect(a,o){const d=this.clamp01(o.mix),p=.1+this.clamp01(o.size)*3,f=this.clamp01(o.decay),g=this.ctx.createConvolver();g.normalize=!0,g.buffer=this.makeImpulse(p,f);const S=this.ctx.createGain();S.gain.value=1-d;const h=this.ctx.createGain();h.gain.value=d;const x=this.ctx.createGain();return a.connect(S),a.connect(g),g.connect(h),S.connect(x),h.connect(x),x}makeWavefolderCurve(a,o,d=2048){const p=new Float32Array(d),f=Math.max(1e-4,a)*6,g=(o-.5)*2;for(let S=0;S<d;S++){let h=S/(d-1)*2-1;h+=g*.5;const x=Math.tanh(f*h)/Math.tanh(f);p[S]=x}return p}createMacroSuperSaw(a,o){const p=this.ctx.createGain(),f=this.ctx.createBiquadFilter();f.type="lowpass",f.frequency.value=800+o.timbre*12e3,f.Q.value=.3;const g=0+o.harmonics*30,S=[-1,-.6,-.2,.2,.6,1],h=[];for(let T=0;T<6;T++){const C=this.ctx.createOscillator();C.type="sawtooth",C.frequency.value=a,C.detune.value=S[T]*g;const y=this.ctx.createGain();y.gain.value=1/6;const R=this.ctx.createStereoPanner(),O=(o.morph-.5)*2,P=S[T]/Math.max(1,Math.max(...S.map(Math.abs)))*O;R.pan.value=P,C.connect(y).connect(R).connect(p),h.push({osc:C,pan:R}),C.start()}p.connect(f);const x=this.ctx.createGain();return x.gain.value=o.level,f.connect(x),{output:x,stop:T=>h.forEach(({osc:C})=>C.stop(T)),pitched:h.map(T=>T.osc)}}createMacroWavetable(a,o){const d=["sine","triangle","sawtooth","square"],p=Math.min(3,Math.max(0,Math.floor(o.morph*3.00001))),f=Math.min(1,Math.max(0,o.morph*3-p)),g=(y,R)=>{const O=this.ctx.createOscillator();O.type=y,O.frequency.value=a;const P=this.ctx.createGain();return P.gain.value=R,O.connect(P),{osc:O,g:P}},S=g(d[p],p===3?1:1-f),h=p<3?g(d[p+1],f):null,x=this.ctx.createBiquadFilter();x.type="lowpass",x.frequency.value=800+o.harmonics*15e3,x.Q.value=.1+o.timbre*.6;const T=this.ctx.createGain();T.gain.value=o.level,S.g.connect(x),h&&h.g.connect(x),x.connect(T),S.osc.start(),h&&h.osc.start();const C=[S.osc];return h&&C.push(h.osc),{output:T,stop:y=>{S.osc.stop(y),h&&h.osc.stop(y)},pitched:C}}createMacroHarmonic(a,o){const f=Math.round(2+o.harmonics*14),g=.5+(1-o.timbre)*2,S=(o.morph-.5)*2,h=this.ctx.createGain(),x=[];for(let y=1;y<=f;y++){const R=this.ctx.createOscillator();R.type="sine",R.frequency.value=a*y;let O=1/Math.pow(y,g);const E=y%2===0?Math.max(.1,(S+1)/2):Math.max(.1,(1-S)/2);O*=E;const L=this.ctx.createGain();L.gain.value=O,R.connect(L).connect(h),R.start(),x.push(R)}const T=this.ctx.createBiquadFilter();T.type="lowpass",T.frequency.value=1e3+o.timbre*15e3,T.Q.value=.2;const C=this.ctx.createGain();return C.gain.value=o.level,h.connect(T).connect(C),{output:C,stop:y=>{for(const R of x)R.stop(y)},pitched:x}}createMacroChord(a,o){const d=[[0,4,7],[0,3,7],[0,5,7],[0,2,7],[0,4,7,10],[0,3,7,10],[0,4,7,11],[0,3,6,9],[0,4,8],[-12,0,7,12]],p=Math.max(0,Math.min(d.length-1,Math.floor(o.harmonics*d.length))),f=d[p],g=(o.morph-.5)*2,S=this.ctx.createGain(),h=this.ctx.createBiquadFilter();h.type="lowpass",h.frequency.value=900+o.timbre*15e3,h.Q.value=.3;const x=this.ctx.createGain();x.gain.value=o.level;const T=[],C=[-1,-.3,.3,1];return f.forEach((y,R)=>{const O=this.ctx.createOscillator();O.type="sawtooth";const P=440*Math.pow(2,Math.log2(a/440)+y/12);O.frequency.value=P;const E=C[R%C.length]*g*15;O.detune.value=E;const L=this.ctx.createGain();L.gain.value=1/f.length;const I=this.ctx.createStereoPanner();I.pan.value=C[R%C.length]*g,O.connect(L).connect(I).connect(S),O.start(),T.push(O)}),S.connect(h).connect(x),{output:x,stop:y=>{for(const R of T)R.stop(y)},pitched:T}}createMacroPWM(a,o){const d=this.ctx.createOscillator();d.type="sawtooth",d.frequency.value=a;const p=this.ctx.createGain();p.gain.value=1;const f=this.ctx.createConstantSource(),g=(o.morph-.5)*1.6;f.offset.value=g,f.start(),d.connect(p),f.connect(p);const S=this.ctx.createWaveShaper(),h=1+o.harmonics*24,x=2048,T=new Float32Array(x);for(let R=0;R<x;R++){const O=R/(x-1)*2-1;T[R]=Math.tanh(h*O)}S.curve=T,S.oversample="4x";const C=this.ctx.createBiquadFilter();C.type="lowpass",C.frequency.value=2e3+o.timbre*14e3,C.Q.value=.2;const y=this.ctx.createGain();return y.gain.value=o.level,p.connect(S).connect(C).connect(y),d.start(),{output:y,stop:R=>{d.stop(R),f.stop(R)},pitched:[d]}}createMacroFM2Op(a,o){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=a;const p=this.ctx.createOscillator();p.type="sine";const f=.25+o.harmonics*7.75;p.frequency.value=a*f;const g=this.ctx.createGain();g.gain.value=Math.max(0,o.timbre)*a*2,p.connect(g).connect(d.frequency);const S=this.ctx.createBiquadFilter();S.type="lowpass",S.frequency.value=1e3+o.morph*15e3,S.Q.value=.1;const h=this.ctx.createGain();return h.gain.value=o.level,d.connect(S).connect(h),d.start(),p.start(),{output:h,stop:x=>{d.stop(x),p.stop(x)},pitched:[d]}}createMacroVA(a,o){const d=this.ctx.createOscillator(),p=this.ctx.createOscillator();d.type="sawtooth",p.type="triangle",d.frequency.value=a,p.frequency.value=a;const f=this.ctx.createGain(),g=this.ctx.createGain();f.gain.value=1-o.timbre,g.gain.value=o.timbre;const S=this.ctx.createGain(),h=this.ctx.createBiquadFilter();return h.type="lowpass",h.frequency.value=1e3+o.harmonics*15e3,h.Q.value=.5,p.connect(f).connect(S),d.connect(g).connect(S),S.connect(h),p.start(),d.start(),{output:h,stop:x=>{p.stop(x),d.stop(x)},pitched:[p,d]}}createMacroFold(a,o){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=a;const p=this.ctx.createGain(),f=this.ctx.createWaveShaper(),g=this.ctx.createGain(),S=.2+o.harmonics*1.6,h=o.morph;f.curve=this.makeWavefolderCurve(S,h),f.oversample="4x",p.gain.value=1,g.gain.value=o.level;const x=this.ctx.createBiquadFilter();return x.type="lowpass",x.frequency.value=4e3+o.timbre*16e3,x.Q.value=.2,d.connect(p).connect(f).connect(x).connect(g),d.start(),{output:g,stop:T=>d.stop(T),pitched:[d]}}createMacroPluck(a,o){const d=this.ctx.createGain(),p=this.ctx.createBufferSource(),f=Math.floor(this.ctx.sampleRate*.02),g=this.ctx.createBuffer(1,f,this.ctx.sampleRate),S=g.getChannelData(0);for(let R=0;R<f;R++)S[R]=(Math.random()*2-1)*(1-R/f);p.buffer=g,p.loop=!1;const h=1/Math.max(20,a),x=this.ctx.createDelay(1);x.delayTime.value=h;const T=this.ctx.createGain();T.gain.value=.85+o.harmonics*.14;const C=this.ctx.createBiquadFilter();C.type="lowpass",C.frequency.value=1e3+o.timbre*8e3,C.Q.value=0;const y=this.ctx.createBiquadFilter();return y.type="highpass",y.frequency.value=50+o.morph*400,p.connect(y).connect(x).connect(d),x.connect(C).connect(T).connect(x),d.gain.value=o.level,p.start(),{output:d,stop:R=>{},pitched:[]}}makeVoice(a){const o=this.ctx.currentTime,d=this.patch.envelope,p=this.ctx.createGain();if(p.gain.value=0,p.connect(this.filter),(this.patch.engineMode??"classic")==="macro"&&this.patch.macro){const E=this.patch.macro;let L;switch(E.model){case"fold":L=this.createMacroFold(a,E);break;case"pluck":L=this.createMacroPluck(a,E);break;case"supersaw":L=this.createMacroSuperSaw(a,E);break;case"pwm":L=this.createMacroPWM(a,E);break;case"fm2op":L=this.createMacroFM2Op(a,E);break;case"wavetable":L=this.createMacroWavetable(a,E);break;case"harmonic":L=this.createMacroHarmonic(a,E);break;case"chord":L=this.createMacroChord(a,E);break;case"va":default:L=this.createMacroVA(a,E);break}L.output.connect(p);const I=[];if(L.pitched&&L.pitched.length)for(const Q of L.pitched)for(const j of this.lfos)j.dest==="pitch"&&this.patch[this.lfos.indexOf(j)===0?"lfo1":"lfo2"]?.enabled&&(j.gain.connect(Q.detune),I.push({g:j.gain,p:Q.detune}));const W=p.gain;return W.cancelScheduledValues(o),W.setValueAtTime(0,o),W.linearRampToValueAtTime(1,o+Math.max(.001,d.attack)),W.linearRampToValueAtTime(d.sustain,o+d.attack+Math.max(.001,d.decay)),{stop:Q=>{const j=Math.max(this.ctx.currentTime,Q);W.cancelScheduledValues(j),W.setValueAtTime(W.value,j),W.linearRampToValueAtTime(0,j+Math.max(.001,d.release)),L.stop(j+d.release+.05);for(const A of I)try{A.g.disconnect(A.p)}catch{}}}}const f=this.ctx.createGain(),g=this.ctx.createGain(),S=Math.max(0,Math.min(1,this.patch.mix));f.gain.value=1-S,g.gain.value=S;const h=this.ctx.createGain();h.gain.value=1,f.connect(h),g.connect(h),h.connect(p);const x=[];let T=null,C=null;const y=[];{let E;if(this.patch.osc1.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,E=L}else{const L=this.ctx.createOscillator();L.type=this.patch.osc1.wave,L.frequency.setValueAtTime(a,o);const I=this.patch.osc1.detune||0,W=(this.patch.osc1.finePct??0)/100,b=Math.abs(I)*.05*W,Q=I+b;L.detune.value=Q,E=L,T=L}if(E.connect(f),x.push(E),this.patch.fm.enabled&&"frequency"in E){const L=E,I=this.ctx.createOscillator();I.type=this.patch.osc2.wave;const W=Math.max(.01,this.patch.fm.ratio||1);I.frequency.setValueAtTime(a*W,o),I.detune.value=this.patch.osc2.detune||0;const b=this.ctx.createGain();b.gain.value=Math.max(0,this.patch.fm.amount||0),I.connect(b),b.connect(L.frequency),x.push(I)}if("detune"in E)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(E.detune),y.push({g:L.gain,p:E.detune}))}{let E;if(this.patch.osc2.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,E=L}else{const L=this.ctx.createOscillator();L.type=this.patch.osc2.wave,L.frequency.setValueAtTime(a,o),L.detune.value=this.patch.osc2.detune,E=L,C=L}if(E.connect(g),x.push(E),this.patch.ring.enabled){const L=this.ctx.createGain();L.gain.value=0,x[0].connect(L);const I=this.ctx.createGain();I.gain.value=1,E.connect(I),I.connect(L.gain);const W=Math.max(0,Math.min(1,this.patch.ring.amount));h.gain.value=1-W;const b=this.ctx.createGain();b.gain.value=W,L.connect(b),b.connect(p)}if("detune"in E)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(E.detune),y.push({g:L.gain,p:E.detune}))}const R=p.gain;R.cancelScheduledValues(o),R.setValueAtTime(0,o),R.linearRampToValueAtTime(1,o+Math.max(.001,d.attack)),R.linearRampToValueAtTime(d.sustain,o+d.attack+Math.max(.001,d.decay));for(const E of x)"start"in E&&E.start();if(this.patch.sub.enabled){const E=this.ctx.createOscillator();E.type=this.patch.sub.wave||"square";const L=a/Math.pow(2,Math.max(1,Math.min(2,this.patch.sub.octave)));E.frequency.setValueAtTime(L,o);const I=this.ctx.createGain();I.gain.value=Math.max(0,Math.min(1,this.patch.sub.level)),E.connect(I),I.connect(p),x.push(E);for(const W of this.lfos)W.dest==="pitch"&&this.patch[this.lfos.indexOf(W)===0?"lfo1":"lfo2"]?.enabled&&(W.gain.connect(E.detune),y.push({g:W.gain,p:E.detune}))}const P={stop:E=>{const L=Math.max(this.ctx.currentTime,E);R.cancelScheduledValues(L),R.setValueAtTime(R.value,L),R.linearRampToValueAtTime(0,L+Math.max(.001,d.release));for(const I of x)"stop"in I&&I.stop(L+d.release+.05);for(const I of y)try{I.g.disconnect(I.p)}catch{}}};return T&&(P.osc1Detune=T.detune),C&&(P.osc2Detune=C.detune),P}allNotesOff(){const a=this.ctx.currentTime;for(const o of this.activeVoices.values())o.stop(a);this.activeVoices.clear()}getArpChordOffsets(){const a=this.patch.arp??U.arp;if((a.chordSource??"preset")==="sequencer"){const p=this.patch.sequencer??U.sequencer,f=p.steps??[],g=Math.max(1,Math.min(f.length,p.length)),S=new Set;for(let h=0;h<g;h++){const x=f[h];if(x?.on){const T=Math.round(x.offset??0);Number.isFinite(T)&&S.add(T)}}return S.size>0?Array.from(S).sort((h,x)=>h-x):[0]}switch(a.chord??U.arp.chord??"none"){case"power":return[0,7];case"major":return[0,4,7];case"minor":return[0,3,7];case"sus2":return[0,2,7];case"sus4":return[0,5,7];case"maj7":return[0,4,7,11];case"min7":return[0,3,7,10];default:return[0]}}buildArpPool(){if(this.arpHeld.size===0)return[];const a=this.patch.arp?.mode??"up",o=a==="asplayed"?Array.from(this.arpHeld.values()):Array.from(this.arpHeld.values()).sort((g,S)=>g-S),d=Math.max(1,Math.min(4,this.patch.arp?.octaves??1)),p=[],f=this.getArpChordOffsets();for(let g=0;g<d;g++)for(const S of o){const h=S+g*12;for(const x of f){const T=h+x;T<0||T>127||p.push(T)}}if(a==="down")return p.slice().sort((g,S)=>S-g);if(a==="random")return p.slice().sort(()=>Math.random()-.5);if(a==="updown"){const g=p.slice().sort((h,x)=>h-x),S=g.slice().reverse().slice(1,-1);return g.concat(S)}return p}updateArpScheduler(a={}){const{forceRestart:o=!1}=a;if(!!this.patch.arp?.enabled&&this.arpHeld.size>0){const p=o||this.arpTimer==null;if(p&&this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),p){this.arpPhase=0,this.arpRepeatCounter=0;const f=this.getArpStepMs(),g=this.computeArpAlignmentDelay(f);this.scheduleNextArpTick(g)}}else{if(this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const p=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(p)}finally{this.arpBypass=!1}this.arpLastNote=null}this.arpIndex=0,this.arpRepeatCounter=0}}computeArpAlignmentDelay(a){if(!(a>0))return 0;const d=this.ctx.currentTime*1e3%a;return d<1?0:a-d}scheduleNextArpTick(a){const o=this.getArpStepMs();let d=0;if(this.patch.arp?.bpmSync){const S=this.patch.arp?.division,h=Math.max(0,Math.min(1,this.patch.arp?.swingPct??0));S==="1/8"?d=h:S==="1/16"?d=h*.5:d=0}const p=this.arpPhase===0?1+d*.5:1-d*.5,f=o*p,g=a??f;this.arpCurrentStepMs=f,this.arpTimer=setTimeout(()=>{if(!this.patch.arp?.enabled||this.arpHeld.size===0){this.updateArpScheduler();return}this.arpTick(),this.arpPhase=this.arpPhase?0:1,this.scheduleNextArpTick()},Math.max(0,g))}getArpStepMs(){const a=this.patch.arp;if(a?.bpmSync){const d=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division||"1/8",f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return d*f}else return 1e3/Math.max(.1,a?.rateHz??8)}arpTick(){let a=this.buildArpPool();if(a.length===0){if(this.arpLastNote!=null){const x=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(x)}finally{this.arpBypass=!1}this.arpLastNote=null}return}const o=Math.max(0,this.patch.arp?.patternLen??0);o>0&&a.length>o&&(a=a.slice(0,o)),this.arpIndex>=a.length&&(this.arpIndex=0);const d=a[this.arpIndex++],p=Math.max(1,Math.min(8,this.patch.arp?.repeats??1));this.arpRepeatCounter<p-1?(this.arpIndex=(this.arpIndex-1+a.length)%a.length,this.arpRepeatCounter++):this.arpRepeatCounter=0,this.arpLastNote!=null&&(this.patch.arp?.gate??.6)>=1,this.arpBypass=!0;try{this.noteOn(d)}finally{this.arpBypass=!1}this.arpLastNote=d;const f=this.arpCurrentStepMs||this.getArpStepMs(),g=Math.max(.05,Math.min(1,this.patch.arp?.gate??.6)),S=f*g,h=d;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(h)}finally{this.arpBypass=!1}},S)}getArpStatus(){const a=!!this.patch.arp?.enabled;let o=0,d=0;if(a){const p=this.buildArpPool().length,f=Math.max(0,this.patch.arp?.patternLen??0);if(o=f>0?Math.min(f,p):p,o<=0&&(o=0),o>0){const g=(this.arpIndex-1+o)%o;d=g<0?0:g}}return{enabled:a,stepIndex:d,length:o}}getSeqStepMs(){const a=this.patch.sequencer,d=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division,f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return d*f}updateSeqScheduler(){const a=this.patch.sequencer;if(!!a.enabled&&!!a.playing)this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqPhase=0,this.seqStepIndex=0,this.scheduleNextSeqTick();else if(this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqLastNote!=null){const d=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(d)}finally{this.arpBypass=!1}this.seqLastNote=null}}scheduleNextSeqTick(){const a=this.getSeqStepMs(),o=this.patch.sequencer?.division;let d=Math.max(0,Math.min(1,this.patch.sequencer?.swingPct??0));o==="1/16"&&(d*=.5),o==="1/8"&&(d=d),(o==="1/4"||o?.endsWith("T"))&&(d=0);const p=this.seqPhase===0?1+d*.5:1-d*.5,f=a*p;this.seqCurrentStepMs=f,this.seqTimer=setTimeout(()=>{if(!this.patch.sequencer?.enabled||!this.patch.sequencer?.playing){this.updateSeqScheduler();return}this.seqTick(),this.seqPhase=this.seqPhase?0:1,this.scheduleNextSeqTick()},f)}seqTick(){const a=this.patch.sequencer,o=Math.max(1,Math.min(a.steps.length,a.length)),d=this.seqStepIndex%o,p=a.steps[d]||{on:!1,offset:0};if(this.seqStepIndex=(this.seqStepIndex+1)%o,this.seqLastNote!=null&&(a.gate??.6)>=1){const f=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}this.seqLastNote=null}if(p.on){const f=Math.round((a.rootMidi||60)+(p.offset||0));this.arpBypass=!0;try{this.noteOn(f)}finally{this.arpBypass=!1}this.seqLastNote=f;const g=Math.max(.05,Math.min(1,a.gate??.6)),S=(this.seqCurrentStepMs||this.getSeqStepMs())*g;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}},S)}}getSequencerStatus(){const a=this.patch.sequencer,o=!!a.enabled&&!!a.playing,d=Math.max(0,Math.min(a.steps.length,a.length)),p=o&&d>0?(this.seqStepIndex+d-1)%d:0;return{enabled:o,stepIndex:p,length:d}}previewNote(a,o=150){this.arpBypass=!0;try{this.noteOn(a)}finally{this.arpBypass=!1}setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}},Math.max(20,o))}noteOn(a){if(this.patch.arp?.enabled&&!this.arpBypass){this.arpHeld.add(a),this.updateArpScheduler();return}const o=440*Math.pow(2,(a-69)/12),d=this.makeVoice(o);this.activeVoices.set(a,d)}noteOff(a){if(this.patch.arp?.enabled&&!this.arpBypass){if(this.patch.arp?.latch||(this.arpHeld.delete(a),this.arpHeld.size===0&&this.updateArpScheduler()),this.arpLastNote===a){const d=this.activeVoices.get(a);d&&d.stop(this.ctx.currentTime),this.activeVoices.delete(a),this.arpLastNote===a&&(this.arpLastNote=null)}return}const o=this.activeVoices.get(a);o&&(o.stop(this.ctx.currentTime),this.activeVoices.delete(a))}arpClear(){if(this.arpHeld.clear(),this.arpIndex=0,this.arpTimer!=null&&(clearInterval(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const a=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}this.arpLastNote=null}}}const Pf={},rc=u=>{let a;const o=new Set,d=(T,C)=>{const y=typeof T=="function"?T(a):T;if(!Object.is(y,a)){const R=a;a=C??(typeof y!="object"||y===null)?y:Object.assign({},a,y),o.forEach(O=>O(a,R))}},p=()=>a,h={setState:d,getState:p,getInitialState:()=>x,subscribe:T=>(o.add(T),()=>o.delete(T)),destroy:()=>{(Pf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},x=a=u(d,p,h);return h},Tf=u=>u?rc(u):rc;var Zi={exports:{}},Ji={},eo={exports:{}},to={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc;function _f(){if(lc)return to;lc=1;var u=Vr();function a(C,y){return C===y&&(C!==0||1/C===1/y)||C!==C&&y!==y}var o=typeof Object.is=="function"?Object.is:a,d=u.useState,p=u.useEffect,f=u.useLayoutEffect,g=u.useDebugValue;function S(C,y){var R=y(),O=d({inst:{value:R,getSnapshot:y}}),P=O[0].inst,E=O[1];return f(function(){P.value=R,P.getSnapshot=y,h(P)&&E({inst:P})},[C,R,y]),p(function(){return h(P)&&E({inst:P}),C(function(){h(P)&&E({inst:P})})},[C]),g(R),R}function h(C){var y=C.getSnapshot;C=C.value;try{var R=y();return!o(C,R)}catch{return!0}}function x(C,y){return y()}var T=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:S;return to.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:T,to}var sc;function Of(){return sc||(sc=1,eo.exports=_f()),eo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic;function Lf(){if(ic)return Ji;ic=1;var u=Vr(),a=Of();function o(x,T){return x===T&&(x!==0||1/x===1/T)||x!==x&&T!==T}var d=typeof Object.is=="function"?Object.is:o,p=a.useSyncExternalStore,f=u.useRef,g=u.useEffect,S=u.useMemo,h=u.useDebugValue;return Ji.useSyncExternalStoreWithSelector=function(x,T,C,y,R){var O=f(null);if(O.current===null){var P={hasValue:!1,value:null};O.current=P}else P=O.current;O=S(function(){function L(j){if(!I){if(I=!0,W=j,j=y(j),R!==void 0&&P.hasValue){var A=P.value;if(R(A,j))return b=A}return b=j}if(A=b,d(W,j))return A;var V=y(j);return R!==void 0&&R(A,V)?A:(W=j,b=V)}var I=!1,W,b,Q=C===void 0?null:C;return[function(){return L(T())},Q===null?void 0:function(){return L(Q())}]},[T,C,y,R]);var E=p(x,O[0],O[1]);return g(function(){P.hasValue=!0,P.value=E},[E]),h(E),E},Ji}var oc;function Rf(){return oc||(oc=1,Zi.exports=Lf()),Zi.exports}var If=Rf();const Df=gc(If),yc={},{useDebugValue:zf}=xt,{useSyncExternalStoreWithSelector:Af}=Df;let ac=!1;const Ff=u=>u;function qf(u,a=Ff,o){(yc?"production":void 0)!=="production"&&o&&!ac&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ac=!0);const d=Af(u.subscribe,u.getState,u.getServerState||u.getInitialState,a,o);return zf(d),d}const bf=u=>{(yc?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof u=="function"?Tf(u):u,o=(d,p)=>qf(a,d,p);return Object.assign(o,a),o},Bf=u=>bf,Hf={};function Uf(u,a){let o;try{o=u()}catch{return}return{getItem:p=>{var f;const g=h=>h===null?null:JSON.parse(h,void 0),S=(f=o.getItem(p))!=null?f:null;return S instanceof Promise?S.then(g):g(S)},setItem:(p,f)=>o.setItem(p,JSON.stringify(f,void 0)),removeItem:p=>o.removeItem(p)}}const Wr=u=>a=>{try{const o=u(a);return o instanceof Promise?o:{then(d){return Wr(d)(o)},catch(d){return this}}}catch(o){return{then(d){return this},catch(d){return Wr(d)(o)}}}},Wf=(u,a)=>(o,d,p)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,L)=>({...L,...E}),...a},g=!1;const S=new Set,h=new Set;let x;try{x=f.getStorage()}catch{}if(!x)return u((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...E)},d,p);const T=Wr(f.serialize),C=()=>{const E=f.partialize({...d()});let L;const I=T({state:E,version:f.version}).then(W=>x.setItem(f.name,W)).catch(W=>{L=W});if(L)throw L;return I},y=p.setState;p.setState=(E,L)=>{y(E,L),C()};const R=u((...E)=>{o(...E),C()},d,p);let O;const P=()=>{var E;if(!x)return;g=!1,S.forEach(I=>I(d()));const L=((E=f.onRehydrateStorage)==null?void 0:E.call(f,d()))||void 0;return Wr(x.getItem.bind(x))(f.name).then(I=>{if(I)return f.deserialize(I)}).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==f.version){if(f.migrate)return f.migrate(I.state,I.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return I.state}).then(I=>{var W;return O=f.merge(I,(W=d())!=null?W:R),o(O,!0),C()}).then(()=>{L?.(O,void 0),g=!0,h.forEach(I=>I(O))}).catch(I=>{L?.(void 0,I)})};return p.persist={setOptions:E=>{f={...f,...E},E.getStorage&&(x=E.getStorage())},clearStorage:()=>{x?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>P(),hasHydrated:()=>g,onHydrate:E=>(S.add(E),()=>{S.delete(E)}),onFinishHydration:E=>(h.add(E),()=>{h.delete(E)})},P(),O||R},Vf=(u,a)=>(o,d,p)=>{let f={storage:Uf(()=>localStorage),partialize:P=>P,version:0,merge:(P,E)=>({...E,...P}),...a},g=!1;const S=new Set,h=new Set;let x=f.storage;if(!x)return u((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...P)},d,p);const T=()=>{const P=f.partialize({...d()});return x.setItem(f.name,{state:P,version:f.version})},C=p.setState;p.setState=(P,E)=>{C(P,E),T()};const y=u((...P)=>{o(...P),T()},d,p);p.getInitialState=()=>y;let R;const O=()=>{var P,E;if(!x)return;g=!1,S.forEach(I=>{var W;return I((W=d())!=null?W:y)});const L=((E=f.onRehydrateStorage)==null?void 0:E.call(f,(P=d())!=null?P:y))||void 0;return Wr(x.getItem.bind(x))(f.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==f.version){if(f.migrate)return[!0,f.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var W;const[b,Q]=I;if(R=f.merge(Q,(W=d())!=null?W:y),o(R,!0),b)return T()}).then(()=>{L?.(R,void 0),R=d(),g=!0,h.forEach(I=>I(R))}).catch(I=>{L?.(void 0,I)})};return p.persist={setOptions:P=>{f={...f,...P},P.storage&&(x=P.storage)},clearStorage:()=>{x?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>O(),hasHydrated:()=>g,onHydrate:P=>(S.add(P),()=>{S.delete(P)}),onFinishHydration:P=>(h.add(P),()=>{h.delete(P)})},f.skipHydration||O(),R||y},$f=(u,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((Hf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Wf(u,a)):Vf(u,a),Gf=$f,ee=Bf()(Gf((u,a)=>({engine:null,patch:U,layoutOrder:[],tempo:110,transport:{tempo:110,playing:!1,tick:0},midi:{supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]},setEngine:o=>u({engine:o}),updatePatch:o=>{const d={...a().patch,...o,osc1:{...a().patch.osc1,...o.osc1},osc2:{...a().patch.osc2,...o.osc2},fm:{...a().patch.fm,...o.fm},sub:{...a().patch.sub,...o.sub},ring:{...a().patch.ring,...o.ring},filter:{...a().patch.filter,...o.filter},envelope:{...a().patch.envelope,...o.envelope},master:{...a().patch.master,...o.master},macro:{...a().patch.macro||U.macro,...o.macro},effects:{...a().patch.effects||U.effects,...o.effects},lfo1:{...a().patch.lfo1||U.lfo1,...o.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...o.lfo2},arp:{...a().patch.arp||U.arp,...o.arp},sequencer:{...a().patch.sequencer||U.sequencer,...o.sequencer},mix:o.mix!=null?o.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...o.expression}};a().engine?.applyPatch(o),u({patch:d})},setLayoutOrder:o=>u({layoutOrder:o}),setTempo:o=>u(d=>({tempo:o,transport:{...d.transport,tempo:o}})),setTransportPlaying:o=>u(d=>({transport:{...d.transport,playing:o,tick:0}})),bumpTransportTick:()=>u(o=>({transport:{...o.transport,tick:o.transport.tick+1}})),importPatch:o=>{const d=JSON.parse(o),p={...a().patch,...d,osc1:{...a().patch.osc1,...d.osc1},osc2:{...a().patch.osc2,...d.osc2},fm:{...a().patch.fm,...d.fm},sub:{...a().patch.sub,...d.sub},ring:{...a().patch.ring,...d.ring},filter:{...a().patch.filter,...d.filter},envelope:{...a().patch.envelope,...d.envelope},master:{...a().patch.master,...d.master},macro:{...a().patch.macro||U.macro,...d.macro},effects:{...a().patch.effects||U.effects,...d.effects},lfo1:{...a().patch.lfo1||U.lfo1,...d.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...d.lfo2},arp:{...a().patch.arp||U.arp,...d.arp},sequencer:{...a().patch.sequencer||U.sequencer,...d.sequencer},mix:d.mix!=null?d.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...d.expression}};a().engine?.applyPatch(p),u({patch:p})},exportPatch:()=>JSON.stringify(a().patch,null,2),setMidiSupported:o=>u(d=>({midi:{...d.midi,supported:o}})),setMidiStatus:(o,d=null)=>u(p=>({midi:{...p.midi,status:o,lastError:d}})),setMidiEnabled:o=>u(d=>({midi:{...d.midi,enabled:o}})),setMidiInputs:o=>u(d=>({midi:{...d.midi,inputs:o}})),setMidiSelectedInput:o=>u(d=>({midi:{...d.midi,selectedInputId:o}})),setMidiActiveNotes:o=>u(d=>({midi:{...d.midi,activeNotes:o}}))}),{name:"websynth-patch",partialize:u=>({patch:{...u.patch,sequencer:u.patch.sequencer?{...u.patch.sequencer,playing:!1}:u.patch.sequencer,arp:u.patch.arp?{...u.patch.arp,bpmSync:u.patch.arp.bpmSync??!0}:u.patch.arp},layoutOrder:u.layoutOrder,tempo:u.tempo,transport:{tempo:u.transport.tempo,playing:!1,tick:0},midi:{enabled:u.midi.enabled,selectedInputId:u.midi.selectedInputId}}),version:8,migrate:(u,a)=>{const o=u?.patch;if(!o)return u;const d={...U,...o,osc1:{...U.osc1,...o.osc1||{}},osc2:{...U.osc2,...o.osc2||{}},fm:{...U.fm,...o.fm||{}},sub:{...U.sub,...o.sub||{}},ring:{...U.ring,...o.ring||{}},filter:{...U.filter,...o.filter||{}},envelope:{...U.envelope,...o.envelope||{}},master:{...U.master,...o.master||{}},macro:{...U.macro,...o.macro||{}},effects:{...U.effects,...o.effects||{}},lfo1:{...U.lfo1,...o.lfo1||{}},lfo2:{...U.lfo2,...o.lfo2||{}},arp:{...U.arp,...o.arp||{}},sequencer:{...U.sequencer,...o.sequencer||{}},mix:typeof o.mix=="number"?o.mix:U.mix,expression:{...U.expression,...o.expression||{}}},p=Array.isArray(u?.layoutOrder)?u.layoutOrder.filter(T=>typeof T=="string"):[],f=typeof u?.tempo=="number"?u.tempo:110,g=u?.transport,S=g?{tempo:g.tempo??f,playing:!1,tick:0}:{tempo:f,playing:!1,tick:0},h=u?.midi,x={supported:null,status:"idle",enabled:h?.enabled??!1,inputs:[],selectedInputId:h?.selectedInputId??null,lastError:null,activeNotes:[]};return{...u,patch:d,layoutOrder:p,tempo:f,transport:S,midi:x}},onRehydrateStorage:()=>u=>{u&&(u.engine=null,Array.isArray(u.layoutOrder)||(u.layoutOrder=[]),typeof u.tempo!="number"&&(u.tempo=110),u.transport||(u.transport={tempo:u.tempo,playing:!1,tick:0}),u.midi?u.midi={supported:null,status:"idle",enabled:!!u.midi.enabled,inputs:[],selectedInputId:u.midi.selectedInputId??null,lastError:null,activeNotes:[]}:u.midi={supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]})}}));function we({value:u,min:a,max:o,step:d=.01,size:p=56,label:f,formatValue:g,onChange:S,disabled:h=!1}){const[x,T]=Z.useState(!1),C=Z.useRef(null),y=Z.useCallback(ue=>Math.min(o,Math.max(a,ue)),[a,o]),R=o-a,O=R===0?0:(u-a)/R,P=Z.useMemo(()=>-135+O*270,[O]),E=ue=>{h||(ue.target.setPointerCapture(ue.pointerId),C.current={y:ue.clientY,v:u},T(!0))},L=ue=>{if(!C.current||h)return;const nt=(C.current.y-ue.clientY)/150*R,it=y(C.current.v+nt);S(no(it,d))},I=ue=>{h||(ue.target.releasePointerCapture(ue.pointerId),C.current=null,T(!1))},W=ue=>{if(h)return;const ke=d;(ue.key==="ArrowUp"||ue.key==="ArrowRight")&&S(y(no(u+ke,ke))),(ue.key==="ArrowDown"||ue.key==="ArrowLeft")&&S(y(no(u-ke,ke)))},b=p/2-6,Q=p/2,j=p/2,A=-135,V=Q+Math.cos(A*Math.PI/180)*(b+6),K=j+Math.sin(A*Math.PI/180)*(b+6),ie=Q+Math.cos(P*Math.PI/180)*(b-6),Pe=j+Math.sin(P*Math.PI/180)*(b-6);return i.jsxs("div",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:6,opacity:h?.4:1,pointerEvents:h?"none":"auto"},children:[i.jsxs("svg",{width:p,height:p,onPointerDown:E,onPointerMove:L,onPointerUp:I,onKeyDown:W,role:"slider","aria-label":f,"aria-valuemin":a,"aria-valuemax":o,"aria-valuenow":u,"aria-valuetext":g?g(u):uc(u),tabIndex:h?-1:0,style:{cursor:h?"default":"ns-resize",outline:x?"1px solid var(--accent)":"none",borderRadius:8},children:[i.jsx("circle",{cx:Q,cy:j,r:b,fill:"#0f1217",stroke:"#2a3040"}),i.jsx("circle",{cx:Q,cy:j,r:b-8,fill:"#161a22",stroke:"#202635"}),i.jsx("circle",{cx:V,cy:K,r:2.4,fill:"#3dd973",stroke:"#12161f",strokeWidth:.8}),i.jsx("line",{x1:Q,y1:j,x2:ie,y2:Pe,stroke:"var(--accent)",strokeWidth:3,strokeLinecap:"round"})]}),f&&i.jsxs("div",{style:{display:"flex",gap:6,alignItems:"baseline"},children:[i.jsx("span",{className:"label",children:f}),i.jsx("span",{className:"value",children:g?g(u):uc(u)})]})]})}function no(u,a){const o=1/a;return Math.round(u*o)/o}function uc(u){return Math.abs(u)>=100?u.toFixed(0):Math.abs(u)>=10?u.toFixed(1):u.toFixed(2)}function Qf(){const u=ee(f=>f.patch),a=ee(f=>f.updatePatch),o=u.engineMode??"classic",d=f=>a({engineMode:f}),p=f=>{const g=u.macro??U.macro;a({macro:{...g,...f}})};return o==="macro"?i.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[i.jsxs("label",{style:{gridColumn:"1 / -1"},children:[i.jsx("div",{className:"label",children:"Mode"}),i.jsxs("select",{value:o,onChange:f=>d(f.target.value),children:[i.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),i.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Model"}),i.jsxs("select",{value:u.macro?.model??"va",onChange:f=>p({model:f.target.value}),children:[i.jsx("option",{value:"va",children:"VA (analog blend)"}),i.jsx("option",{value:"fold",children:"Wavefolder"}),i.jsx("option",{value:"pluck",children:"Pluck (Karplus–Strong)"}),i.jsx("option",{value:"supersaw",children:"SuperSaw"}),i.jsx("option",{value:"pwm",children:"PWM"}),i.jsx("option",{value:"fm2op",children:"FM 2-Op"}),i.jsx("option",{value:"wavetable",children:"Wavetable (blend)"}),i.jsx("option",{value:"harmonic",children:"Harmonic (additive)"}),i.jsx("option",{value:"chord",children:"Chord (stack)"})]})]}),i.jsx(we,{label:"Harmonics",min:0,max:1,step:.001,value:u.macro?.harmonics??.6,onChange:f=>p({harmonics:f})}),i.jsx(we,{label:"Timbre",min:0,max:1,step:.001,value:u.macro?.timbre??.5,onChange:f=>p({timbre:f})}),i.jsx(we,{label:"Morph",min:0,max:1,step:.001,value:u.macro?.morph??.5,onChange:f=>p({morph:f})}),i.jsx(we,{label:"Level",min:0,max:1,step:.001,value:u.macro?.level??1,onChange:f=>p({level:f})})]}):i.jsxs("div",{className:"controls-grid",children:[i.jsxs("label",{style:{gridColumn:"1 / -1"},children:[i.jsx("div",{className:"label",children:"Mode"}),i.jsxs("select",{value:o,onChange:f=>d(f.target.value),children:[i.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),i.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),i.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 1"}),i.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 2"}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Wave"}),i.jsxs("select",{value:u.osc1.wave,onChange:f=>a({osc1:{...u.osc1,wave:f.target.value}}),children:[i.jsx("option",{value:"sine",children:"Sine"}),i.jsx("option",{value:"square",children:"Square"}),i.jsx("option",{value:"sawtooth",children:"Saw"}),i.jsx("option",{value:"triangle",children:"Triangle"}),i.jsx("option",{value:"noise",children:"Noise"})]})]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Wave"}),i.jsxs("select",{value:u.osc2.wave,onChange:f=>a({osc2:{...u.osc2,wave:f.target.value}}),children:[i.jsx("option",{value:"sine",children:"Sine"}),i.jsx("option",{value:"square",children:"Square"}),i.jsx("option",{value:"sawtooth",children:"Saw"}),i.jsx("option",{value:"triangle",children:"Triangle"}),i.jsx("option",{value:"noise",children:"Noise"})]})]}),i.jsxs("div",{className:"osc-knob-row",style:{gridColumn:"1 / 2"},children:[i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Detune"}),i.jsx(we,{label:void 0,min:-1200,max:1200,step:1,value:u.osc1.detune,onChange:f=>a({osc1:{...u.osc1,detune:f}})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Fine %"}),i.jsx(we,{label:void 0,min:-100,max:100,step:1,value:u.osc1.finePct??0,onChange:f=>a({osc1:{...u.osc1,finePct:f}})})]})]}),i.jsx("div",{className:"osc-knob-row",style:{gridColumn:"2 / 3",justifyContent:"flex-end"},children:i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Mix"}),i.jsx(we,{label:void 0,min:0,max:1,step:.01,value:u.mix,onChange:f=>a({mix:f})})]})}),i.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gridTemplateColumns:"auto auto auto",justifyItems:"start",gap:16,alignItems:"center"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[i.jsx("input",{type:"checkbox",checked:u.fm?.enabled??!1,onChange:f=>a({fm:{...u.fm,enabled:f.target.checked}})}),i.jsx("span",{className:"label",children:"FM"})]}),i.jsx(we,{label:"Ratio",min:.1,max:8,step:.1,value:u.fm?.ratio??2,onChange:f=>a({fm:{...u.fm,ratio:f}}),disabled:!(u.fm?.enabled??!1)}),i.jsx(we,{label:"Amount (Hz)",min:0,max:1e3,step:1,value:u.fm?.amount??0,onChange:f=>a({fm:{...u.fm,amount:f}}),disabled:!(u.fm?.enabled??!1)})]}),i.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gridTemplateColumns:"auto auto",justifyItems:"start",gap:16,alignItems:"center"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[i.jsx("input",{type:"checkbox",checked:u.ring?.enabled??!1,onChange:f=>a({ring:{...u.ring,enabled:f.target.checked}})}),i.jsx("span",{className:"label",children:"Ring"})]}),i.jsx(we,{label:"Amount",min:0,max:1,step:.01,value:u.ring?.amount??1,onChange:f=>a({ring:{...u.ring,amount:f}}),disabled:!(u.ring?.enabled??!1)})]})]})}function Kf(){const u=ee(p=>p.patch),a=ee(p=>p.updatePatch),o=p=>{a({filter:{...u.filter,...p}})},d=u.master.gain;return i.jsxs("div",{className:"filter-panel",children:[i.jsxs("label",{className:"filter-type",children:[i.jsx("span",{className:"label",children:"Filter Type"}),i.jsxs("select",{value:u.filter.type,onChange:p=>o({type:p.target.value}),children:[i.jsx("option",{value:"lowpass",children:"Low-pass"}),i.jsx("option",{value:"highpass",children:"High-pass"}),i.jsx("option",{value:"bandpass",children:"Band-pass"}),i.jsx("option",{value:"notch",children:"Notch"})]})]}),i.jsxs("div",{className:"filter-knobs",children:[i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Cutoff"}),i.jsx(we,{label:void 0,min:40,max:8e3,step:10,value:u.filter.cutoff,onChange:p=>o({cutoff:p})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Resonance"}),i.jsx(we,{label:void 0,min:.1,max:10,step:.1,value:u.filter.q,onChange:p=>o({q:p})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Master"}),i.jsx(we,{label:void 0,min:0,max:1,step:.01,value:d,onChange:p=>a({master:{...u.master,gain:p}})})]})]})]})}function Xf(){const u=ee(d=>d.patch),a=ee(d=>d.updatePatch),o=u.envelope;return i.jsx("div",{className:"envelope-panel",children:i.jsxs("div",{className:"envelope-knobs",children:[i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Attack"}),i.jsx(we,{label:void 0,min:0,max:2,step:.01,value:o.attack,onChange:d=>a({envelope:{...o,attack:d}})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Decay"}),i.jsx(we,{label:void 0,min:0,max:2,step:.01,value:o.decay,onChange:d=>a({envelope:{...o,decay:d}})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Sustain"}),i.jsx(we,{label:void 0,min:0,max:1,step:.01,value:o.sustain,onChange:d=>a({envelope:{...o,sustain:d}})})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Release"}),i.jsx(we,{label:void 0,min:0,max:3,step:.01,value:o.release,onChange:d=>a({envelope:{...o,release:d}})})]})]})})}const Yf=[0,2,4,5,7,9,11],Zf={0:1,1:3,2:null,3:6,4:8,5:10,6:null};function Jf(u,a=60){const o=Math.floor(u/7),d=Yf[u%7];return a+o*12+d}function ep(u,a=60){const o=Math.floor(u/7),d=Zf[u%7];return d==null?null:a+o*12+d}const io={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},cc=Object.fromEntries(Object.entries(io).map(([u,a])=>[a,u.length===1?u.toUpperCase():u]));function tp(){const u=ee(b=>b.engine),a=ee(b=>b.midi.activeNotes),[o,d]=Z.useState(()=>new Set),[p,f]=Z.useState(60),g=Z.useRef(new Map),S=Z.useMemo(()=>{const b=new Set(o);for(const Q of a)b.add(Q);return b},[o,a]),h=b=>{u?.noteOn(b),d(Q=>new Set(Q).add(b))},x=b=>{u?.noteOff(b),d(Q=>{const j=new Set(Q);return j.delete(b),j})};Z.useEffect(()=>{const b=new Set,Q=V=>V.length===1?V.toLowerCase():V,j=V=>{if(V.repeat)return;const K=Q(V.key);if(K==="z"){f(ue=>Math.max(24,ue-12));return}if(K==="x"){f(ue=>Math.min(96,ue+12));return}const ie=io[K],Pe=ie!=null?p+ie:void 0;Pe!=null&&!b.has(K)&&(b.add(K),h(Pe))},A=V=>{const K=Q(V.key),ie=io[K],Pe=ie!=null?p+ie:void 0;Pe!=null&&(b.delete(K),x(Pe))};return window.addEventListener("keydown",j),window.addEventListener("keyup",A),()=>{window.removeEventListener("keydown",j),window.removeEventListener("keyup",A)}},[u,p]);const T=14,C=Z.useMemo(()=>Array.from({length:T},(b,Q)=>Jf(Q,p)),[T,p]),y=28,O=y+2,P=Math.floor(p/12)-1,E=P-4,L=(b,Q)=>{b.currentTarget.setPointerCapture(b.pointerId),b.preventDefault(),g.current.set(b.pointerId,Q),h(Q)},I=b=>{if(!g.current.has(b.pointerId))return;const Q=g.current.get(b.pointerId),A=document.elementFromPoint(b.clientX,b.clientY)?.dataset?.midi,V=A!=null?Number(A):void 0;if(V==null){Q!=null&&(x(Q),g.current.delete(b.pointerId));return}V!==Q&&(Q!=null&&x(Q),g.current.set(b.pointerId,V),h(V))},W=b=>{const Q=g.current.get(b.pointerId);Q!=null&&(x(Q),g.current.delete(b.pointerId))};return i.jsxs("div",{className:"keyboard",children:[i.jsx("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between"},children:i.jsxs("div",{className:"octave-indicator",children:[i.jsx("span",{className:"badge",children:"Octave"}),i.jsxs("span",{className:"value",style:{color:E===0?"var(--text)":"var(--accent)"},children:[P," ",E!==0?`(${E>0?"+":""}${E})`:""]})]})}),i.jsxs("div",{className:"keys-and-help",children:[i.jsxs("div",{className:"keys-row",style:{touchAction:"none"},children:[C.map((b,Q)=>i.jsx("div",{className:"key",style:{background:S.has(b)?"#d1d5db":"#f8fafc"},"data-midi":b,onPointerDown:j=>L(j,b),onPointerMove:I,onPointerUp:W,onPointerCancel:W,children:i.jsx("span",{className:"key-label",children:cc[b-p]??""})},Q)),Array.from({length:T}).map((b,Q)=>{const j=ep(Q,p);if(j==null)return null;const A=Q*O+Math.floor(y*.7);return i.jsx("div",{className:"key black",style:{left:A,background:S.has(j)?"#111827":"#0b0f16"},"data-midi":j,onPointerDown:V=>L(V,j),onPointerMove:I,onPointerUp:W,onPointerCancel:W,children:i.jsx("span",{className:"key-label",children:cc[j-p]??""})},`b-${Q}`)})]}),i.jsxs("div",{className:"kbd-help",children:[i.jsx("div",{className:"badge",style:{alignSelf:"flex-start"},children:"Octave shift"}),i.jsxs("div",{className:"kbd-row",children:[i.jsx("span",{className:"kbd",children:"Z"}),i.jsx("span",{className:"hint-text",children:"down"})]}),i.jsxs("div",{className:"kbd-row",children:[i.jsx("span",{className:"kbd",children:"X"}),i.jsx("span",{className:"hint-text",children:"up"})]})]})]})]})}const Hr={highPct:2,lowPct:2,windowPct:25,holdOff:3,corrRefresh:.5};function np(){const u=ee(C=>C.engine),a=Z.useRef(null),o=Z.useRef(),d=Z.useRef(0),p=Z.useRef(0),f=Z.useRef(0),g=Z.useRef(0),S=Z.useRef(null),h=Z.useRef(128),[x,T]=Z.useState(4096);return Z.useEffect(()=>{const C=a.current;if(!C||!u||typeof u.getAnalyser!="function")return;const y=C.getContext("2d"),R=u.getAnalyser();R.fftSize=x,R.smoothingTimeConstant=0;const O=()=>{const P=u.getWaveform,E=typeof P=="function"?P.call(u):new Uint8Array(R.fftSize),L=window.devicePixelRatio||1,I=C.clientWidth||600,W=C.clientHeight||160,b=Math.floor(I*L),Q=Math.floor(W*L);(C.width!==b||C.height!==Q)&&(C.width=b,C.height=Q);const j=C.width,A=C.height;y.clearRect(0,0,j,A),y.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-bg")||"#05070b",y.fillRect(0,0,j,A),y.save(),y.strokeStyle="rgba(255,255,255,0.06)",y.lineWidth=1,y.beginPath(),y.moveTo(0,A/2),y.lineTo(j,A/2),y.stroke();const V=6;for(let ce=1;ce<V;ce++){const ge=ce*j/V;y.beginPath(),y.moveTo(ge,0),y.lineTo(ge,A),y.stroke()}y.restore();const K=E.length,ie=new Float32Array(K);let Pe=0;for(let ce=0;ce<K;ce++)Pe+=E[ce];Pe/=K;let ue=0;for(let ce=0;ce<K;ce++){const ge=(E[ce]-Pe)/128;ie[ce]=ge,ue+=ge*ge}let ke=d.current||0;if(ue>.001){const ce=Math.max(.001,Hr.highPct/100),ge=-Math.max(.001,Hr.lowPct/100);let H=!1;const te=[];for(let oe=1;oe<K;oe++){const Be=ie[oe-1],Ae=ie[oe];!H&&Be<ge&&(H=!0),H&&Be<ce&&Ae>=ce&&(te.push(oe),H=!1)}if(te.length>=2){const oe=[];for(let Me=1;Me<te.length;Me++)oe.push(te[Me]-te[Me-1]);oe.sort((Me,pt)=>Me-pt);const Be=oe[Math.floor(oe.length/2)];let Ae=0,Ye=0;for(const Me of oe)Math.abs(Me-Be)<=.2*Be&&(Ae+=Me,Ye++);const Nt=Ye>0?Ae/Ye:Be,Yt=f.current||Nt,Zt=Math.max(6,Math.min(K,Yt*.6+Nt*.4));f.current=Zt;const nr=((d.current||te[0])+Zt)%K,rr=Math.max(6,Math.floor(Hr.windowPct/100*Zt)),wt=[];for(const Me of te)Math.abs(Me-nr)<=rr&&wt.push(Me);wt.length===0&&wt.push(Math.round(nr));const Le=Math.max(32,Math.min(256,Math.floor(Zt)));if(h.current=Le,!S.current){const Me=new Float32Array(Le);for(let me=0;me<Le;me++)Me[me]=ie[(wt[0]+me)%K];let pt=0;for(let me=0;me<Le;me++)pt+=Me[me];pt/=Le;let Ht=0;for(let me=0;me<Le;me++)Me[me]=Me[me]-pt,Ht+=Me[me]*Me[me];Ht=Math.sqrt(Math.max(Ht,1e-12));for(let me=0;me<Le;me++)Me[me]/=Ht;S.current=Me}{let Me=wt[0],pt=-1/0;const Ht=S.current;for(const me of wt){let Pt=0;for(let rt=0;rt<Le;rt++)Pt+=ie[(me+rt)%K];Pt/=Le;let ht=0,Ce=0;for(let rt=0;rt<Le;rt++){const zt=ie[(me+rt)%K]-Pt;ht+=zt*zt}ht=Math.sqrt(Math.max(ht,1e-12));for(let rt=0;rt<Le;rt++){const zt=(ie[(me+rt)%K]-Pt)/ht;Ce+=zt*Ht[rt]}Ce>pt&&(pt=Ce,Me=me)}if(ke=Me,pt<Hr.corrRefresh){const me=new Float32Array(Le);for(let Ce=0;Ce<Le;Ce++)me[Ce]=ie[(ke+Ce)%K];let Pt=0;for(let Ce=0;Ce<Le;Ce++)Pt+=me[Ce];Pt/=Le;let ht=0;for(let Ce=0;Ce<Le;Ce++)me[Ce]=me[Ce]-Pt,ht+=me[Ce]*me[Ce];ht=Math.sqrt(Math.max(ht,1e-12));for(let Ce=0;Ce<Le;Ce++)me[Ce]/=ht;S.current=me}}}else if(te.length===1)ke=te[0];else{let oe=0,Be=0;for(let Ae=1;Ae<K;Ae++){const Ye=ie[Ae]-ie[Ae-1];Ye>oe&&(oe=Ye,Be=Ae)}ke=Be}const $=d.current||0,k=f.current||0,D=k?($+k)%K:$,ae=Math.abs(ke-D);if(k&&ae>.6*k||g.current>=Hr.holdOff){const oe=Math.round($*.4+ke*.6);d.current=oe,g.current=0}else g.current+=1;let he=d.current;const ve=12;for(let oe=-ve;oe<=ve;oe++){const Be=(he+oe+K)%K,Ae=(Be+1)%K,Ye=ie[Be],Nt=ie[Ae];if(Ye<ce&&Nt>=ce){const Yt=(ce-Ye)/Math.max(Nt-Ye,1e-6);he=Be+Yt;break}}p.current=he;const ye=h.current,fe=new Float32Array(ye);for(let oe=0;oe<ye;oe++){const Be=(he+oe)%K,Ae=Math.floor(Be),Ye=(Ae+1)%K,Nt=Be-Ae,Yt=ie[Ae]*(1-Nt)+ie[Ye]*Nt;fe[oe]=Yt}let Ee=0;for(let oe=0;oe<ye;oe++)Ee+=fe[oe];Ee/=ye;let We=0;for(let oe=0;oe<ye;oe++)fe[oe]=fe[oe]-Ee,We+=fe[oe]*fe[oe];We=Math.sqrt(Math.max(We,1e-12));for(let oe=0;oe<ye;oe++)fe[oe]/=We;S.current=fe}const nt=p.current||d.current||0,it=j/K;y.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-stroke")||"#00ffd5",y.lineWidth=2,y.shadowColor=y.strokeStyle,y.shadowBlur=8,y.beginPath();for(let ce=0;ce<K;ce++){const ge=(ce+nt)%K,H=Math.floor(ge),te=(H+1)%K,$=ge-H,D=((ie[H]*(1-$)+ie[te]*$)*.5+.5)*A,ae=ce*it;ce===0?y.moveTo(ae,D):y.lineTo(ae,D)}y.stroke(),y.shadowBlur=0,o.current=requestAnimationFrame(O)};return o.current=requestAnimationFrame(O),()=>{o.current&&cancelAnimationFrame(o.current)}},[u,x]),i.jsxs("div",{children:[i.jsx("canvas",{ref:a,width:600,height:300,style:{width:"100%",height:300,borderRadius:8,border:"1px solid #222631"}}),i.jsx("div",{className:"row",style:{marginTop:8,gap:12,alignItems:"center"},children:i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"FFT Size"}),i.jsxs("select",{value:x,onChange:C=>T(Number(C.target.value)),children:[i.jsx("option",{value:1024,children:"1024"}),i.jsx("option",{value:2048,children:"2048"}),i.jsx("option",{value:4096,children:"4096"}),i.jsx("option",{value:8192,children:"8192"})]})]})})]})}function rp(){const u=ee(d=>d.patch),a=ee(d=>d.updatePatch),o=u.effects??{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}};return i.jsxs("div",{className:"effects-panel",children:[i.jsxs("div",{className:"effects-row",children:[i.jsx("div",{className:"effects-heading",children:"Delay"}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("input",{type:"checkbox",checked:o.delay.enabled,onChange:d=>a({effects:{...o,delay:{...o.delay,enabled:d.target.checked}}})}),i.jsx("span",{className:"label",children:"Enabled"})]}),i.jsxs("div",{className:"effects-knobs",children:[i.jsx(we,{label:"Time",min:0,max:1.5,step:.01,value:o.delay.time,onChange:d=>a({effects:{...o,delay:{...o.delay,time:d}}}),disabled:!o.delay.enabled}),i.jsx(we,{label:"Feedback",min:0,max:.95,step:.01,value:o.delay.feedback,onChange:d=>a({effects:{...o,delay:{...o.delay,feedback:d}}}),disabled:!o.delay.enabled}),i.jsx(we,{label:"Mix",min:0,max:1,step:.01,value:o.delay.mix,onChange:d=>a({effects:{...o,delay:{...o.delay,mix:d}}}),disabled:!o.delay.enabled})]})]}),i.jsxs("div",{className:"effects-row",style:{marginTop:12},children:[i.jsx("div",{className:"effects-heading",children:"Reverb"}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("input",{type:"checkbox",checked:o.reverb.enabled,onChange:d=>a({effects:{...o,reverb:{...o.reverb,enabled:d.target.checked}}})}),i.jsx("span",{className:"label",children:"Enabled"})]}),i.jsxs("div",{className:"effects-knobs",children:[i.jsx(we,{label:"Size",min:0,max:1,step:.01,value:o.reverb.size,onChange:d=>a({effects:{...o,reverb:{...o.reverb,size:d}}}),disabled:!o.reverb.enabled}),i.jsx(we,{label:"Decay",min:0,max:1,step:.01,value:o.reverb.decay,onChange:d=>a({effects:{...o,reverb:{...o.reverb,decay:d}}}),disabled:!o.reverb.enabled}),i.jsx(we,{label:"Mix",min:0,max:1,step:.01,value:o.reverb.mix,onChange:d=>a({effects:{...o,reverb:{...o.reverb,mix:d}}}),disabled:!o.reverb.enabled})]})]})]})}function dc({idx:u}){const a=ee(f=>f.patch),o=ee(f=>f.updatePatch),d=u===1?"lfo1":"lfo2",p=a[d]||{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"};return i.jsxs("div",{className:"lfo-row",children:[i.jsxs("label",{className:"lfo-toggle",children:[i.jsx("input",{type:"checkbox",checked:p.enabled,onChange:f=>o({[d]:{...p,enabled:f.target.checked}})}),i.jsxs("span",{className:"label",children:["LFO ",u]})]}),i.jsxs("label",{className:"lfo-select",children:[i.jsx("span",{className:"label",children:"Wave"}),i.jsxs("select",{value:p.wave,onChange:f=>o({[d]:{...p,wave:f.target.value}}),children:[i.jsx("option",{value:"sine",children:"Sine"}),i.jsx("option",{value:"triangle",children:"Triangle"}),i.jsx("option",{value:"square",children:"Square"}),i.jsx("option",{value:"sawtooth",children:"Saw"})]})]}),i.jsxs("label",{className:"lfo-select",children:[i.jsx("span",{className:"label",children:"Dest"}),i.jsxs("select",{value:p.dest,onChange:f=>o({[d]:{...p,dest:f.target.value}}),children:[i.jsx("option",{value:"pitch",children:"Pitch"}),i.jsx("option",{value:"filter",children:"Filter"}),i.jsx("option",{value:"amp",children:"Amp"})]})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Rate"}),i.jsx(we,{label:void 0,min:.01,max:20,step:.01,value:p.rateHz,onChange:f=>o({[d]:{...p,rateHz:f}}),disabled:!p.enabled})]}),i.jsxs("div",{className:"knob-group",children:[i.jsx("span",{className:"label",children:"Amount"}),i.jsx(we,{label:void 0,min:0,max:1,step:.01,value:p.amount,onChange:f=>o({[d]:{...p,amount:f}}),disabled:!p.enabled})]})]})}function lp(){return i.jsxs("div",{style:{display:"grid",gap:12},children:[i.jsx(dc,{idx:1}),i.jsx(dc,{idx:2})]})}function sp(){const u=ee(y=>y.patch),a=ee(y=>y.updatePatch),o=ee(y=>y.engine),d=ee(y=>y.transport.tempo),p=ee(y=>y.setTempo),f=u.arp??U.arp,g=u.sequencer??U.sequencer,[S,h]=xt.useState({enabled:!1,stepIndex:0,length:0}),x=y=>{a({arp:{...f,...y}})},T=f.chordSource??"preset",C=xt.useMemo(()=>{const y=g.steps??[],R=Math.max(1,Math.min(y.length,g.length)),O=new Set;for(let P=0;P<R;P++){const E=y[P];E?.on&&O.add(Math.round(E.offset??0))}return O.size},[g]);return xt.useEffect(()=>{if(!o)return;const y=setInterval(()=>{const R=o.getArpStatus?.();R&&h(R)},120);return()=>clearInterval(y)},[o]),i.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("input",{type:"checkbox",checked:f.enabled,onChange:y=>a({arp:{...f,enabled:y.target.checked}})}),i.jsx("span",{className:"label",children:"Enabled"})]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("input",{type:"checkbox",checked:f.latch||!1,onChange:y=>a({arp:{...f,latch:y.target.checked}}),disabled:!f.enabled}),i.jsx("span",{className:"label",children:"Latch"})]}),i.jsx("button",{onClick:()=>o?.arpClear(),disabled:!f.enabled,style:{justifySelf:"start",alignSelf:"end",padding:"6px 10px",fontSize:12,borderRadius:6,background:"transparent",border:"1px solid var(--border, #2a3040)",color:"var(--text)"},children:"Clear"}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Mode"}),i.jsxs("select",{value:f.mode,onChange:y=>a({arp:{...f,mode:y.target.value}}),disabled:!f.enabled,children:[i.jsx("option",{value:"up",children:"Up"}),i.jsx("option",{value:"down",children:"Down"}),i.jsx("option",{value:"updown",children:"Up-Down"}),i.jsx("option",{value:"random",children:"Random"}),i.jsx("option",{value:"asplayed",children:"As Played"})]})]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Octaves"}),i.jsxs("select",{value:f.octaves,onChange:y=>a({arp:{...f,octaves:Number(y.target.value)}}),disabled:!f.enabled,children:[i.jsx("option",{value:1,children:"1"}),i.jsx("option",{value:2,children:"2"}),i.jsx("option",{value:3,children:"3"}),i.jsx("option",{value:4,children:"4"})]})]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Chord"}),i.jsxs("select",{value:T==="sequencer"?"sequencer":f.chord??"none",onChange:y=>{const R=y.target.value;x(R==="sequencer"?{chordSource:"sequencer"}:{chordSource:"preset",chord:R})},disabled:!f.enabled,children:[i.jsx("option",{value:"none",children:"Single"}),i.jsx("option",{value:"power",children:"Power (5th)"}),i.jsx("option",{value:"major",children:"Major Triad"}),i.jsx("option",{value:"minor",children:"Minor Triad"}),i.jsx("option",{value:"sus2",children:"Sus2"}),i.jsx("option",{value:"sus4",children:"Sus4"}),i.jsx("option",{value:"maj7",children:"Major 7th"}),i.jsx("option",{value:"min7",children:"Minor 7th"}),i.jsx("option",{value:"sequencer",children:"Sequencer Pattern"})]})]}),T==="sequencer"&&i.jsxs("div",{className:"hint-text",style:{gridColumn:"span 2",fontSize:12,opacity:.8,alignSelf:"end"},children:["Sequencer pattern",C>0?` • ${C} interval${C===1?"":"s"}`:" • no active steps yet"]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Division"}),i.jsxs("select",{value:f.division,onChange:y=>x({division:y.target.value}),disabled:!f.enabled,children:[i.jsx("option",{value:"1/4",children:"1/4"}),i.jsx("option",{value:"1/8",children:"1/8"}),i.jsx("option",{value:"1/8T",children:"1/8T"}),i.jsx("option",{value:"1/16",children:"1/16"}),i.jsx("option",{value:"1/16T",children:"1/16T"})]})]}),i.jsx(we,{label:"BPM",min:40,max:240,step:1,value:d,onChange:y=>{p(y),x({bpm:y,bpmSync:!0})},disabled:!f.enabled}),i.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:32,alignItems:"center",justifyContent:"flex-start",padding:"6px 0"},children:[i.jsx(we,{label:"Gate",min:.05,max:1,step:.01,value:f.gate,onChange:y=>a({arp:{...f,gate:y}}),disabled:!f.enabled}),i.jsx(we,{label:"Swing",min:0,max:.75,step:.01,value:f.swingPct??0,onChange:y=>a({arp:{...f,swingPct:y}}),disabled:!f.enabled||!f.bpmSync})]}),i.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Repeats"}),i.jsx("select",{value:f.repeats??1,onChange:y=>a({arp:{...f,repeats:Number(y.target.value)}}),disabled:!f.enabled,children:[1,2,3,4].map(y=>i.jsxs("option",{value:y,children:[y,"x"]},y))})]}),i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Length"}),i.jsxs("select",{value:f.patternLen??0,onChange:y=>a({arp:{...f,patternLen:Number(y.target.value)}}),disabled:!f.enabled,children:[i.jsx("option",{value:0,children:"Auto"}),Array.from({length:16},(y,R)=>R+1).map(y=>i.jsx("option",{value:y,children:y},y))]})]})]})]})}function ip(){const u=ee(j=>j.patch),a=ee(j=>j.updatePatch),o=ee(j=>j.engine),d=ee(j=>j.transport.tempo),p=ee(j=>j.transport.playing),f=ee(j=>j.transport.tick),g=ee(j=>j.setTempo),S=ee(j=>j.setTransportPlaying),h=u.sequencer??U.sequencer,x=j=>{const A=u.sequencer??U.sequencer;a({sequencer:{...A,...j}})},T=h.steps||[],C=Math.max(1,Math.min(T.length,h.length)),[y,R]=xt.useState({enabled:!1,stepIndex:0,length:0});xt.useEffect(()=>{if(!o)return;const j=setInterval(()=>{const A=o.getSequencerStatus?.();A&&R(A)},100);return()=>clearInterval(j)},[o]);const O=(j,A)=>{const V=T.slice();V[j]={...V[j],...A},x({steps:V})},P={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},E=xt.useRef(null),[L,I]=xt.useState(0),[W,b]=xt.useState(!1);xt.useEffect(()=>{I(j=>Math.min(Math.max(0,j),C-1))},[C]),xt.useEffect(()=>{W&&E.current?.focus()},[W]),xt.useEffect(()=>{h.enabled&&h.bpm!==d&&x({bpm:d})},[d]),xt.useEffect(()=>{h.enabled&&h.playing!==p&&x({playing:p})},[p,h.playing,h.enabled]);const Q=j=>{if(!W||!h.enabled)return;const A=j.key,V=A.length===1?A.toLowerCase():A;if(V in P){j.preventDefault();const K=P[V];O(L,{on:!0,offset:K}),I(ie=>(ie+1)%C);return}A==="ArrowRight"?(j.preventDefault(),I(K=>(K+1)%C)):A==="ArrowLeft"?(j.preventDefault(),I(K=>(K-1+C)%C)):A==="ArrowUp"?(j.preventDefault(),O(L,{on:!0,offset:Math.min(24,(T[L]?.offset||0)+1)})):A==="ArrowDown"?(j.preventDefault(),O(L,{on:!0,offset:Math.max(-24,(T[L]?.offset||0)-1)})):A==="Enter"?(j.preventDefault(),O(L,{on:!T[L]?.on})):A==="Backspace"||A==="Delete"?(j.preventDefault(),O(L,{on:!1})):A==="+"||A==="="?(j.preventDefault(),O(L,{on:!0,offset:Math.min(24,(T[L]?.offset||0)+1)})):A==="-"||A==="_"?(j.preventDefault(),O(L,{on:!0,offset:Math.max(-24,(T[L]?.offset||0)-1)})):V==="z"?(j.preventDefault(),x({rootMidi:Math.max(24,h.rootMidi-12)})):V==="x"?(j.preventDefault(),x({rootMidi:Math.min(96,h.rootMidi+12)})):A===" "&&(j.preventDefault(),S(!p))};return i.jsxs("div",{className:"sequence-panel",children:[i.jsxs("div",{className:"sequence-controls",children:[i.jsx("button",{className:"play-button",onClick:()=>S(!p),disabled:!h.enabled,children:p?"Stop":"Play"}),i.jsxs("label",{className:"sequence-toggle",children:[i.jsx("input",{type:"checkbox",checked:h.enabled,onChange:j=>x({enabled:j.target.checked})}),i.jsx("span",{children:"Enabled"})]}),i.jsxs("label",{className:"sequence-toggle",children:[i.jsx("span",{children:"Division"}),i.jsxs("select",{value:h.division,onChange:j=>x({division:j.target.value}),disabled:!h.enabled,children:[i.jsx("option",{value:"1/4",children:"1/4"}),i.jsx("option",{value:"1/8",children:"1/8"}),i.jsx("option",{value:"1/8T",children:"1/8T"}),i.jsx("option",{value:"1/16",children:"1/16"}),i.jsx("option",{value:"1/16T",children:"1/16T"})]})]})]}),i.jsx("div",{className:"sequence-body",children:i.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[i.jsxs("label",{children:[i.jsx("div",{className:"label",children:"Length"}),i.jsx("select",{value:h.length,onChange:j=>x({length:Number(j.target.value)}),disabled:!h.enabled,children:Array.from({length:T.length},(j,A)=>A+1).map(j=>i.jsx("option",{value:j,children:j},j))})]}),i.jsx(we,{label:"Tempo",min:40,max:240,step:1,value:d,onChange:j=>{g(j),x({bpm:j})},disabled:!h.enabled}),i.jsx(we,{label:"Gate",min:.05,max:1,step:.01,value:h.gate,onChange:j=>x({gate:j}),disabled:!h.enabled}),i.jsx(we,{label:"Swing",min:0,max:.75,step:.01,value:h.swingPct??0,onChange:j=>x({swingPct:j}),disabled:!h.enabled||h.division.endsWith("T")||h.division==="1/4"}),i.jsx(we,{label:"Root",min:36,max:84,step:1,value:h.rootMidi,onChange:j=>x({rootMidi:j}),disabled:!h.enabled}),i.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:12,alignItems:"center"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("input",{type:"checkbox",checked:W,onChange:j=>b(j.target.checked)}),i.jsx("span",{className:"label",children:"Edit Notes (Keyboard)"})]}),i.jsx("div",{className:"hint-text",style:{opacity:.8},children:"Keys: A/W/S... set notes • Arrows move • Z/X root ±1 oct • Space play/pause • +/- semitone • Backspace clear"})]}),i.jsx("div",{ref:E,tabIndex:0,onKeyDown:Q,style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(16, 1fr)",gap:6,outline:W?"1px dashed #2a3040":"none",borderRadius:6,padding:2},children:T.map((j,A)=>{const V=A<C,K=j.on&&V,ie=C>0?f%C:0,Pe=y.enabled&&p&&V&&ie===A;return i.jsx("div",{onClick:ue=>{ue.altKey?O(A,{offset:Math.max(-24,Math.min(24,(j.offset||0)+1))}):O(A,{on:!j.on}),I(A)},onContextMenu:ue=>{ue.preventDefault(),O(A,{offset:Math.max(-24,Math.min(24,(j.offset||0)-1))})},title:`Step ${A+1}${j.offset?`, ${j.offset>0?"+":""}${j.offset}`:""}`,style:{height:44,borderRadius:6,border:`1px solid ${Pe||A===L&&W?"var(--accent)":"#2a3040"}`,background:K?Pe?"var(--accent)":"#1d2432":"#0f1217",color:K?Pe?"#0f1217":"var(--text)":"#556",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none"},children:i.jsx("span",{style:{fontSize:11,opacity:.9},children:j.offset===0?"0":j.offset>0?`+${j.offset}`:`${j.offset}`})},A)})})]})})]})}const oo=[{id:"filter.cutoff",label:"Filter Cutoff",category:"Filter",description:"Move the filter cutoff frequency"},{id:"filter.q",label:"Filter Resonance",category:"Filter",description:"Adjust filter Q / resonance"},{id:"master.gain",label:"Master Gain",category:"Master",description:"Scale the master volume"},{id:"mix",label:"Osc Mix",category:"Oscillators",description:"Crossfade between Osc 1 and Osc 2"},{id:"osc1.detune",label:"Osc 1 Detune",category:"Oscillators",description:"Offset oscillator 1 pitch in cents"},{id:"osc2.detune",label:"Osc 2 Detune",category:"Oscillators",description:"Offset oscillator 2 pitch in cents"},{id:"fm.amount",label:"FM Amount",category:"FM",description:"Modulation index for FM routing"},{id:"envelope.attack",label:"Env Attack",category:"Envelope",description:"Envelope attack time"},{id:"envelope.release",label:"Env Release",category:"Envelope",description:"Envelope release time"},{id:"macro.harmonics",label:"Macro Harmonics",category:"Macro",description:"Macro engine harmonics"},{id:"macro.timbre",label:"Macro Timbre",category:"Macro",description:"Macro engine timbre"},{id:"macro.morph",label:"Macro Morph",category:"Macro",description:"Macro engine morph"},{id:"macro.level",label:"Macro Level",category:"Macro",description:"Macro engine output level"},{id:"lfo1.rateHz",label:"LFO 1 Rate",category:"LFO",description:"LFO1 rate in Hz"},{id:"lfo1.amount",label:"LFO 1 Amount",category:"LFO",description:"LFO1 depth"},{id:"lfo2.rateHz",label:"LFO 2 Rate",category:"LFO",description:"LFO2 rate in Hz"},{id:"lfo2.amount",label:"LFO 2 Amount",category:"LFO",description:"LFO2 depth"}],fc=Object.fromEntries(oo.map(u=>[u.id,u.label]));function op(){const u=ee(O=>O.engine),o=ee(O=>O.patch.expression)??U.expression,d=fc[o.x]??"X Axis",p=fc[o.y]??"Y Axis",f=Z.useRef(u),[g,S]=Z.useState(!1),[h,x]=Z.useState(null),T=Z.useRef(!1),C=Z.useRef(null),y=Z.useRef(null);Z.useEffect(()=>{f.current=u},[u]);const R=Z.useCallback(O=>{T.current=O,S(O),O||(y.current=null,C.current!=null&&(cancelAnimationFrame(C.current),C.current=null),f.current?.clearExpression2D(),x(null))},[]);return Z.useEffect(()=>{const O=E=>{E.key==="CapsLock"?R(E.getModifierState("CapsLock")):!E.getModifierState("CapsLock")&&T.current&&R(!1)},P=()=>R(!1);return window.addEventListener("keydown",O),window.addEventListener("keyup",O),window.addEventListener("blur",P),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",O),window.removeEventListener("blur",P)}},[R]),Z.useEffect(()=>{const O=()=>{if(C.current=null,!T.current)return;const I=y.current;I&&(y.current=null,f.current?.setExpression2D(I.x,I.y),x(I))},P=()=>{C.current==null&&(C.current=requestAnimationFrame(O))},E=I=>{if(!f.current)return;const W=I.getModifierState?.("CapsLock")??T.current;if(W!==T.current&&R(W),!W||!["mouse","touch","pen"].includes(I.pointerType))return;const b=Math.min(1,Math.max(0,I.clientX/window.innerWidth)),Q=Math.min(1,Math.max(0,1-I.clientY/window.innerHeight));y.current={x:b,y:Q},P()},L=()=>R(!1);return window.addEventListener("pointermove",E,{passive:!0}),window.addEventListener("pointerdown",E,{passive:!0}),window.addEventListener("pointerup",E,{passive:!0}),window.addEventListener("pointercancel",L),window.addEventListener("mouseleave",L),()=>{window.removeEventListener("pointermove",E),window.removeEventListener("pointerdown",E),window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",L),window.removeEventListener("mouseleave",L),C.current!=null&&(cancelAnimationFrame(C.current),C.current=null)}},[R]),u?i.jsxs("div",{className:`expression-overlay${g?" active":""}`,"aria-hidden":"true",children:[i.jsx("div",{className:"expression-label",children:"CapsLock XY Expression"}),g?i.jsxs("div",{className:"expression-status",children:["Active · ",d," ",((h?.x??.5)*100).toFixed(0),"% · ",p," ",((h?.y??.5)*100).toFixed(0),"%"]}):i.jsxs("div",{className:"expression-status",children:["Engage CapsLock and move on the trackpad to modulate ",d," / ",p]})]}):null}const pc="application/x-websynth-panel";function hc(u,a,o){if(!u.includes(a))return u;const d=u.filter(f=>f!==a),p=Math.max(0,Math.min(o,d.length));return[...d.slice(0,p),a,...d.slice(p)]}function ap({panels:u,order:a,onOrderChange:o,onRequestHelp:d}){const[p,f]=Z.useState(null),[g,S]=Z.useState(null),[h,x]=Z.useState(!1),T=Z.useMemo(()=>new Map(u.map(j=>[j.id,j])),[u]),C=Z.useMemo(()=>u.map(j=>j.id),[u]),y=Z.useMemo(()=>{const j=(a.length?a:C).filter(K=>T.has(K)),A=new Set(j),V=u.filter(K=>!A.has(K.id)).map(K=>K.id);return[...j,...V]},[a,C,T,u]),R=j=>A=>{A.dataTransfer.effectAllowed="move";try{A.dataTransfer.setData(pc,j)}catch{A.dataTransfer.setData("text/plain",j)}f(j),S(null),x(!1)},O=()=>{f(null),S(null),x(!1)},P=j=>{let A="";try{A=j.dataTransfer.getData(pc)}catch{A=j.dataTransfer.getData("text/plain")}return A||p},E=(j,A)=>V=>{if(V.preventDefault(),V.stopPropagation(),!p)return;const K=V.currentTarget.getBoundingClientRect(),ie=V.clientY<K.top+K.height/2;S({id:j,position:ie?"before":"after"}),x(!1)},L=(j,A)=>V=>{V.preventDefault(),V.stopPropagation();const K=P(V);if(!K)return;const ie=V.currentTarget.getBoundingClientRect(),ue=V.clientY<ie.top+ie.height/2?A:A+1,ke=hc(y,K,ue);o(ke),S(null),x(!1)},I=j=>A=>{A.stopPropagation(),g?.id===j&&S(null)},W=j=>{p&&(j.preventDefault(),S(null),x(!0))},b=j=>{j.preventDefault();const A=P(j);if(!A)return;const V=hc(y,A,y.length);o(V),S(null),x(!1)},Q=j=>A=>{A.preventDefault(),A.stopPropagation(),d?.(j)};return i.jsx("div",{className:`dashboard-grid${h?" drop-end":""}`,onDragOver:W,onDrop:b,children:y.map((j,A)=>{const V=T.get(j);if(!V)return null;const K=V.span??1,ie=p===j,Pe=g?.id===j&&g.position==="before",ue=g?.id===j&&g.position==="after",ke=["panel","dashboard-panel",ie?"dragging":"",Pe?"drop-before":"",ue?"drop-after":""].filter(Boolean).join(" ");return i.jsx("section",{className:ke,style:{gridColumn:K>1?`span ${K}`:void 0},onDragOver:E(V.id),onDrop:L(V.id,A),onDragLeave:I(V.id),children:i.jsxs("div",{className:"panel-body",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h3",{className:"panel-title",children:V.title}),i.jsxs("div",{className:"panel-actions",children:[d?i.jsx("button",{type:"button",className:"panel-help-button",onClick:Q(V.id),"aria-label":`Show help for ${V.title}`,children:"?"}):null,i.jsx("span",{className:"panel-drag-hint","aria-hidden":"true",draggable:!0,onDragStart:R(V.id),onDragEnd:O,children:"⋮⋮"})]})]}),V.render()]})},V.id)})})}const ro={init:{osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2}},mellowPad:{osc1:{wave:"triangle",detune:-5,finePct:0},osc2:{wave:"sawtooth",detune:3},mix:.35,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!0,octave:1,level:.2,wave:"sine"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:800,q:1.2},envelope:{attack:.4,decay:.8,sustain:.8,release:1.5},master:{gain:.25}},brightLead:{osc1:{wave:"square",detune:3,finePct:0},osc2:{wave:"sawtooth",detune:-6},mix:.5,fm:{enabled:!0,ratio:1.5,amount:120},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"bandpass",cutoff:1600,q:.7},envelope:{attack:.01,decay:.15,sustain:.5,release:.2},master:{gain:.22}}};function up(){const u=ee(g=>g.updatePatch),a=ee(g=>g.exportPatch),o=ee(g=>g.importPatch),d=Z.useRef(null),p=()=>{const g=a(),S=new Blob([g],{type:"application/json"}),h=URL.createObjectURL(S),x=document.createElement("a");x.href=h,x.download="patch.json",x.click(),URL.revokeObjectURL(h)},f=g=>{const S=g.target.files?.[0];if(!S)return;const h=new FileReader;h.onload=()=>{o(String(h.result))},h.readAsText(S)};return i.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[i.jsxs("div",{className:"row",style:{gap:8},children:[i.jsx("select",{onChange:g=>u(ro[g.target.value]),defaultValue:"init",children:Object.entries(ro).map(([g])=>i.jsx("option",{value:g,children:g},g))}),i.jsx("button",{onClick:()=>d.current?.click(),children:"Import"}),i.jsx("input",{ref:d,type:"file",accept:"application/json",style:{display:"none"},onChange:f}),i.jsx("button",{onClick:p,children:"Export"}),i.jsx("button",{onClick:()=>u(ro.init),children:"Reset"}),i.jsx("button",{title:"Clears local patches to recover from incompatible versions",onClick:()=>{localStorage.removeItem("websynth-patch"),location.reload()},children:"Clear Local"})]}),i.jsx("div",{className:"label",children:"Presets and Patch IO"})]})}function cp(){const a=ee(g=>g.patch.expression)??U.expression,o=ee(g=>g.updatePatch),d=Z.useMemo(()=>{const g=new Map;for(const S of oo){const h=g.get(S.category)??[];h.push(S),g.set(S.category,h)}return Array.from(g.entries())},[]),p=g=>S=>{const h=S.target.value,x=g==="x"?{x:h,y:a.y}:{x:a.x,y:h};o({expression:x})},f=g=>{const S=a?.[g];return oo.find(x=>x.id===S)?.description??"Select a destination to be controlled by the XY surface."};return i.jsxs("div",{className:"expression-panel",children:[i.jsxs("div",{className:"expression-row",children:[i.jsxs("label",{children:[i.jsx("span",{className:"label",children:"X Axis Target"}),i.jsx("select",{value:a?.x??U.expression.x,onChange:p("x"),children:d.map(([g,S])=>i.jsx("optgroup",{label:g,children:S.map(h=>i.jsx("option",{value:h.id,children:h.label},h.id))},g))})]}),i.jsx("p",{className:"hint-text",children:f("x")})]}),i.jsxs("div",{className:"expression-row",children:[i.jsxs("label",{children:[i.jsx("span",{className:"label",children:"Y Axis Target"}),i.jsx("select",{value:a?.y??U.expression.y,onChange:p("y"),children:d.map(([g,S])=>i.jsx("optgroup",{label:g,children:S.map(h=>i.jsx("option",{value:h.id,children:h.label},h.id))},g))})]}),i.jsx("p",{className:"hint-text",children:f("y")})]})]})}function lo({open:u,onClose:a,children:o,title:d="Settings",closeLabel:p="Close settings"}){return Z.useEffect(()=>{if(!u)return;const f=g=>{g.key==="Escape"&&a()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[u,a]),u?i.jsxs("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"modal-backdrop",onClick:a}),i.jsxs("div",{className:"modal",children:[i.jsxs("header",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:d}),i.jsx("button",{className:"modal-close",onClick:a,"aria-label":p,children:"×"})]}),i.jsx("div",{className:"modal-body",children:o})]})]}):null}const xc=16,rs=[{id:"kick",label:"Kick",midi:36,patch:{osc1:{wave:"sine",detune:-24},osc2:{wave:"sine",detune:0},mix:0,envelope:{attack:.001,decay:.18,sustain:0,release:.08},filter:{type:"lowpass",cutoff:380,q:.8},master:{gain:.35}}},{id:"snare",label:"Snare",midi:38,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:12},mix:.55,envelope:{attack:.001,decay:.22,sustain:0,release:.12},filter:{type:"bandpass",cutoff:1800,q:2.8},master:{gain:.28}}},{id:"hat",label:"Hat",midi:42,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:24},mix:.7,envelope:{attack:.001,decay:.08,sustain:0,release:.05},filter:{type:"highpass",cutoff:5e3,q:.9},master:{gain:.22}}}];function dp(){const u={};for(const a of rs)u[a.id]=Array.from({length:xc},()=>!1);return u.kick[0]=!0,u.kick[8]=!0,u.snare[4]=!0,u.snare[12]=!0,u.hat=u.hat.map((a,o)=>o%2===0),u}function fp(){const u=ee(O=>O.transport.tempo),a=ee(O=>O.transport.playing),o=ee(O=>O.transport.tick),d=ee(O=>O.setTempo),p=ee(O=>O.setTransportPlaying),[f,g]=Z.useState(()=>dp()),[S,h]=Z.useState(0),x=Z.useRef({}),T=Z.useRef(f);Z.useEffect(()=>{T.current=f},[f]);const C=async O=>{let P=x.current[O];P||(P=new so,x.current[O]=P),await P.resume();const E=rs.find(L=>L.id===O)?.patch;return E&&P.applyPatch({...U,...E}),P},y=async O=>{const P=T.current,E=rs.filter(L=>P[L.id]?.[O]);for(const L of E)(await C(L.id)).previewNote(L.midi,180)};Z.useEffect(()=>{if(!a){h(0);return}const O=o%xc;h(O),y(O)},[o,a]),Z.useEffect(()=>()=>{for(const O of Object.values(x.current))try{O.audioContext.close()}catch{}x.current={}},[]);const R=(O,P)=>{g(E=>{const L={...E,[O]:[...E[O]]};return L[O][P]=!L[O][P],L})};return i.jsxs("div",{className:"drum-machine",children:[i.jsxs("div",{className:"drum-controls",children:[i.jsx("button",{className:"play-button",onClick:()=>p(!a),children:a?"Stop":"Play"}),i.jsx(we,{label:"Tempo",min:60,max:180,step:1,value:u,onChange:O=>d(O)})]}),i.jsx("div",{className:"drum-grid",children:rs.map(O=>i.jsxs("div",{className:"drum-row",children:[i.jsx("div",{className:"drum-label",children:O.label}),i.jsx("div",{className:"drum-steps",children:f[O.id]?.map((P,E)=>{const L=a&&S===E;return i.jsx("button",{className:`drum-step${P?" active":""}${L?" current":""}`,onClick:()=>R(O.id,E)},E)})})]},O.id))})]})}const pp=4;function hp(){const u=ee(f=>f.transport.tempo),a=ee(f=>f.transport.playing),o=ee(f=>f.bumpTransportTick),d=ee(f=>f.patch),p=ee(f=>f.updatePatch);return Z.useEffect(()=>{if(!a)return;const f=6e4/u/pp,g=window.setInterval(()=>o(),f);return()=>window.clearInterval(g)},[a,u,o]),Z.useEffect(()=>{const f=d.sequencer??U.sequencer;f?.enabled&&f.playing!==a&&p({sequencer:{...f,playing:a}})},[a,d.sequencer,p]),Z.useEffect(()=>{const f=d.sequencer??U.sequencer;f?.enabled&&f.bpm!==u&&p({sequencer:{...f,bpm:u}});const g=d.arp??U.arp;g?.enabled&&(g.bpm!==u||!g.bpmSync)&&p({arp:{...g,bpm:u,bpmSync:!0}})},[u,d.sequencer,d.arp,p]),null}const mc=144,mp=128;function vp(u){return Array.from(u.inputs.values()).map(a=>({id:a.id,name:a.name??"Unknown input",manufacturer:a.manufacturer??null}))}let Ur=null;function wc(){return Ur||(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"?Promise.reject(new Error("Web MIDI API is not supported in this environment")):(Ur=navigator.requestMIDIAccess({sysex:!1}).finally(()=>{Ur=null}),Ur))}function gp(){const u=ee(T=>T.engine),a=ee(T=>T.midi),o=ee(T=>T.setMidiSupported),d=ee(T=>T.setMidiStatus),p=ee(T=>T.setMidiInputs),f=ee(T=>T.setMidiSelectedInput),g=ee(T=>T.setMidiActiveNotes),S=Z.useRef(null),h=Z.useRef(null),x=Z.useRef(new Set);return Z.useEffect(()=>{if(!a.enabled){const C=Array.from(x.current);C.length&&u&&C.forEach(R=>u.noteOff(R)),x.current.clear(),g([]);const y=a.supported===!1?"unsupported":"idle";a.status!==y&&d(y),p([]),S.current&&(S.current.onstatechange=null);return}if(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"){o(!1),d("unsupported");return}let T=!1;return o(!0),d("requesting"),wc().then(C=>{if(T)return;S.current=C;const y=()=>{const R=vp(C);p(R);const{selectedInputId:O}=ee.getState().midi;R.length===0&&(x.current.clear(),g([])),R.length>0?R.some(E=>E.id===O)||f(R[0]?.id??null):O&&f(null)};y(),C.onstatechange=()=>y(),d("ready")}).catch(C=>{if(T)return;const y=C instanceof Error?C.message:"Failed to access MIDI devices";d("error",y)}),()=>{T=!0,S.current&&(S.current.onstatechange=null),S.current=null}},[u,a.enabled,g,p,f,d,o]),Z.useEffect(()=>{if(!a.enabled){h.current&&(h.current.onmidimessage=null,h.current=null);return}const T=S.current;if(!T)return;const C=a.selectedInputId,y=C?Array.from(T.inputs.values()).find(O=>O.id===C):null;if(h.current&&h.current!==y){h.current.onmidimessage=null,h.current=null;const O=Array.from(x.current);O.length&&u&&O.forEach(P=>u.noteOff(P)),x.current.clear(),g([])}if(!y)return;const R=O=>{const P=O.data;if(!P||P.length<2)return;const E=P[0],L=P[1],I=P[2]??0,W=E&240,b=L;if(W===mc&&I>0){u&&u.noteOn(b),x.current.add(b),g(Array.from(x.current));return}(W===mp||W===mc&&I===0)&&(u&&u.noteOff(b),x.current.delete(b),g(Array.from(x.current)))};return y.onmidimessage=R,h.current=y,()=>{y.onmidimessage===R&&(y.onmidimessage=null);const O=Array.from(x.current);O.length&&u&&O.forEach(P=>u.noteOff(P)),x.current.clear(),g([])}},[u,a.enabled,a.selectedInputId,g]),null}const yp={idle:"Not connected",requesting:"Awaiting browser permission...",ready:"Connected",error:"Connection error",unsupported:"Not supported"};function xp(){const u=ee(h=>h.midi),a=ee(h=>h.setMidiEnabled),o=ee(h=>h.setMidiSelectedInput),d=ee(h=>h.setMidiStatus),p=ee(h=>h.setMidiSupported),f=Z.useMemo(()=>{const h=yp[u.status]??"Unknown";return u.status==="error"&&u.lastError?`${h}: ${u.lastError}`:u.status==="ready"&&u.inputs.length===0?"Connected - no inputs detected":h},[u.inputs.length,u.lastError,u.status]),g=u.supported===!1,S=Z.useCallback(h=>{if(!h.target.checked){a(!1);return}d("requesting"),a(!0),wc().then(()=>{p(!0)}).catch(T=>{const C=T instanceof Error?T.message:"Failed to access MIDI devices";if(T instanceof Error&&/not supported/i.test(T.message)){p(!1),d("unsupported"),a(!1);return}p(!0),d("error",C)})},[a,d,p]);return i.jsxs("div",{className:"settings-card",children:[i.jsxs("div",{className:"settings-row",children:[i.jsx("label",{className:"settings-label",htmlFor:"midi-enabled",children:"Enable MIDI input"}),i.jsx("input",{id:"midi-enabled",type:"checkbox",checked:u.enabled,onChange:S,disabled:g})]}),i.jsxs("div",{className:"settings-row",children:[i.jsx("span",{className:"settings-label",children:"Status"}),i.jsx("span",{className:"settings-value","data-status":u.status,children:f})]}),u.status==="unsupported"?i.jsx("p",{className:"settings-help",children:"This browser does not expose the Web MIDI API. Try Chrome or Edge on desktop."}):null,i.jsxs("div",{className:"settings-row",children:[i.jsx("label",{className:"settings-label",htmlFor:"midi-input",children:"MIDI input device"}),i.jsxs("select",{id:"midi-input",value:u.selectedInputId??"",onChange:h=>{const x=h.target.value;o(x.length?x:null)},disabled:!u.enabled||u.inputs.length===0,children:[u.inputs.length===0?i.jsx("option",{value:"",children:"No inputs detected"}):null,u.inputs.map(h=>i.jsxs("option",{value:h.id,children:[h.name,h.manufacturer?` (${h.manufacturer})`:""]},h.id))]})]}),u.enabled&&u.inputs.length===0?i.jsx("p",{className:"settings-help",children:"Plug in a controller or check browser permissions."}):null]})}function wp({href:u="https://github.com/szabadkai/synth-demo"}){return i.jsxs("a",{className:"github-corner",href:u,"aria-label":"View WebSynth Studio on GitHub",target:"_blank",rel:"noreferrer noopener",children:[i.jsx("span",{className:"sr-only",children:"View the project repository on GitHub"}),i.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:i.jsx("path",{d:"M12 0a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58 0-.29-.01-1.05-.02-2.05-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.35-1.78-1.35-1.78-1.11-.76.08-.75.08-.75 1.22.09 1.87 1.26 1.87 1.26 1.09 1.86 2.86 1.32 3.56 1 .11-.79.43-1.32.78-1.62-2.66-.3-5.47-1.33-5.47-5.9 0-1.3.47-2.37 1.24-3.21-.12-.3-.54-1.51.12-3.15 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23.66 1.64.24 2.85.12 3.15.77.84 1.24 1.9 1.24 3.21 0 4.58-2.82 5.6-5.5 5.9.44.39.83 1.16.83 2.34 0 1.69-.02 3.05-.02 3.47 0 .32.22.69.83.57A12 12 0 0 0 12 0Z"})})]})}const Sp=[{title:"Power On + Audio Check",points:["Click Power On (or press any key) to resume the audio engine – browsers block sound until you interact.","Hold a note on the on-screen keyboard or your computer keys (A/W/S…) to confirm audio output.","Watch the Audio Ready badge so you know the synth engine is live and responsive."]},{title:"Dashboard Basics",points:["Each panel can be dragged by the ⋮⋮ handle to personalise your layout.","Use the Oscilloscope panel to visualise how oscillator, filter, and envelope tweaks shape the signal.","Dive into Oscillator, Filter, Envelope, and Effects panels to sculpt tone, dynamics, and ambience."]},{title:"Modulation Playground",points:["Assign LFOs to pitch, filter, or effect targets for evolving textures – adjust rate, shape, sync, and depth.","Flip on the Arpeggiator to latch held notes, experiment with patterns, octave ranges, and tempo sync.","Program riffs in the Sequencer, toggle steps live, and shape groove with direction and swing."]},{title:"Rhythm Layer",points:["Open the Drum Machine to sequence kick, snare, and hat voices using the shared global transport.","Hit Play/Stop in the Drum Machine (or space bar in the Sequencer) to drive every tempo-aware module.","Adjust BPM from either panel – the Transport keeps LFO sync, sequencer rate, and arps locked in."]},{title:"Expressive Performance",points:["Engage CapsLock to activate the 2D expression surface; glide a trackpad, mouse, or pen for live modulation.","Check the overlay label to see which parameters the X/Y axes control and their real-time values.","Customise X/Y destinations under Settings → Expression to map filter sweeps, macro blends, and more."]},{title:"Patch Workflow",points:["Browse built-in presets from Settings → Patches to explore starting points for new sounds.","Export your patch as JSON to share, import saved patches, or reset to the init patch at any time.","Use Clear Local if you ever need to wipe cached patches after upgrading the app."]},{title:"Hardware MIDI",points:["Toggle Enable MIDI input in Settings → MIDI to request browser permission for your controller.","Select a detected device and play – incoming notes route straight into the synth voice engine.","Status hints show permission prompts, errors, or a friendly ready state so you know what to expect."]},{title:"Next Steps",points:["Layer Sequencer, Arpeggiator, Drum Machine, and expression surface for full arrangements.","Save favourite patches into src/patches/ to share with your team or future sessions.","Before shipping changes, run npm run lint, npm run typecheck, npm test, and npm run build to keep QA tight."]}];function kp(){return i.jsxs("div",{className:"onboarding-guide",children:[i.jsx("p",{className:"onboarding-intro",children:"New to WebSynth Studio? Work through the highlights below, tweaking the live app as you go. Each section points you to the panels and controls that define the instrument."}),i.jsx("ol",{className:"onboarding-list",children:Sp.map(u=>i.jsxs("li",{className:"onboarding-section",children:[i.jsx("h4",{children:u.title}),i.jsx("ul",{children:u.points.map(a=>i.jsx("li",{children:a},a))})]},u.title))})]})}const vc="websynth-guide-seen",jp=["oscilloscope","oscillator","effects","lfos","arp","sequencer","drum","keyboard"];function Ep(u){return jp.includes(u)}function Mp(){const u=ee(P=>P.engine),a=ee(P=>P.setEngine),o=ee(P=>P.patch),[d,p]=Z.useState(!1),[f,g]=Z.useState(!1),[S,h]=Z.useState(null);Z.useEffect(()=>{try{localStorage.getItem(vc)||g(!0)}catch{}},[]),Z.useEffect(()=>{const P=async()=>{if(!ee.getState().engine){const E=new so;await E.resume(),E.applyPatch(o),a(E)}window.removeEventListener("pointerdown",P),window.removeEventListener("keydown",P)};return window.addEventListener("pointerdown",P),window.addEventListener("keydown",P),()=>{window.removeEventListener("pointerdown",P),window.removeEventListener("keydown",P)}},[o,a]);const x=async()=>{if(!u){const P=new so;await P.resume(),P.applyPatch(o),a(P)}},T=[{id:"oscilloscope",title:"Oscilloscope",span:2,render:()=>i.jsxs("div",{className:"oscilloscope-stack",children:[i.jsx(np,{}),i.jsxs("div",{className:"oscilloscope-row",children:[i.jsx(Kf,{}),i.jsx(Xf,{})]})]})},{id:"oscillator",title:"Oscillator",span:2,render:()=>i.jsx(Qf,{})},{id:"effects",title:"Effects",span:2,render:()=>i.jsx(rp,{})},{id:"lfos",title:"LFOs",span:2,render:()=>i.jsx(lp,{})},{id:"arp",title:"Arpeggiator",span:2,render:()=>i.jsx(sp,{})},{id:"sequencer",title:"Sequencer",span:2,render:()=>i.jsx(ip,{})},{id:"drum",title:"Drum Machine",span:2,render:()=>i.jsx(fp,{})},{id:"keyboard",title:"Keyboard",span:2,render:()=>i.jsx(tp,{})}],C=ee(P=>P.layoutOrder),y=ee(P=>P.setLayoutOrder),R=Z.useMemo(()=>({oscilloscope:{title:"Oscilloscope & Signal Shaping",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"This column stacks the live scope with the filter and envelope controls so you can see and hear how each tweak reshapes the voice in real time."}),i.jsx("h5",{children:"Oscilloscope"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Live waveform"})," shows the post-filter signal—watch for clipping, phase inversion, or DC offset."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Visual feedback"})," makes it easy to dial envelope curves or modulation depth by eye."]})]}),i.jsx("h5",{children:"Filter"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Filter Type"}),": switch between low-pass, high-pass, band-pass, or notch responses."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cutoff"}),": set the corner frequency (40–8 kHz)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Resonance"}),": emphasise frequencies around the cutoff for squelchy tones or formants."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Master"}),": trim the synth output to prevent overload after heavy resonance or drive."]})]}),i.jsx("h5",{children:"Envelope"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Attack/Decay"}),": tune how quickly the note ramps up and falls back."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Sustain"}),": set the plateau level while a key is held."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Release"}),": control how long the tail rings once the note stops."]})]}),i.jsx("h5",{children:"Workflow Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Start with moderate sustain and adjust cutoff until the oscilloscope shows a balanced waveform."}),i.jsx("li",{children:"Use short attacks with high resonance for plucky stabs, or longer releases for pads."})]})]})},oscillator:{title:"Oscillator Engine",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"The oscillator panel builds the raw tone. Switch between the classic dual-oscillator stack and the macro voice engine."}),i.jsx("h5",{children:"Classic Mode"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Mode"}),": choose Classic to expose Osc 1 and Osc 2 controls; Macro flips to the multi-model engine."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Wave"}),": pick saw, square, triangle, sine, or noise per oscillator."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Detune/Fine"}),": detune Osc 1 in cents for chorus movement; fine tune provides subtle offsets."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Mix"}),": blend Osc 1 against Osc 2 to balance the tone."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"FM toggle"}),": enable frequency modulation, then set ",i.jsx("strong",{children:"Ratio"})," for the modulator harmonic and ",i.jsx("strong",{children:"Amount"})," for depth."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ring toggle"}),": engage ring modulation and scale its ",i.jsx("strong",{children:"Amount"})," for metallic textures."]})]}),i.jsx("h5",{children:"Macro Mode"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Model"}),": jump between macro-oscillator flavours (VA, wavefold, pluck, FM 2-Op, etc.)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Harmonics/Timbre/Morph"}),": scan each model’s parameter set—great for morphing wavetables or shaping plucks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Level"}),": trim the macro engine output when layering with other voices."]})]}),i.jsx("h5",{children:"Sound Design Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Stack slight detune plus a touch of ring modulation for wide analog pads."}),i.jsx("li",{children:"Macro models respond well to LFO or expression assignments—map CapsLock X/Y to Morph or Timbre for live movement."})]})]})},effects:{title:"Effects Rack",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Delay and reverb live here so you can finish a patch without leaving the synth view."}),i.jsx("h5",{children:"Delay"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Enabled"}),": toggle the bucket-brigade style delay."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Time"}),": set delay time in seconds (0–1.5s). Syncs nicely with tempo divisions."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Feedback"}),": control repeats; keep under ~0.7 for stable feedback."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Mix"}),": blend the wet signal back with the dry synth."]})]}),i.jsx("h5",{children:"Reverb"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Enabled"}),": load the convolution reverb stage."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Size"}),": pick the impulse “room” length."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Decay"}),": shape how long the tail sustains."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Mix"}),": balance ambience without washing out the dry signal."]})]}),i.jsx("h5",{children:"Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Short delay times with low mix create slapback for bass and plucks."}),i.jsx("li",{children:"Cut delay feedback when engaging heavy reverb to avoid muddiness."})]})]})},lfos:{title:"LFO Modulators",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Two low-frequency oscillators inject motion into almost any destination in the patch."}),i.jsx("h5",{children:"LFO Controls"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Enabled"}),": arm the modulation path for each LFO."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Wave"}),": choose sine, triangle, square, or saw for the modulation shape."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Dest"}),": route to pitch, filter, or amp—tie depth to macros or expression for more routings."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rate"}),": set frequency in Hz (0.01–20); syncs with tempo when combined with the transport."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Amount"}),": scale modulation depth; automate this with the Sequencer or expression surface for evolving sounds."]})]}),i.jsx("h5",{children:"Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Use LFO1 for slow filter sweeps and LFO2 for faster vibrato or tremolo."}),i.jsx("li",{children:"Disable the checkbox to park an LFO without losing its configuration."})]})]})},arp:{title:"Arpeggiator",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Turn held chords into rhythmic runs that follow the global transport."}),i.jsx("h5",{children:"Playback"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Enabled"}),": start capturing held notes."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Latch"}),": keep notes running after you release the keys."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Clear"}),": flush the current latched chord without toggling the arp off."]})]}),i.jsx("h5",{children:"Timing"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Mode"}),": set traversal (up, down, up/down, random, as played)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Octaves"}),": extend the pattern across 1–4 octaves."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Chord"}),": fold power chords, triads, or sevenths into each step."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Division"}),": choose rhythmic value (1/4–1/16T)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"BPM"}),": the slider writes to the global tempo so drums and sequencer stay in sync."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Gate/Swing"}),": tighten note length and groove feel."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Repeats/Length"}),": loop steps multiple times or clamp the pattern length."]})]}),i.jsx("h5",{children:"Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Combine Latch with the Sequencer for counterpoint—that way the arp handles chords while the sequencer drives lead lines."}),i.jsx("li",{children:"Use the expression surface to modulate filter cutoff while the arp runs for dynamic sweeps."})]})]})},sequencer:{title:"Step Sequencer",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Program note offsets and modulation lanes across up to 16 steps—perfect for basslines or evolving textures."}),i.jsx("h5",{children:"Transport & Timing"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Play"}),": toggles the shared transport; the button mirrors the space-bar shortcut."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Enabled"}),": arm the sequencer without nuking your pattern."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Tempo"}),": linked to the global BPM so drums and arp line up."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Division"}),": set step rate (quarter to triplet sixteenths)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Length"}),": choose how many steps play before looping."]})]}),i.jsx("h5",{children:"Shape the Pattern"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Gate"}),": change note length; great for staccato acid lines."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Swing"}),": add shuffle (disabled for triplets and quarter notes)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Root"}),": slide the entire sequence up or down in pitch."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Edit Notes (Keyboard)"}),": enable to type notes with A/W/S…; +/- nudges semitones, Z/X shifts the root octave."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Step grid"}),": click to toggle notes, ",i.jsx("strong",{children:"Alt+click"})," raises semitone offset, right-click lowers it."]})]}),i.jsx("h5",{children:"Visual Feedback"}),i.jsxs("ul",{children:[i.jsx("li",{children:"The highlighted cell shows the playhead; cursor outlines follow keyboard edit focus."}),i.jsx("li",{children:"Offsets in the cells (+/- values) represent semitone shifts relative to Root."})]})]})},drum:{title:"Drum Machine",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Create percussive backbeats that share tempo and transport with the synth voice."}),i.jsx("h5",{children:"Transport"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Play/Stop"}),": drives the global clock, so sequencer and arp follow the same BPM."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Tempo"}),": change BPM with the slider—applies everywhere."]})]}),i.jsx("h5",{children:"Programming"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Step buttons"}),": click to toggle hits for kick, snare, and hat; glowing steps are active."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Current step highlight"}),": a brighter cell shows the beat currently firing."]}),i.jsx("li",{children:"Each instrument has its own SynthEngine voice with curated patches for punchy drums."})]}),i.jsx("h5",{children:"Tips"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Start with the default 4-on-the-floor kick and build snare/hat syncopation around it."}),i.jsx("li",{children:"Layer sequencer basslines with hats on offbeats for instant groove."})]})]})},keyboard:{title:"Keyboard & Performance",body:i.jsxs("div",{className:"module-help",children:[i.jsx("p",{children:"Play and monitor incoming notes from both the computer keyboard and external MIDI controllers."}),i.jsx("h5",{children:"Computer Keys"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Mapping"}),": A/W/S/D/F/G… map to white and black keys; apostrophe reaches two octaves up."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Z / X"}),": shift the octave indicator down or up in 12-semitone jumps."]}),i.jsx("li",{children:"Held keys appear highlighted so you always know what is sustaining."})]}),i.jsx("h5",{children:"Pointer & Touch"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Click or drag for glissando; multi-touch (trackpad/tablet) keeps parallel notes held."}),i.jsx("li",{children:"Black keys float above the whites for accurate gliss transitions."})]}),i.jsx("h5",{children:"MIDI Integration"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Notes triggered from external hardware light up alongside local keys—great for debugging MIDI routing."}),i.jsx("li",{children:"The octave badge shows the base MIDI note and offset so you can align hardware controllers quickly."})]})]})}}),[]),O=S?R[S]:null;return i.jsxs("div",{className:"app",children:[i.jsx(wp,{}),i.jsx(gp,{}),i.jsxs("header",{className:"header",children:[i.jsx("h2",{children:"WebSynth Studio"}),i.jsxs("div",{className:"row",children:[i.jsx("button",{onClick:x,children:u?"Audio Ready":"Power On"}),i.jsx("button",{onClick:()=>{g(!0)},children:"Help"}),i.jsx("button",{onClick:()=>p(!0),children:"Settings"})]})]}),i.jsx("main",{children:i.jsx(ap,{panels:T,order:C,onOrderChange:y,onRequestHelp:P=>{Ep(P)&&h(P)}})}),i.jsx(op,{}),i.jsx(lo,{open:S!=null,onClose:()=>h(null),title:O?.title??"Module Help",closeLabel:"Close module help",children:O?.body??i.jsx("p",{children:"Help content coming soon."})}),i.jsx(lo,{open:f,onClose:()=>{try{localStorage.setItem(vc,"1")}catch{}g(!1)},title:"Onboarding Guide",closeLabel:"Close help overlay",children:i.jsx(kp,{})}),i.jsxs(lo,{open:d,onClose:()=>p(!1),children:[i.jsxs("section",{className:"settings-section",children:[i.jsx("h4",{className:"settings-heading",children:"Patches"}),i.jsx(up,{})]}),i.jsxs("section",{className:"settings-section",children:[i.jsx("h4",{className:"settings-heading",children:"Expression"}),i.jsx(cp,{})]}),i.jsxs("section",{className:"settings-section",children:[i.jsx("h4",{className:"settings-heading",children:"MIDI"}),i.jsx(xp,{})]})]}),i.jsx(hp,{})]})}const Cp=Cf.createRoot(document.getElementById("root"));Cp.render(i.jsx(Mp,{}));
