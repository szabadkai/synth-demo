(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))c(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const v of f.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function o(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerPolicy&&(f.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?f.credentials="include":p.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(p){if(p.ep)return;p.ep=!0;const f=o(p);fetch(p.href,f)}})();function xc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Gi={exports:{}},Br={},Qi={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function wf(){if(Yu)return Se;Yu=1;var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=j&&k[j]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function O(k,z,fe){this.props=k,this.context=z,this.refs=P,this.updater=fe||b}O.prototype.isReactComponent={},O.prototype.setState=function(k,z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,z,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=O.prototype;function L(k,z,fe){this.props=k,this.context=z,this.refs=P,this.updater=fe||b}var $=L.prototype=new R;$.constructor=L,T($,O.prototype),$.isPureReactComponent=!0;var D=Array.isArray,Q=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function G(k,z,fe){var ue,ge={},ye=null,we=null;if(z!=null)for(ue in z.ref!==void 0&&(we=z.ref),z.key!==void 0&&(ye=""+z.key),z)Q.call(z,ue)&&!I.hasOwnProperty(ue)&&(ge[ue]=z[ue]);var xe=arguments.length-2;if(xe===1)ge.children=fe;else if(1<xe){for(var Te=Array(xe),$e=0;$e<xe;$e++)Te[$e]=arguments[$e+2];ge.children=Te}if(k&&k.defaultProps)for(ue in xe=k.defaultProps,xe)ge[ue]===void 0&&(ge[ue]=xe[ue]);return{$$typeof:u,type:k,key:ye,ref:we,props:ge,_owner:E.current}}function Y(k,z){return{$$typeof:u,type:k.type,key:z,ref:k.ref,props:k.props,_owner:k._owner}}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===u}function Ne(k){var z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return z[fe]})}var me=/\/+/g;function je(k,z){return typeof k=="object"&&k!==null&&k.key!=null?Ne(""+k.key):z.toString(36)}function Ve(k,z,fe,ue,ge){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(ye){case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case u:case a:we=!0}}if(we)return we=k,ge=ge(we),k=ue===""?"."+je(we,0):ue,D(ge)?(fe="",k!=null&&(fe=k.replace(me,"$&/")+"/"),Ve(ge,z,fe,"",function($e){return $e})):ge!=null&&(oe(ge)&&(ge=Y(ge,fe+(!ge.key||we&&we.key===ge.key?"":(""+ge.key).replace(me,"$&/")+"/")+k)),z.push(ge)),1;if(we=0,ue=ue===""?".":ue+":",D(k))for(var xe=0;xe<k.length;xe++){ye=k[xe];var Te=ue+je(ye,xe);we+=Ve(ye,z,fe,Te,ge)}else if(Te=y(k),typeof Te=="function")for(k=Te.call(k),xe=0;!(ye=k.next()).done;)ye=ye.value,Te=ue+je(ye,xe++),we+=Ve(ye,z,fe,Te,ge);else if(ye==="object")throw z=String(k),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return we}function et(k,z,fe){if(k==null)return k;var ue=[],ge=0;return Ve(k,ue,"","",function(ye){return z.call(fe,ye,ge++)}),ue}function ve(k){if(k._status===-1){var z=k._result;z=z(),z.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=z)}if(k._status===1)return k._result.default;throw k._result}var ae={current:null},V={transition:null},te={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:V,ReactCurrentOwner:E};function K(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:et,forEach:function(k,z,fe){et(k,function(){z.apply(this,arguments)},fe)},count:function(k){var z=0;return et(k,function(){z++}),z},toArray:function(k){return et(k,function(z){return z})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Se.Component=O,Se.Fragment=o,Se.Profiler=p,Se.PureComponent=L,Se.StrictMode=c,Se.Suspense=h,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Se.act=K,Se.cloneElement=function(k,z,fe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ue=T({},k.props),ge=k.key,ye=k.ref,we=k._owner;if(z!=null){if(z.ref!==void 0&&(ye=z.ref,we=E.current),z.key!==void 0&&(ge=""+z.key),k.type&&k.type.defaultProps)var xe=k.type.defaultProps;for(Te in z)Q.call(z,Te)&&!I.hasOwnProperty(Te)&&(ue[Te]=z[Te]===void 0&&xe!==void 0?xe[Te]:z[Te])}var Te=arguments.length-2;if(Te===1)ue.children=fe;else if(1<Te){xe=Array(Te);for(var $e=0;$e<Te;$e++)xe[$e]=arguments[$e+2];ue.children=xe}return{$$typeof:u,type:k.type,key:ge,ref:ye,props:ue,_owner:we}},Se.createContext=function(k){return k={$$typeof:v,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},Se.createElement=G,Se.createFactory=function(k){var z=G.bind(null,k);return z.type=k,z},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:w,render:k}},Se.isValidElement=oe,Se.lazy=function(k){return{$$typeof:C,_payload:{_status:-1,_result:k},_init:ve}},Se.memo=function(k,z){return{$$typeof:g,type:k,compare:z===void 0?null:z}},Se.startTransition=function(k){var z=V.transition;V.transition={};try{k()}finally{V.transition=z}},Se.unstable_act=K,Se.useCallback=function(k,z){return ae.current.useCallback(k,z)},Se.useContext=function(k){return ae.current.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k){return ae.current.useDeferredValue(k)},Se.useEffect=function(k,z){return ae.current.useEffect(k,z)},Se.useId=function(){return ae.current.useId()},Se.useImperativeHandle=function(k,z,fe){return ae.current.useImperativeHandle(k,z,fe)},Se.useInsertionEffect=function(k,z){return ae.current.useInsertionEffect(k,z)},Se.useLayoutEffect=function(k,z){return ae.current.useLayoutEffect(k,z)},Se.useMemo=function(k,z){return ae.current.useMemo(k,z)},Se.useReducer=function(k,z,fe){return ae.current.useReducer(k,z,fe)},Se.useRef=function(k){return ae.current.useRef(k)},Se.useState=function(k){return ae.current.useState(k)},Se.useSyncExternalStore=function(k,z,fe){return ae.current.useSyncExternalStore(k,z,fe)},Se.useTransition=function(){return ae.current.useTransition()},Se.version="18.3.1",Se}var Xu;function Vr(){return Xu||(Xu=1,Qi.exports=wf()),Qi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function Sf(){if(Zu)return Br;Zu=1;var u=Vr(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function v(w,h,g){var C,j={},y=null,b=null;g!==void 0&&(y=""+g),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(b=h.ref);for(C in h)c.call(h,C)&&!f.hasOwnProperty(C)&&(j[C]=h[C]);if(w&&w.defaultProps)for(C in h=w.defaultProps,h)j[C]===void 0&&(j[C]=h[C]);return{$$typeof:a,type:w,key:y,ref:b,props:j,_owner:p.current}}return Br.Fragment=o,Br.jsx=v,Br.jsxs=v,Br}var Ju;function kf(){return Ju||(Ju=1,Gi.exports=Sf()),Gi.exports}var s=kf(),Jl={},Ki={exports:{}},vt={},Yi={exports:{}},Xi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec;function jf(){return ec||(ec=1,(function(u){function a(V,te){var K=V.length;V.push(te);e:for(;0<K;){var k=K-1>>>1,z=V[k];if(0<p(z,te))V[k]=te,V[K]=z,K=k;else break e}}function o(V){return V.length===0?null:V[0]}function c(V){if(V.length===0)return null;var te=V[0],K=V.pop();if(K!==te){V[0]=K;e:for(var k=0,z=V.length,fe=z>>>1;k<fe;){var ue=2*(k+1)-1,ge=V[ue],ye=ue+1,we=V[ye];if(0>p(ge,K))ye<z&&0>p(we,ge)?(V[k]=we,V[ye]=K,k=ye):(V[k]=ge,V[ue]=K,k=ue);else if(ye<z&&0>p(we,K))V[k]=we,V[ye]=K,k=ye;else break e}}return te}function p(V,te){var K=V.sortIndex-te.sortIndex;return K!==0?K:V.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var v=Date,w=v.now();u.unstable_now=function(){return v.now()-w}}var h=[],g=[],C=1,j=null,y=3,b=!1,T=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(V){for(var te=o(g);te!==null;){if(te.callback===null)c(g);else if(te.startTime<=V)c(g),te.sortIndex=te.expirationTime,a(h,te);else break;te=o(g)}}function D(V){if(P=!1,$(V),!T)if(o(h)!==null)T=!0,ve(Q);else{var te=o(g);te!==null&&ae(D,te.startTime-V)}}function Q(V,te){T=!1,P&&(P=!1,R(G),G=-1),b=!0;var K=y;try{for($(te),j=o(h);j!==null&&(!(j.expirationTime>te)||V&&!Ne());){var k=j.callback;if(typeof k=="function"){j.callback=null,y=j.priorityLevel;var z=k(j.expirationTime<=te);te=u.unstable_now(),typeof z=="function"?j.callback=z:j===o(h)&&c(h),$(te)}else c(h);j=o(h)}if(j!==null)var fe=!0;else{var ue=o(g);ue!==null&&ae(D,ue.startTime-te),fe=!1}return fe}finally{j=null,y=K,b=!1}}var E=!1,I=null,G=-1,Y=5,oe=-1;function Ne(){return!(u.unstable_now()-oe<Y)}function me(){if(I!==null){var V=u.unstable_now();oe=V;var te=!0;try{te=I(!0,V)}finally{te?je():(E=!1,I=null)}}else E=!1}var je;if(typeof L=="function")je=function(){L(me)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,et=Ve.port2;Ve.port1.onmessage=me,je=function(){et.postMessage(null)}}else je=function(){O(me,0)};function ve(V){I=V,E||(E=!0,je())}function ae(V,te){G=O(function(){V(u.unstable_now())},te)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(V){V.callback=null},u.unstable_continueExecution=function(){T||b||(T=!0,ve(Q))},u.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<V?Math.floor(1e3/V):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_getFirstCallbackNode=function(){return o(h)},u.unstable_next=function(V){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var K=y;y=te;try{return V()}finally{y=K}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=y;y=V;try{return te()}finally{y=K}},u.unstable_scheduleCallback=function(V,te,K){var k=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?k+K:k):K=k,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,V={id:C++,callback:te,priorityLevel:V,startTime:K,expirationTime:z,sortIndex:-1},K>k?(V.sortIndex=K,a(g,V),o(h)===null&&V===o(g)&&(P?(R(G),G=-1):P=!0,ae(D,K-k))):(V.sortIndex=z,a(h,V),T||b||(T=!0,ve(Q))),V},u.unstable_shouldYield=Ne,u.unstable_wrapCallback=function(V){var te=y;return function(){var K=y;y=te;try{return V.apply(this,arguments)}finally{y=K}}}})(Xi)),Xi}var tc;function Ef(){return tc||(tc=1,Yi.exports=jf()),Yi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc;function Mf(){if(nc)return vt;nc=1;var u=Vr(),a=Ef();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,p={};function f(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(p[e]=t,e=0;e<t.length;e++)c.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},j={};function y(e){return h.call(j,e)?!0:h.call(C,e)?!1:g.test(e)?j[e]=!0:(C[e]=!0,!1)}function b(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,r){if(t===null||typeof t>"u"||b(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,n,r,l,i,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=d}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,L);O[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,L);O[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,L);O[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,n,r){var l=O.hasOwnProperty(t)?O[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,l,r)&&(n=null),r||l===null?y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var D=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),V=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,k;function z(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var fe=!1;function ue(e,t){if(!e||fe)return"";fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),i=r.stack.split(`
`),d=l.length-1,m=i.length-1;1<=d&&0<=m&&l[d]!==i[m];)m--;for(;1<=d&&0<=m;d--,m--)if(l[d]!==i[m]){if(d!==1||m!==1)do if(d--,m--,0>m||l[d]!==i[m]){var x=`
`+l[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=m);break}}}finally{fe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function ge(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case E:return"Portal";case Y:return"Profiler";case G:return"StrictMode";case je:return"Suspense";case Ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ne:return(e.displayName||"Context")+".Consumer";case oe:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case et:return t=e.displayName||null,t!==null?t:ye(e.type)||"Memo";case ve:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $e(e){var t=Te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){r=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ce(e){e._valueTracker||(e._valueTracker=$e(e))}function Be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Te(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function De(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function A(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function le(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xe(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function he(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function pe(e,t){he(e,t);var n=xe(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wn(e,t.type,n):t.hasOwnProperty("defaultValue")&&wn(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wn(e,t,n){(t!=="number"||De(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Et=Array.isArray;function ze(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Le(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(Et(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xe(n)}}function Vt(e,t){var n=xe(t.value),r=xe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ke(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Re,at=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Re=Re||document.createElement("div"),Re.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Re.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jc=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){jc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function co(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function fo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=co(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Ec=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(e,t){if(t){if(Ec[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function is(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function as(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,bn=null,In=null;function po(e){if(e=Cr(e)){if(typeof us!="function")throw Error(o(280));var t=e.stateNode;t&&(t=hl(t),us(e.stateNode,e.type,t))}}function ho(e){bn?In?In.push(e):In=[e]:bn=e}function mo(){if(bn){var e=bn,t=In;if(In=bn=null,po(e),t)for(e=0;e<t.length;e++)po(t[e])}}function vo(e,t){return e(t)}function go(){}var cs=!1;function yo(e,t,n){if(cs)return e(t,n);cs=!0;try{return vo(e,t,n)}finally{cs=!1,(bn!==null||In!==null)&&(go(),mo())}}function sr(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var ds=!1;if(w)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ds=!1}function Mc(e,t,n,r,l,i,d,m,x){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(q){this.onError(q)}}var or=!1,$r=null,Gr=!1,fs=null,Cc={onError:function(e){or=!0,$r=e}};function Nc(e,t,n,r,l,i,d,m,x){or=!1,$r=null,Mc.apply(Cc,arguments)}function Pc(e,t,n,r,l,i,d,m,x){if(Nc.apply(this,arguments),or){if(or){var _=$r;or=!1,$r=null}else throw Error(o(198));Gr||(Gr=!0,fs=_)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wo(e){if(Sn(e)!==e)throw Error(o(188))}function Tc(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return wo(l),e;if(i===r)return wo(l),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=l,r=i;else{for(var d=!1,m=l.child;m;){if(m===n){d=!0,n=l,r=i;break}if(m===r){d=!0,r=l,n=i;break}m=m.sibling}if(!d){for(m=i.child;m;){if(m===n){d=!0,n=i,r=l;break}if(m===r){d=!0,r=i,n=l;break}m=m.sibling}if(!d)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function So(e){return e=Tc(e),e!==null?ko(e):null}function ko(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ko(e);if(t!==null)return t;e=e.sibling}return null}var jo=a.unstable_scheduleCallback,Eo=a.unstable_cancelCallback,_c=a.unstable_shouldYield,Lc=a.unstable_requestPaint,He=a.unstable_now,Rc=a.unstable_getCurrentPriorityLevel,ps=a.unstable_ImmediatePriority,Mo=a.unstable_UserBlockingPriority,Qr=a.unstable_NormalPriority,Oc=a.unstable_LowPriority,Co=a.unstable_IdlePriority,Kr=null,qt=null;function bc(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:zc,Ic=Math.log,Dc=Math.LN2;function zc(e){return e>>>=0,e===0?32:31-(Ic(e)/Dc|0)|0}var Yr=64,Xr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~l;m!==0?r=ar(m):(i&=d,i!==0&&(r=ar(i)))}else d=n&~l,d!==0?r=ar(d):i!==0&&(r=ar(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rt(t),l=1<<n,r|=e[n],t&=~l;return r}function Ac(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var d=31-Rt(i),m=1<<d,x=l[d];x===-1?((m&n)===0||(m&r)!==0)&&(l[d]=Ac(m,t)):x<=t&&(e.expiredLanes|=m),i&=~m}}function hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function No(){var e=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),e}function ms(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ur(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function qc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Rt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function vs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var _e=0;function Po(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var To,gs,_o,Lo,Ro,ys=!1,Jr=[],en=null,tn=null,nn=null,cr=new Map,dr=new Map,rn=[],Bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oo(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Cr(t),t!==null&&gs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Uc(e,t,n,r,l){switch(t){case"focusin":return en=fr(en,e,t,n,r,l),!0;case"dragenter":return tn=fr(tn,e,t,n,r,l),!0;case"mouseover":return nn=fr(nn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return cr.set(i,fr(cr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,dr.set(i,fr(dr.get(i)||null,e,t,n,r,l)),!0}return!1}function bo(e){var t=kn(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=xo(n),t!==null){e.blockedOn=t,Ro(e.priority,function(){_o(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=Cr(n),t!==null&&gs(t),e.blockedOn=n,!1;t.shift()}return!0}function Io(e,t,n){el(e)&&n.delete(t)}function Hc(){ys=!1,en!==null&&el(en)&&(en=null),tn!==null&&el(tn)&&(tn=null),nn!==null&&el(nn)&&(nn=null),cr.forEach(Io),dr.forEach(Io)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,ys||(ys=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Hc)))}function hr(e){function t(l){return pr(l,e)}if(0<Jr.length){pr(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&pr(en,e),tn!==null&&pr(tn,e),nn!==null&&pr(nn,e),cr.forEach(t),dr.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)bo(n),n.blockedOn===null&&rn.shift()}var Dn=D.ReactCurrentBatchConfig,tl=!0;function Wc(e,t,n,r){var l=_e,i=Dn.transition;Dn.transition=null;try{_e=1,xs(e,t,n,r)}finally{_e=l,Dn.transition=i}}function Vc(e,t,n,r){var l=_e,i=Dn.transition;Dn.transition=null;try{_e=4,xs(e,t,n,r)}finally{_e=l,Dn.transition=i}}function xs(e,t,n,r){if(tl){var l=ws(e,t,n,r);if(l===null)zs(e,t,r,nl,n),Oo(e,r);else if(Uc(l,e,t,n,r))r.stopPropagation();else if(Oo(e,r),t&4&&-1<Bc.indexOf(e)){for(;l!==null;){var i=Cr(l);if(i!==null&&To(i),i=ws(e,t,n,r),i===null&&zs(e,t,r,nl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else zs(e,t,r,null,n)}}var nl=null;function ws(e,t,n,r){if(nl=null,e=as(r),e=kn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function Do(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rc()){case ps:return 1;case Mo:return 4;case Qr:case Oc:return 16;case Co:return 536870912;default:return 16}default:return 16}}var ln=null,Ss=null,rl=null;function zo(){if(rl)return rl;var e,t=Ss,n=t.length,r,l="value"in ln?ln.value:ln.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===l[i-r];r++);return rl=l.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function Ao(){return!1}function xt(e){function t(n,r,l,i,d){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(i):i[m]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sl:Ao,this.isPropagationStopped=Ao,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=xt(zn),mr=K({},zn,{view:0,detail:0}),$c=xt(mr),js,Es,vr,il=K({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(js=e.screenX-vr.screenX,Es=e.screenY-vr.screenY):Es=js=0,vr=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),Fo=xt(il),Gc=K({},il,{dataTransfer:0}),Qc=xt(Gc),Kc=K({},mr,{relatedTarget:0}),Ms=xt(Kc),Yc=K({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=xt(Yc),Zc=K({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jc=xt(Zc),ed=K({},zn,{data:0}),qo=xt(ed),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ld(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rd[e])?!!t[e]:!1}function Cs(){return ld}var sd=K({},mr,{key:function(e){if(e.key){var t=td[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),id=xt(sd),od=K({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=xt(od),ad=K({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),ud=xt(ad),cd=K({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dd=xt(cd),fd=K({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pd=xt(fd),hd=[9,13,27,32],Ns=w&&"CompositionEvent"in window,gr=null;w&&"documentMode"in document&&(gr=document.documentMode);var md=w&&"TextEvent"in window&&!gr,Uo=w&&(!Ns||gr&&8<gr&&11>=gr),Ho=" ",Wo=!1;function Vo(e,t){switch(e){case"keyup":return hd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function vd(e,t){switch(e){case"compositionend":return $o(t);case"keypress":return t.which!==32?null:(Wo=!0,Ho);case"textInput":return e=t.data,e===Ho&&Wo?null:e;default:return null}}function gd(e,t){if(An)return e==="compositionend"||!Ns&&Vo(e,t)?(e=zo(),rl=Ss=ln=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uo&&t.locale!=="ko"?null:t.data;default:return null}}var yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yd[e.type]:t==="textarea"}function Qo(e,t,n,r){ho(r),t=dl(t,"onChange"),0<t.length&&(n=new ks("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,xr=null;function xd(e){fa(e,0)}function ol(e){var t=Hn(e);if(Be(t))return e}function wd(e,t){if(e==="change")return t}var Ko=!1;if(w){var Ps;if(w){var Ts="oninput"in document;if(!Ts){var Yo=document.createElement("div");Yo.setAttribute("oninput","return;"),Ts=typeof Yo.oninput=="function"}Ps=Ts}else Ps=!1;Ko=Ps&&(!document.documentMode||9<document.documentMode)}function Xo(){yr&&(yr.detachEvent("onpropertychange",Zo),xr=yr=null)}function Zo(e){if(e.propertyName==="value"&&ol(xr)){var t=[];Qo(t,xr,e,as(e)),yo(xd,t)}}function Sd(e,t,n){e==="focusin"?(Xo(),yr=t,xr=n,yr.attachEvent("onpropertychange",Zo)):e==="focusout"&&Xo()}function kd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(xr)}function jd(e,t){if(e==="click")return ol(t)}function Ed(e,t){if(e==="input"||e==="change")return ol(t)}function Md(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Md;function wr(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!h.call(t,l)||!Ot(e[l],t[l]))return!1}return!0}function Jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n=Jo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jo(n)}}function ta(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ta(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function na(){for(var e=window,t=De();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=De(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cd(e){var t=na(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ta(n.ownerDocument.documentElement,n)){if(r!==null&&_s(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=ea(n,i);var d=ea(n,r);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nd=w&&"documentMode"in document&&11>=document.documentMode,Fn=null,Ls=null,Sr=null,Rs=!1;function ra(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rs||Fn==null||Fn!==De(r)||(r=Fn,"selectionStart"in r&&_s(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&wr(Sr,r)||(Sr=r,r=dl(Ls,"onSelect"),0<r.length&&(t=new ks("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Os={},la={};w&&(la=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function ul(e){if(Os[e])return Os[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in la)return Os[e]=t[n];return e}var sa=ul("animationend"),ia=ul("animationiteration"),oa=ul("animationstart"),aa=ul("transitionend"),ua=new Map,ca="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){ua.set(e,t),f(t,[e])}for(var bs=0;bs<ca.length;bs++){var Is=ca[bs],Pd=Is.toLowerCase(),Td=Is[0].toUpperCase()+Is.slice(1);sn(Pd,"on"+Td)}sn(sa,"onAnimationEnd"),sn(ia,"onAnimationIteration"),sn(oa,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(aa,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_d=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function da(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pc(r,t,void 0,e),e.currentTarget=null}function fa(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],x=m.instance,_=m.currentTarget;if(m=m.listener,x!==i&&l.isPropagationStopped())break e;da(l,m,_),i=x}else for(d=0;d<r.length;d++){if(m=r[d],x=m.instance,_=m.currentTarget,m=m.listener,x!==i&&l.isPropagationStopped())break e;da(l,m,_),i=x}}}if(Gr)throw e=fs,Gr=!1,fs=null,e}function be(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(pa(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),pa(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[cl]){e[cl]=!0,c.forEach(function(n){n!=="selectionchange"&&(_d.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Ds("selectionchange",!1,t))}}function pa(e,t,n,r){switch(Do(t)){case 1:var l=Wc;break;case 4:l=Vc;break;default:l=xs}n=l.bind(null,t,n,e),l=void 0,!ds||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function zs(e,t,n,r,l){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(d===4)for(d=r.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===l||x.nodeType===8&&x.parentNode===l))return;d=d.return}for(;m!==null;){if(d=kn(m),d===null)return;if(x=d.tag,x===5||x===6){r=i=d;continue e}m=m.parentNode}}r=r.return}yo(function(){var _=i,q=as(n),B=[];e:{var F=ua.get(e);if(F!==void 0){var X=ks,ee=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":X=id;break;case"focusin":ee="focus",X=Ms;break;case"focusout":ee="blur",X=Ms;break;case"beforeblur":case"afterblur":X=Ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ud;break;case sa:case ia:case oa:X=Xc;break;case aa:X=dd;break;case"scroll":X=$c;break;case"wheel":X=pd;break;case"copy":case"cut":case"paste":X=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bo}var ne=(t&4)!==0,We=!ne&&e==="scroll",M=ne?F!==null?F+"Capture":null:F;ne=[];for(var S=_,N;S!==null;){N=S;var W=N.stateNode;if(N.tag===5&&W!==null&&(N=W,M!==null&&(W=sr(S,M),W!=null&&ne.push(Er(S,W,N)))),We)break;S=S.return}0<ne.length&&(F=new X(F,ee,null,n,q),B.push({event:F,listeners:ne}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&n!==os&&(ee=n.relatedTarget||n.fromElement)&&(kn(ee)||ee[$t]))break e;if((X||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ee=n.relatedTarget||n.toElement,X=_,ee=ee?kn(ee):null,ee!==null&&(We=Sn(ee),ee!==We||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=_),X!==ee)){if(ne=Fo,W="onMouseLeave",M="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Bo,W="onPointerLeave",M="onPointerEnter",S="pointer"),We=X==null?F:Hn(X),N=ee==null?F:Hn(ee),F=new ne(W,S+"leave",X,n,q),F.target=We,F.relatedTarget=N,W=null,kn(q)===_&&(ne=new ne(M,S+"enter",ee,n,q),ne.target=N,ne.relatedTarget=We,W=ne),We=W,X&&ee)t:{for(ne=X,M=ee,S=0,N=ne;N;N=Bn(N))S++;for(N=0,W=M;W;W=Bn(W))N++;for(;0<S-N;)ne=Bn(ne),S--;for(;0<N-S;)M=Bn(M),N--;for(;S--;){if(ne===M||M!==null&&ne===M.alternate)break t;ne=Bn(ne),M=Bn(M)}ne=null}else ne=null;X!==null&&ha(B,F,X,ne,!1),ee!==null&&We!==null&&ha(B,We,ee,ne,!0)}}e:{if(F=_?Hn(_):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var re=wd;else if(Go(F))if(Ko)re=Ed;else{re=kd;var se=Sd}else(X=F.nodeName)&&X.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(re=jd);if(re&&(re=re(e,_))){Qo(B,re,n,q);break e}se&&se(e,F,_),e==="focusout"&&(se=F._wrapperState)&&se.controlled&&F.type==="number"&&wn(F,"number",F.value)}switch(se=_?Hn(_):window,e){case"focusin":(Go(se)||se.contentEditable==="true")&&(Fn=se,Ls=_,Sr=null);break;case"focusout":Sr=Ls=Fn=null;break;case"mousedown":Rs=!0;break;case"contextmenu":case"mouseup":case"dragend":Rs=!1,ra(B,n,q);break;case"selectionchange":if(Nd)break;case"keydown":case"keyup":ra(B,n,q)}var ie;if(Ns)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else An?Vo(e,n)&&(de="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(de="onCompositionStart");de&&(Uo&&n.locale!=="ko"&&(An||de!=="onCompositionStart"?de==="onCompositionEnd"&&An&&(ie=zo()):(ln=q,Ss="value"in ln?ln.value:ln.textContent,An=!0)),se=dl(_,de),0<se.length&&(de=new qo(de,e,null,n,q),B.push({event:de,listeners:se}),ie?de.data=ie:(ie=$o(n),ie!==null&&(de.data=ie)))),(ie=md?vd(e,n):gd(e,n))&&(_=dl(_,"onBeforeInput"),0<_.length&&(q=new qo("onBeforeInput","beforeinput",null,n,q),B.push({event:q,listeners:_}),q.data=ie))}fa(B,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=sr(e,n),i!=null&&r.unshift(Er(e,i,l)),i=sr(e,t),i!=null&&r.push(Er(e,i,l))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ha(e,t,n,r,l){for(var i=t._reactName,d=[];n!==null&&n!==r;){var m=n,x=m.alternate,_=m.stateNode;if(x!==null&&x===r)break;m.tag===5&&_!==null&&(m=_,l?(x=sr(n,i),x!=null&&d.unshift(Er(n,x,m))):l||(x=sr(n,i),x!=null&&d.push(Er(n,x,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Ld=/\r\n?/g,Rd=/\u0000|\uFFFD/g;function ma(e){return(typeof e=="string"?e:""+e).replace(Ld,`
`).replace(Rd,"")}function fl(e,t,n){if(t=ma(t),ma(e)!==t&&n)throw Error(o(425))}function pl(){}var As=null,Fs=null;function qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Od=typeof clearTimeout=="function"?clearTimeout:void 0,va=typeof Promise=="function"?Promise:void 0,bd=typeof queueMicrotask=="function"?queueMicrotask:typeof va<"u"?function(e){return va.resolve(null).then(e).catch(Id)}:Bs;function Id(e){setTimeout(function(){throw e})}function Us(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);hr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Un,Mr="__reactProps$"+Un,$t="__reactContainer$"+Un,Hs="__reactEvents$"+Un,Dd="__reactListeners$"+Un,zd="__reactHandles$"+Un;function kn(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ga(e);e!==null;){if(n=e[Bt])return n;e=ga(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[Bt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function hl(e){return e[Mr]||null}var Ws=[],Wn=-1;function an(e){return{current:e}}function Ie(e){0>Wn||(e.current=Ws[Wn],Ws[Wn]=null,Wn--)}function Oe(e,t){Wn++,Ws[Wn]=e.current,e.current=t}var un={},lt=an(un),dt=an(!1),jn=un;function Vn(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ft(e){return e=e.childContextTypes,e!=null}function ml(){Ie(dt),Ie(lt)}function ya(e,t,n){if(lt.current!==un)throw Error(o(168));Oe(lt,t),Oe(dt,n)}function xa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(o(108,we(e)||"Unknown",l));return K({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,jn=lt.current,Oe(lt,e),Oe(dt,dt.current),!0}function wa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xa(e,t,jn),r.__reactInternalMemoizedMergedChildContext=e,Ie(dt),Ie(lt),Oe(lt,e)):Ie(dt),Oe(dt,n)}var Gt=null,gl=!1,Vs=!1;function Sa(e){Gt===null?Gt=[e]:Gt.push(e)}function Ad(e){gl=!0,Sa(e)}function cn(){if(!Vs&&Gt!==null){Vs=!0;var e=0,t=_e;try{var n=Gt;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,gl=!1}catch(l){throw Gt!==null&&(Gt=Gt.slice(e+1)),jo(ps,cn),l}finally{_e=t,Vs=!1}}return null}var $n=[],Gn=0,yl=null,xl=0,Mt=[],Ct=0,En=null,Qt=1,Kt="";function Mn(e,t){$n[Gn++]=xl,$n[Gn++]=yl,yl=e,xl=t}function ka(e,t,n){Mt[Ct++]=Qt,Mt[Ct++]=Kt,Mt[Ct++]=En,En=e;var r=Qt;e=Kt;var l=32-Rt(r)-1;r&=~(1<<l),n+=1;var i=32-Rt(t)+l;if(30<i){var d=l-l%5;i=(r&(1<<d)-1).toString(32),r>>=d,l-=d,Qt=1<<32-Rt(t)+l|n<<l|r,Kt=i+e}else Qt=1<<i|n<<l|r,Kt=e}function $s(e){e.return!==null&&(Mn(e,1),ka(e,1,0))}function Gs(e){for(;e===yl;)yl=$n[--Gn],$n[Gn]=null,xl=$n[--Gn],$n[Gn]=null;for(;e===En;)En=Mt[--Ct],Mt[Ct]=null,Kt=Mt[--Ct],Mt[Ct]=null,Qt=Mt[--Ct],Mt[Ct]=null}var wt=null,St=null,Ae=!1,bt=null;function ja(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ea(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,St=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,St=null,!0):!1;default:return!1}}function Qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ks(e){if(Ae){var t=St;if(t){var n=t;if(!Ea(e,t)){if(Qs(e))throw Error(o(418));t=on(n.nextSibling);var r=wt;t&&Ea(e,t)?ja(r,n):(e.flags=e.flags&-4097|2,Ae=!1,wt=e)}}else{if(Qs(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ae=!1,wt=e}}}function Ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function wl(e){if(e!==wt)return!1;if(!Ae)return Ma(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qs(e.type,e.memoizedProps)),t&&(t=St)){if(Qs(e))throw Ca(),Error(o(418));for(;t;)ja(e,t),t=on(t.nextSibling)}if(Ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=wt?on(e.stateNode.nextSibling):null;return!0}function Ca(){for(var e=St;e;)e=on(e.nextSibling)}function Qn(){St=wt=null,Ae=!1}function Ys(e){bt===null?bt=[e]:bt.push(e)}var Fd=D.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(d){var m=l.refs;d===null?delete m[i]:m[i]=d},t._stringRef=i,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Na(e){var t=e._init;return t(e._payload)}function Pa(e){function t(M,S){if(e){var N=M.deletions;N===null?(M.deletions=[S],M.flags|=16):N.push(S)}}function n(M,S){if(!e)return null;for(;S!==null;)t(M,S),S=S.sibling;return null}function r(M,S){for(M=new Map;S!==null;)S.key!==null?M.set(S.key,S):M.set(S.index,S),S=S.sibling;return M}function l(M,S){return M=yn(M,S),M.index=0,M.sibling=null,M}function i(M,S,N){return M.index=N,e?(N=M.alternate,N!==null?(N=N.index,N<S?(M.flags|=2,S):N):(M.flags|=2,S)):(M.flags|=1048576,S)}function d(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,S,N,W){return S===null||S.tag!==6?(S=Bi(N,M.mode,W),S.return=M,S):(S=l(S,N),S.return=M,S)}function x(M,S,N,W){var re=N.type;return re===I?q(M,S,N.props.children,W,N.key):S!==null&&(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ve&&Na(re)===S.type)?(W=l(S,N.props),W.ref=Nr(M,S,N),W.return=M,W):(W=Vl(N.type,N.key,N.props,null,M.mode,W),W.ref=Nr(M,S,N),W.return=M,W)}function _(M,S,N,W){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=Ui(N,M.mode,W),S.return=M,S):(S=l(S,N.children||[]),S.return=M,S)}function q(M,S,N,W,re){return S===null||S.tag!==7?(S=On(N,M.mode,W,re),S.return=M,S):(S=l(S,N),S.return=M,S)}function B(M,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Bi(""+S,M.mode,N),S.return=M,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Q:return N=Vl(S.type,S.key,S.props,null,M.mode,N),N.ref=Nr(M,null,S),N.return=M,N;case E:return S=Ui(S,M.mode,N),S.return=M,S;case ve:var W=S._init;return B(M,W(S._payload),N)}if(Et(S)||te(S))return S=On(S,M.mode,N,null),S.return=M,S;Sl(M,S)}return null}function F(M,S,N,W){var re=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return re!==null?null:m(M,S,""+N,W);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return N.key===re?x(M,S,N,W):null;case E:return N.key===re?_(M,S,N,W):null;case ve:return re=N._init,F(M,S,re(N._payload),W)}if(Et(N)||te(N))return re!==null?null:q(M,S,N,W,null);Sl(M,N)}return null}function X(M,S,N,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return M=M.get(N)||null,m(S,M,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return M=M.get(W.key===null?N:W.key)||null,x(S,M,W,re);case E:return M=M.get(W.key===null?N:W.key)||null,_(S,M,W,re);case ve:var se=W._init;return X(M,S,N,se(W._payload),re)}if(Et(W)||te(W))return M=M.get(N)||null,q(S,M,W,re,null);Sl(S,W)}return null}function ee(M,S,N,W){for(var re=null,se=null,ie=S,de=S=0,Je=null;ie!==null&&de<N.length;de++){ie.index>de?(Je=ie,ie=null):Je=ie.sibling;var Ce=F(M,ie,N[de],W);if(Ce===null){ie===null&&(ie=Je);break}e&&ie&&Ce.alternate===null&&t(M,ie),S=i(Ce,S,de),se===null?re=Ce:se.sibling=Ce,se=Ce,ie=Je}if(de===N.length)return n(M,ie),Ae&&Mn(M,de),re;if(ie===null){for(;de<N.length;de++)ie=B(M,N[de],W),ie!==null&&(S=i(ie,S,de),se===null?re=ie:se.sibling=ie,se=ie);return Ae&&Mn(M,de),re}for(ie=r(M,ie);de<N.length;de++)Je=X(ie,M,de,N[de],W),Je!==null&&(e&&Je.alternate!==null&&ie.delete(Je.key===null?de:Je.key),S=i(Je,S,de),se===null?re=Je:se.sibling=Je,se=Je);return e&&ie.forEach(function(xn){return t(M,xn)}),Ae&&Mn(M,de),re}function ne(M,S,N,W){var re=te(N);if(typeof re!="function")throw Error(o(150));if(N=re.call(N),N==null)throw Error(o(151));for(var se=re=null,ie=S,de=S=0,Je=null,Ce=N.next();ie!==null&&!Ce.done;de++,Ce=N.next()){ie.index>de?(Je=ie,ie=null):Je=ie.sibling;var xn=F(M,ie,Ce.value,W);if(xn===null){ie===null&&(ie=Je);break}e&&ie&&xn.alternate===null&&t(M,ie),S=i(xn,S,de),se===null?re=xn:se.sibling=xn,se=xn,ie=Je}if(Ce.done)return n(M,ie),Ae&&Mn(M,de),re;if(ie===null){for(;!Ce.done;de++,Ce=N.next())Ce=B(M,Ce.value,W),Ce!==null&&(S=i(Ce,S,de),se===null?re=Ce:se.sibling=Ce,se=Ce);return Ae&&Mn(M,de),re}for(ie=r(M,ie);!Ce.done;de++,Ce=N.next())Ce=X(ie,M,de,Ce.value,W),Ce!==null&&(e&&Ce.alternate!==null&&ie.delete(Ce.key===null?de:Ce.key),S=i(Ce,S,de),se===null?re=Ce:se.sibling=Ce,se=Ce);return e&&ie.forEach(function(xf){return t(M,xf)}),Ae&&Mn(M,de),re}function We(M,S,N,W){if(typeof N=="object"&&N!==null&&N.type===I&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:e:{for(var re=N.key,se=S;se!==null;){if(se.key===re){if(re=N.type,re===I){if(se.tag===7){n(M,se.sibling),S=l(se,N.props.children),S.return=M,M=S;break e}}else if(se.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ve&&Na(re)===se.type){n(M,se.sibling),S=l(se,N.props),S.ref=Nr(M,se,N),S.return=M,M=S;break e}n(M,se);break}else t(M,se);se=se.sibling}N.type===I?(S=On(N.props.children,M.mode,W,N.key),S.return=M,M=S):(W=Vl(N.type,N.key,N.props,null,M.mode,W),W.ref=Nr(M,S,N),W.return=M,M=W)}return d(M);case E:e:{for(se=N.key;S!==null;){if(S.key===se)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){n(M,S.sibling),S=l(S,N.children||[]),S.return=M,M=S;break e}else{n(M,S);break}else t(M,S);S=S.sibling}S=Ui(N,M.mode,W),S.return=M,M=S}return d(M);case ve:return se=N._init,We(M,S,se(N._payload),W)}if(Et(N))return ee(M,S,N,W);if(te(N))return ne(M,S,N,W);Sl(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,S!==null&&S.tag===6?(n(M,S.sibling),S=l(S,N),S.return=M,M=S):(n(M,S),S=Bi(N,M.mode,W),S.return=M,M=S),d(M)):n(M,S)}return We}var Kn=Pa(!0),Ta=Pa(!1),kl=an(null),jl=null,Yn=null,Xs=null;function Zs(){Xs=Yn=jl=null}function Js(e){var t=kl.current;Ie(kl),e._currentValue=t}function ei(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){jl=e,Xs=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pt=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Xs!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(jl===null)throw Error(o(308));Yn=e,jl.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var Cn=null;function ti(e){Cn===null?Cn=[e]:Cn.push(e)}function _a(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ti(t)):(n.next=l.next,l.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dn=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ee&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Yt(e,n)}return l=r.interleaved,l===null?(t.next=t,ti(r)):(t.next=l.next,l.next=t),r.interleaved=t,Yt(e,n)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=d:i=i.next=d,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ml(e,t,n,r){var l=e.updateQueue;dn=!1;var i=l.firstBaseUpdate,d=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var x=m,_=x.next;x.next=null,d===null?i=_:d.next=_,d=x;var q=e.alternate;q!==null&&(q=q.updateQueue,m=q.lastBaseUpdate,m!==d&&(m===null?q.firstBaseUpdate=_:m.next=_,q.lastBaseUpdate=x))}if(i!==null){var B=l.baseState;d=0,q=_=x=null,m=i;do{var F=m.lane,X=m.eventTime;if((r&F)===F){q!==null&&(q=q.next={eventTime:X,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var ee=e,ne=m;switch(F=t,X=n,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){B=ee.call(X,B,F);break e}B=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,F=typeof ee=="function"?ee.call(X,B,F):ee,F==null)break e;B=K({},B,F);break e;case 2:dn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,F=l.effects,F===null?l.effects=[m]:F.push(m))}else X={eventTime:X,lane:F,tag:m.tag,payload:m.payload,callback:m.callback,next:null},q===null?(_=q=X,x=B):q=q.next=X,d|=F;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;F=m,m=F.next,F.next=null,l.lastBaseUpdate=F,l.shared.pending=null}}while(!0);if(q===null&&(x=B),l.baseState=x,l.firstBaseUpdate=_,l.lastBaseUpdate=q,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Tn|=d,e.lanes=d,e.memoizedState=B}}function Oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(o(191,l));l.call(r)}}}var Pr={},Ut=an(Pr),Tr=an(Pr),_r=an(Pr);function Nn(e){if(e===Pr)throw Error(o(174));return e}function ri(e,t){switch(Oe(_r,t),Oe(Tr,e),Oe(Ut,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yt(t,e)}Ie(Ut),Oe(Ut,t)}function Zn(){Ie(Ut),Ie(Tr),Ie(_r)}function ba(e){Nn(_r.current);var t=Nn(Ut.current),n=yt(t,e.type);t!==n&&(Oe(Tr,e),Oe(Ut,n))}function li(e){Tr.current===e&&(Ie(Ut),Ie(Tr))}var Fe=an(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=[];function ii(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var Nl=D.ReactCurrentDispatcher,oi=D.ReactCurrentBatchConfig,Pn=0,qe=null,Ke=null,Xe=null,Pl=!1,Lr=!1,Rr=0,qd=0;function st(){throw Error(o(321))}function ai(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function ui(e,t,n,r,l,i){if(Pn=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?Wd:Vd,e=n(r,l),Lr){i=0;do{if(Lr=!1,Rr=0,25<=i)throw Error(o(301));i+=1,Xe=Ke=null,t.updateQueue=null,Nl.current=$d,e=n(r,l)}while(Lr)}if(Nl.current=Ll,t=Ke!==null&&Ke.next!==null,Pn=0,Xe=Ke=qe=null,Pl=!1,t)throw Error(o(300));return e}function ci(){var e=Rr!==0;return Rr=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?qe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pt(){if(Ke===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?qe.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?qe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Or(e,t){return typeof t=="function"?t(e):t}function di(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=Ke,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var d=l.next;l.next=i.next,i.next=d}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var m=d=null,x=null,_=i;do{var q=_.lane;if((Pn&q)===q)x!==null&&(x=x.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var B={lane:q,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};x===null?(m=x=B,d=r):x=x.next=B,qe.lanes|=q,Tn|=q}_=_.next}while(_!==null&&_!==i);x===null?d=r:x.next=m,Ot(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,qe.lanes|=i,Tn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fi(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do i=e(i,d.action),d=d.next;while(d!==l);Ot(i,t.memoizedState)||(pt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ia(){}function Da(e,t){var n=qe,r=Pt(),l=t(),i=!Ot(r.memoizedState,l);if(i&&(r.memoizedState=l,pt=!0),r=r.queue,pi(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,br(9,Aa.bind(null,n,r,l,t),void 0,null),Ze===null)throw Error(o(349));(Pn&30)!==0||za(n,t,l)}return l}function za(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,qa(t)&&Ba(e)}function Fa(e,t,n){return n(function(){qa(t)&&Ba(e)})}function qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Ba(e){var t=Yt(e,1);t!==null&&At(t,e,1,-1)}function Ua(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},t.queue=e,e=e.dispatch=Hd.bind(null,qe,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ha(){return Pt().memoizedState}function Tl(e,t,n,r){var l=Ht();qe.flags|=e,l.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var l=Pt();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var d=Ke.memoizedState;if(i=d.destroy,r!==null&&ai(r,d.deps)){l.memoizedState=br(t,n,i,r);return}}qe.flags|=e,l.memoizedState=br(1|t,n,i,r)}function Wa(e,t){return Tl(8390656,8,e,t)}function pi(e,t){return _l(2048,8,e,t)}function Va(e,t){return _l(4,2,e,t)}function $a(e,t){return _l(4,4,e,t)}function Ga(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,Ga.bind(null,t,e),n)}function hi(){}function Ka(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ai(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return(Pn&21)===0?(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n):(Ot(n,t)||(n=No(),qe.lanes|=n,Tn|=n,e.baseState=!0),t)}function Bd(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{_e=n,oi.transition=r}}function Za(){return Pt().memoizedState}function Ud(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))eu(t,n);else if(n=_a(e,t,n,r),n!==null){var l=ct();At(n,e,r,l),tu(n,t,r)}}function Hd(e,t,n){var r=vn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))eu(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,m=i(d,n);if(l.hasEagerState=!0,l.eagerState=m,Ot(m,d)){var x=t.interleaved;x===null?(l.next=l,ti(t)):(l.next=x.next,x.next=l),t.interleaved=l;return}}catch{}finally{}n=_a(e,t,l,r),n!==null&&(l=ct(),At(n,e,r,l),tu(n,t,r))}}function Ja(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function eu(e,t){Lr=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}var Ll={readContext:Nt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Wd={readContext:Nt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tl(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ud.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Ua,useDebugValue:hi,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Bd.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qe,l=Ht();if(Ae){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ze===null)throw Error(o(349));(Pn&30)!==0||za(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Wa(Fa.bind(null,r,i,e),[e]),r.flags|=2048,br(9,Aa.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Ze.identifierPrefix;if(Ae){var n=Kt,r=Qt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vd={readContext:Nt,useCallback:Ka,useContext:Nt,useEffect:pi,useImperativeHandle:Qa,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Ya,useReducer:di,useRef:Ha,useState:function(){return di(Or)},useDebugValue:hi,useDeferredValue:function(e){var t=Pt();return Xa(t,Ke.memoizedState,e)},useTransition:function(){var e=di(Or)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1},$d={readContext:Nt,useCallback:Ka,useContext:Nt,useEffect:pi,useImperativeHandle:Qa,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Ya,useReducer:fi,useRef:Ha,useState:function(){return fi(Or)},useDebugValue:hi,useDeferredValue:function(e){var t=Pt();return Ke===null?t.memoizedState=e:Xa(t,Ke.memoizedState,e)},useTransition:function(){var e=fi(Or)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),l=vn(e),i=Xt(r,l);i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,l),t!==null&&(At(t,e,l,r),El(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),l=vn(e),i=Xt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,l),t!==null&&(At(t,e,l,r),El(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=vn(e),l=Xt(n,r);l.tag=2,t!=null&&(l.callback=t),t=fn(e,l,r),t!==null&&(At(t,e,r,n),El(t,e,r))}};function nu(e,t,n,r,l,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,d):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(l,i):!0}function ru(e,t,n){var r=!1,l=un,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(l=ft(t)?jn:lt.current,r=t.contextTypes,i=(r=r!=null)?Vn(e,l):un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function lu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function vi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ni(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Nt(i):(i=ft(t)?jn:lt.current,l.context=Vn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mi(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Rl.enqueueReplaceState(l,l.state,null),Ml(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var n="",r=t;do n+=ge(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function gi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gd=typeof WeakMap=="function"?WeakMap:Map;function su(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,Oi=r),yi(e,t)},n}function iu(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){yi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yi(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=af.bind(null,e,t,n),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Qd=D.ReactCurrentOwner,pt=!1;function ut(e,t,n,r){t.child=e===null?Ta(t,null,n,r):Kn(t,e.child,n,r)}function cu(e,t,n,r,l){n=n.render;var i=t.ref;return Xn(t,l),r=ui(e,t,n,r,i,l),n=ci(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(Ae&&n&&$s(t),t.flags|=1,ut(e,t,r,l),t.child)}function du(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!qi(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fu(e,t,i,r,l)):(e=Vl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&l)===0){var d=i.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(d,r)&&e.ref===t.ref)return Zt(e,t,l)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(wr(i,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=i,(e.lanes&l)!==0)(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,Zt(e,t,l)}return xi(e,t,n,r,l)}function pu(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(tr,kt),kt|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(tr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(tr,kt),kt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oe(tr,kt),kt|=r;return ut(e,t,l,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,n,r,l){var i=ft(n)?jn:lt.current;return i=Vn(t,i),Xn(t,l),n=ui(e,t,n,r,i,l),r=ci(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(Ae&&r&&$s(t),t.flags|=1,ut(e,t,n,l),t.child)}function mu(e,t,n,r,l){if(ft(n)){var i=!0;vl(t)}else i=!1;if(Xn(t,l),t.stateNode===null)bl(e,t),ru(t,n,r),vi(t,n,r,l),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var x=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=Nt(_):(_=ft(n)?jn:lt.current,_=Vn(t,_));var q=n.getDerivedStateFromProps,B=typeof q=="function"||typeof d.getSnapshotBeforeUpdate=="function";B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||x!==_)&&lu(t,d,r,_),dn=!1;var F=t.memoizedState;d.state=F,Ml(t,r,d,l),x=t.memoizedState,m!==r||F!==x||dt.current||dn?(typeof q=="function"&&(mi(t,n,q,r),x=t.memoizedState),(m=dn||nu(t,n,m,r,F,x,_))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),d.props=r,d.state=x,d.context=_,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,La(e,t),m=t.memoizedProps,_=t.type===t.elementType?m:It(t.type,m),d.props=_,B=t.pendingProps,F=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=Nt(x):(x=ft(n)?jn:lt.current,x=Vn(t,x));var X=n.getDerivedStateFromProps;(q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==B||F!==x)&&lu(t,d,r,x),dn=!1,F=t.memoizedState,d.state=F,Ml(t,r,d,l);var ee=t.memoizedState;m!==B||F!==ee||dt.current||dn?(typeof X=="function"&&(mi(t,n,X,r),ee=t.memoizedState),(_=dn||nu(t,n,_,r,F,ee,x)||!1)?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,ee,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,ee,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ee),d.props=r,d.state=ee,d.context=x,r=_):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),r=!1)}return wi(e,t,n,r,i,l)}function wi(e,t,n,r,l,i){hu(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return l&&wa(t,n,!1),Zt(e,t,i);r=t.stateNode,Qd.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Kn(t,e.child,null,i),t.child=Kn(t,null,m,i)):ut(e,t,m,i),t.memoizedState=r.state,l&&wa(t,n,!0),t.child}function vu(e){var t=e.stateNode;t.pendingContext?ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ya(e,t.context,!1),ri(e,t.containerInfo)}function gu(e,t,n,r,l){return Qn(),Ys(l),t.flags|=256,ut(e,t,n,r),t.child}var Si={dehydrated:null,treeContext:null,retryLane:0};function ki(e){return{baseLanes:e,cachePool:null,transitions:null}}function yu(e,t,n){var r=t.pendingProps,l=Fe.current,i=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Oe(Fe,l&1),e===null)return Ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=r.children,e=r.fallback,i?(r=t.mode,i=t.child,d={mode:"hidden",children:d},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=d):i=$l(d,r,0,null),e=On(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ki(n),t.memoizedState=Si,e):ji(t,d));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return Kd(e,t,d,r,m,l,n);if(i){i=r.fallback,d=t.mode,l=e.child,m=l.sibling;var x={mode:"hidden",children:r.children};return(d&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=yn(l,x),r.subtreeFlags=l.subtreeFlags&14680064),m!==null?i=yn(m,i):(i=On(i,d,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,d=e.child.memoizedState,d=d===null?ki(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},i.memoizedState=d,i.childLanes=e.childLanes&~n,t.memoizedState=Si,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ji(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,n,r){return r!==null&&Ys(r),Kn(t,e.child,null,n),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kd(e,t,n,r,l,i,d){if(n)return t.flags&256?(t.flags&=-257,r=gi(Error(o(422))),Ol(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=$l({mode:"visible",children:r.children},l,0,null),i=On(i,l,d,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Kn(t,e.child,null,d),t.child.memoizedState=ki(d),t.memoizedState=Si,i);if((t.mode&1)===0)return Ol(e,t,d,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var m=r.dgst;return r=m,i=Error(o(419)),r=gi(i,r,void 0),Ol(e,t,d,r)}if(m=(d&e.childLanes)!==0,pt||m){if(r=Ze,r!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|d))!==0?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Yt(e,l),At(r,e,l,-1))}return Fi(),r=gi(Error(o(421))),Ol(e,t,d,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=uf.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,St=on(l.nextSibling),wt=t,Ae=!0,bt=null,e!==null&&(Mt[Ct++]=Qt,Mt[Ct++]=Kt,Mt[Ct++]=En,Qt=e.id,Kt=e.overflow,En=t),t=ji(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ei(e.return,t,n)}function Ei(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function wu(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(ut(e,t,r.children,n),r=Fe.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Fe,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ei(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ei(t,!0,n,null,i);break;case"together":Ei(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yd(e,t,n){switch(t.tag){case 3:vu(t),Qn();break;case 5:ba(t);break;case 1:ft(t.type)&&vl(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Oe(kl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Fe,Fe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yu(e,t,n):(Oe(Fe,Fe.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return wu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Oe(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,n)}return Zt(e,t,n)}var Su,Mi,ku,ju;Su=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mi=function(){},ku=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Nn(Ut.current);var i=null;switch(n){case"input":l=A(e,l),r=A(e,r),i=[];break;case"select":l=K({},l,{value:void 0}),r=K({},r,{value:void 0}),i=[];break;case"textarea":l=Le(e,l),r=Le(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}ss(n,r);var d;n=null;for(_ in l)if(!r.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var m=l[_];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(p.hasOwnProperty(_)?i||(i=[]):(i=i||[]).push(_,null));for(_ in r){var x=r[_];if(m=l?.[_],r.hasOwnProperty(_)&&x!==m&&(x!=null||m!=null))if(_==="style")if(m){for(d in m)!m.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&m[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(i||(i=[]),i.push(_,n)),n=x;else _==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(i=i||[]).push(_,x)):_==="children"?typeof x!="string"&&typeof x!="number"||(i=i||[]).push(_,""+x):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(p.hasOwnProperty(_)?(x!=null&&_==="onScroll"&&be("scroll",e),i||m===x||(i=[])):(i=i||[]).push(_,x))}n&&(i=i||[]).push("style",n);var _=i;(t.updateQueue=_)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ir(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xd(e,t,n){var r=t.pendingProps;switch(Gs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return ft(t.type)&&ml(),it(t),null;case 3:return r=t.stateNode,Zn(),Ie(dt),Ie(lt),ii(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(Di(bt),bt=null))),Mi(e,t),it(t),null;case 5:li(t);var l=Nn(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)ku(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return it(t),null}if(e=Nn(Ut.current),wl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Bt]=t,r[Mr]=i,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(l=0;l<kr.length;l++)be(kr[l],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":le(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":gt(r,i),be("invalid",r)}ss(n,i),l=null;for(var d in i)if(i.hasOwnProperty(d)){var m=i[d];d==="children"?typeof m=="string"?r.textContent!==m&&(i.suppressHydrationWarning!==!0&&fl(r.textContent,m,e),l=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(i.suppressHydrationWarning!==!0&&fl(r.textContent,m,e),l=["children",""+m]):p.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&be("scroll",r)}switch(n){case"input":ce(r),Qe(r,i,!0);break;case"textarea":ce(r),ke(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Bt]=t,e[Mr]=r,Su(e,t,!1,!1),t.stateNode=e;e:{switch(d=is(n,r),n){case"dialog":be("cancel",e),be("close",e),l=r;break;case"iframe":case"object":case"embed":be("load",e),l=r;break;case"video":case"audio":for(l=0;l<kr.length;l++)be(kr[l],e);l=r;break;case"source":be("error",e),l=r;break;case"img":case"image":case"link":be("error",e),be("load",e),l=r;break;case"details":be("toggle",e),l=r;break;case"input":le(e,r),l=A(e,r),be("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=K({},r,{value:void 0}),be("invalid",e);break;case"textarea":gt(e,r),l=Le(e,r),be("invalid",e);break;default:l=r}ss(n,l),m=l;for(i in m)if(m.hasOwnProperty(i)){var x=m[i];i==="style"?fo(e,x):i==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&at(e,x)):i==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Ft(e,x):typeof x=="number"&&Ft(e,""+x):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(p.hasOwnProperty(i)?x!=null&&i==="onScroll"&&be("scroll",e):x!=null&&$(e,i,x,d))}switch(n){case"input":ce(e),Qe(e,r,!1);break;case"textarea":ce(e),ke(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xe(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ze(e,!!r.multiple,i,!1):r.defaultValue!=null&&ze(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)ju(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=Nn(_r.current),Nn(Ut.current),wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bt]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=t,t.stateNode=r}return it(t),null;case 13:if(Ie(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ca(),Qn(),t.flags|=98560,i=!1;else if(i=wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[Bt]=t}else Qn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else bt!==null&&(Di(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ye===0&&(Ye=3):Fi())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Zn(),Mi(e,t),e===null&&jr(t.stateNode.containerInfo),it(t),null;case 10:return Js(t.type._context),it(t),null;case 17:return ft(t.type)&&ml(),it(t),null;case 19:if(Ie(Fe),i=t.memoizedState,i===null)return it(t),null;if(r=(t.flags&128)!==0,d=i.rendering,d===null)if(r)Ir(i,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Cl(e),d!==null){for(t.flags|=128,Ir(i,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,d=i.alternate,d===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,e=d.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&He()>nr&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Ae)return it(t),null}else 2*He()-i.renderingStartTime>nr&&n!==1073741824&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(n=i.last,n!==null?n.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=He(),t.sibling=null,n=Fe.current,Oe(Fe,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Ai(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(kt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Zd(e,t){switch(Gs(t),t.tag){case 1:return ft(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),Ie(dt),Ie(lt),ii(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return li(t),null;case 13:if(Ie(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Fe),null;case 4:return Zn(),null;case 10:return Js(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var Il=!1,ot=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,J=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function Ci(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var Eu=!1;function ef(e,t){if(As=tl,e=na(),_s(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var d=0,m=-1,x=-1,_=0,q=0,B=e,F=null;t:for(;;){for(var X;B!==n||l!==0&&B.nodeType!==3||(m=d+l),B!==i||r!==0&&B.nodeType!==3||(x=d+r),B.nodeType===3&&(d+=B.nodeValue.length),(X=B.firstChild)!==null;)F=B,B=X;for(;;){if(B===e)break t;if(F===n&&++_===l&&(m=d),F===i&&++q===r&&(x=d),(X=B.nextSibling)!==null)break;B=F,F=B.parentNode}B=X}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fs={focusedElem:e,selectionRange:n},tl=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,We=ee.memoizedState,M=t.stateNode,S=M.getSnapshotBeforeUpdate(t.elementType===t.type?ne:It(t.type,ne),We);M.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(W){Ue(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return ee=Eu,Eu=!1,ee}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ci(t,n,i)}l=l.next}while(l!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ni(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mu(e){var t=e.alternate;t!==null&&(e.alternate=null,Mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[Mr],delete t[Hs],delete t[Dd],delete t[zd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cu(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Pi(e,t,n),e=e.sibling;e!==null;)Pi(e,t,n),e=e.sibling}function Ti(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ti(e,t,n),e=e.sibling;e!==null;)Ti(e,t,n),e=e.sibling}var tt=null,Dt=!1;function pn(e,t,n){for(n=n.child;n!==null;)Pu(e,t,n),n=n.sibling}function Pu(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:ot||er(n,t);case 6:var r=tt,l=Dt;tt=null,pn(e,t,n),tt=r,Dt=l,tt!==null&&(Dt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Dt?(e=tt,n=n.stateNode,e.nodeType===8?Us(e.parentNode,n):e.nodeType===1&&Us(e,n),hr(e)):Us(tt,n.stateNode));break;case 4:r=tt,l=Dt,tt=n.stateNode.containerInfo,Dt=!0,pn(e,t,n),tt=r,Dt=l;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,d=i.destroy;i=i.tag,d!==void 0&&((i&2)!==0||(i&4)!==0)&&Ci(n,t,d),l=l.next}while(l!==r)}pn(e,t,n);break;case 1:if(!ot&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Ue(n,t,m)}pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,pn(e,t,n),ot=r):pn(e,t,n);break;default:pn(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jd),t.forEach(function(r){var l=cf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:tt=m.stateNode,Dt=!1;break e;case 3:tt=m.stateNode.containerInfo,Dt=!0;break e;case 4:tt=m.stateNode.containerInfo,Dt=!0;break e}m=m.return}if(tt===null)throw Error(o(160));Pu(i,d,l),tt=null,Dt=!1;var x=l.alternate;x!==null&&(x.return=null),l.return=null}catch(_){Ue(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_u(t,e),t=t.sibling}function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Wt(e),r&4){try{Dr(3,e,e.return),Dl(3,e)}catch(ne){Ue(e,e.return,ne)}try{Dr(5,e,e.return)}catch(ne){Ue(e,e.return,ne)}}break;case 1:zt(t,e),Wt(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(zt(t,e),Wt(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var l=e.stateNode;try{Ft(l,"")}catch(ne){Ue(e,e.return,ne)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,d=n!==null?n.memoizedProps:i,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&i.type==="radio"&&i.name!=null&&he(l,i),is(m,d);var _=is(m,i);for(d=0;d<x.length;d+=2){var q=x[d],B=x[d+1];q==="style"?fo(l,B):q==="dangerouslySetInnerHTML"?at(l,B):q==="children"?Ft(l,B):$(l,q,B,_)}switch(m){case"input":pe(l,i);break;case"textarea":Vt(l,i);break;case"select":var F=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var X=i.value;X!=null?ze(l,!!i.multiple,X,!1):F!==!!i.multiple&&(i.defaultValue!=null?ze(l,!!i.multiple,i.defaultValue,!0):ze(l,!!i.multiple,i.multiple?[]:"",!1))}l[Mr]=i}catch(ne){Ue(e,e.return,ne)}}break;case 6:if(zt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(ne){Ue(e,e.return,ne)}}break;case 3:if(zt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(ne){Ue(e,e.return,ne)}break;case 4:zt(t,e),Wt(e);break;case 13:zt(t,e),Wt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Ri=He())),r&4&&Tu(e);break;case 22:if(q=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(_=ot)||q,zt(t,e),ot=_):zt(t,e),Wt(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!q&&(e.mode&1)!==0)for(J=e,q=e.child;q!==null;){for(B=J=q;J!==null;){switch(F=J,X=F.child,F.tag){case 0:case 11:case 14:case 15:Dr(4,F,F.return);break;case 1:er(F,F.return);var ee=F.stateNode;if(typeof ee.componentWillUnmount=="function"){r=F,n=F.return;try{t=r,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(ne){Ue(r,n,ne)}}break;case 5:er(F,F.return);break;case 22:if(F.memoizedState!==null){Ou(B);continue}}X!==null?(X.return=F,J=X):Ou(B)}q=q.sibling}e:for(q=null,B=e;;){if(B.tag===5){if(q===null){q=B;try{l=B.stateNode,_?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(m=B.stateNode,x=B.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=co("display",d))}catch(ne){Ue(e,e.return,ne)}}}else if(B.tag===6){if(q===null)try{B.stateNode.nodeValue=_?"":B.memoizedProps}catch(ne){Ue(e,e.return,ne)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;q===B&&(q=null),B=B.return}q===B&&(q=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:zt(t,e),Wt(e),r&4&&Tu(e);break;case 21:break;default:zt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ft(l,""),r.flags&=-33);var i=Nu(e);Ti(e,i,l);break;case 3:case 4:var d=r.stateNode.containerInfo,m=Nu(e);Pi(e,m,d);break;default:throw Error(o(161))}}catch(x){Ue(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tf(e,t,n){J=e,Lu(e)}function Lu(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var l=J,i=l.child;if(l.tag===22&&r){var d=l.memoizedState!==null||Il;if(!d){var m=l.alternate,x=m!==null&&m.memoizedState!==null||ot;m=Il;var _=ot;if(Il=d,(ot=x)&&!_)for(J=l;J!==null;)d=J,x=d.child,d.tag===22&&d.memoizedState!==null?bu(l):x!==null?(x.return=d,J=x):bu(l);for(;i!==null;)J=i,Lu(i),i=i.sibling;J=l,Il=m,ot=_}Ru(e)}else(l.subtreeFlags&8772)!==0&&i!==null?(i.return=l,J=i):Ru(e)}}function Ru(e){for(;J!==null;){var t=J;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oa(t,i,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oa(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var q=_.memoizedState;if(q!==null){var B=q.dehydrated;B!==null&&hr(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ot||t.flags&512&&Ni(t)}catch(F){Ue(t,t.return,F)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Ou(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function bu(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(x){Ue(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(x){Ue(t,l,x)}}var i=t.return;try{Ni(t)}catch(x){Ue(t,i,x)}break;case 5:var d=t.return;try{Ni(t)}catch(x){Ue(t,d,x)}}}catch(x){Ue(t,t.return,x)}if(t===e){J=null;break}var m=t.sibling;if(m!==null){m.return=t.return,J=m;break}J=t.return}}var nf=Math.ceil,zl=D.ReactCurrentDispatcher,_i=D.ReactCurrentOwner,Tt=D.ReactCurrentBatchConfig,Ee=0,Ze=null,Ge=null,nt=0,kt=0,tr=an(0),Ye=0,zr=null,Tn=0,Al=0,Li=0,Ar=null,ht=null,Ri=0,nr=1/0,Jt=null,Fl=!1,Oi=null,hn=null,ql=!1,mn=null,Bl=0,Fr=0,bi=null,Ul=-1,Hl=0;function ct(){return(Ee&6)!==0?He():Ul!==-1?Ul:Ul=He()}function vn(e){return(e.mode&1)===0?1:(Ee&2)!==0&&nt!==0?nt&-nt:Fd.transition!==null?(Hl===0&&(Hl=No()),Hl):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Do(e.type)),e)}function At(e,t,n,r){if(50<Fr)throw Fr=0,bi=null,Error(o(185));ur(e,n,r),((Ee&2)===0||e!==Ze)&&(e===Ze&&((Ee&2)===0&&(Al|=n),Ye===4&&gn(e,nt)),mt(e,r),n===1&&Ee===0&&(t.mode&1)===0&&(nr=He()+500,gl&&cn()))}function mt(e,t){var n=e.callbackNode;Fc(e,t);var r=Zr(e,e===Ze?nt:0);if(r===0)n!==null&&Eo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eo(n),t===1)e.tag===0?Ad(Du.bind(null,e)):Sa(Du.bind(null,e)),bd(function(){(Ee&6)===0&&cn()}),n=null;else{switch(Po(r)){case 1:n=ps;break;case 4:n=Mo;break;case 16:n=Qr;break;case 536870912:n=Co;break;default:n=Qr}n=Wu(n,Iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iu(e,t){if(Ul=-1,Hl=0,(Ee&6)!==0)throw Error(o(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=Zr(e,e===Ze?nt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Wl(e,r);else{t=r;var l=Ee;Ee|=2;var i=Au();(Ze!==e||nt!==t)&&(Jt=null,nr=He()+500,Ln(e,t));do try{sf();break}catch(m){zu(e,m)}while(!0);Zs(),zl.current=i,Ee=l,Ge!==null?t=0:(Ze=null,nt=0,t=Ye)}if(t!==0){if(t===2&&(l=hs(e),l!==0&&(r=l,t=Ii(e,l))),t===1)throw n=zr,Ln(e,0),gn(e,r),mt(e,He()),n;if(t===6)gn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!rf(l)&&(t=Wl(e,r),t===2&&(i=hs(e),i!==0&&(r=i,t=Ii(e,i))),t===1))throw n=zr,Ln(e,0),gn(e,r),mt(e,He()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:Rn(e,ht,Jt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=Ri+500-He(),10<t)){if(Zr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Bs(Rn.bind(null,e,ht,Jt),t);break}Rn(e,ht,Jt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var d=31-Rt(r);i=1<<d,d=t[d],d>l&&(l=d),r&=~i}if(r=l,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nf(r/1960))-r,10<r){e.timeoutHandle=Bs(Rn.bind(null,e,ht,Jt),r);break}Rn(e,ht,Jt);break;case 5:Rn(e,ht,Jt);break;default:throw Error(o(329))}}}return mt(e,He()),e.callbackNode===n?Iu.bind(null,e):null}function Ii(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=ht,ht=n,t!==null&&Di(t)),e}function Di(e){ht===null?ht=e:ht.push.apply(ht,e)}function rf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Ot(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~Li,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if((Ee&6)!==0)throw Error(o(327));rr();var t=Zr(e,0);if((t&1)===0)return mt(e,He()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=hs(e);r!==0&&(t=r,n=Ii(e,r))}if(n===1)throw n=zr,Ln(e,0),gn(e,t),mt(e,He()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ht,Jt),mt(e,He()),null}function zi(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(nr=He()+500,gl&&cn())}}function _n(e){mn!==null&&mn.tag===0&&(Ee&6)===0&&rr();var t=Ee;Ee|=1;var n=Tt.transition,r=_e;try{if(Tt.transition=null,_e=1,e)return e()}finally{_e=r,Tt.transition=n,Ee=t,(Ee&6)===0&&cn()}}function Ai(){kt=tr.current,Ie(tr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Od(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Gs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:Zn(),Ie(dt),Ie(lt),ii();break;case 5:li(r);break;case 4:Zn();break;case 13:Ie(Fe);break;case 19:Ie(Fe);break;case 10:Js(r.type._context);break;case 22:case 23:Ai()}n=n.return}if(Ze=e,Ge=e=yn(e.current,null),nt=kt=t,Ye=0,zr=null,Li=Al=Tn=0,ht=Ar=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var d=i.next;i.next=l,r.next=d}n.pending=r}Cn=null}return e}function zu(e,t){do{var n=Ge;try{if(Zs(),Nl.current=Ll,Pl){for(var r=qe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Pl=!1}if(Pn=0,Xe=Ke=qe=null,Lr=!1,Rr=0,_i.current=null,n===null||n.return===null){Ye=1,zr=t,Ge=null;break}e:{var i=e,d=n.return,m=n,x=t;if(t=nt,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var _=x,q=m,B=q.tag;if((q.mode&1)===0&&(B===0||B===11||B===15)){var F=q.alternate;F?(q.updateQueue=F.updateQueue,q.memoizedState=F.memoizedState,q.lanes=F.lanes):(q.updateQueue=null,q.memoizedState=null)}var X=au(d);if(X!==null){X.flags&=-257,uu(X,d,m,i,t),X.mode&1&&ou(i,_,t),t=X,x=_;var ee=t.updateQueue;if(ee===null){var ne=new Set;ne.add(x),t.updateQueue=ne}else ee.add(x);break e}else{if((t&1)===0){ou(i,_,t),Fi();break e}x=Error(o(426))}}else if(Ae&&m.mode&1){var We=au(d);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),uu(We,d,m,i,t),Ys(Jn(x,m));break e}}i=x=Jn(x,m),Ye!==4&&(Ye=2),Ar===null?Ar=[i]:Ar.push(i),i=d;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var M=su(i,x,t);Ra(i,M);break e;case 1:m=x;var S=i.type,N=i.stateNode;if((i.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(hn===null||!hn.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var W=iu(i,m,t);Ra(i,W);break e}}i=i.return}while(i!==null)}qu(n)}catch(re){t=re,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Au(){var e=zl.current;return zl.current=Ll,e===null?Ll:e}function Fi(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||(Tn&268435455)===0&&(Al&268435455)===0||gn(Ze,nt)}function Wl(e,t){var n=Ee;Ee|=2;var r=Au();(Ze!==e||nt!==t)&&(Jt=null,Ln(e,t));do try{lf();break}catch(l){zu(e,l)}while(!0);if(Zs(),Ee=n,zl.current=r,Ge!==null)throw Error(o(261));return Ze=null,nt=0,Ye}function lf(){for(;Ge!==null;)Fu(Ge)}function sf(){for(;Ge!==null&&!_c();)Fu(Ge)}function Fu(e){var t=Hu(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?qu(e):Ge=t,_i.current=null}function qu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Xd(n,t,kt),n!==null){Ge=n;return}}else{if(n=Zd(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ge=null;return}}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Ye===0&&(Ye=5)}function Rn(e,t,n){var r=_e,l=Tt.transition;try{Tt.transition=null,_e=1,of(e,t,n,r)}finally{Tt.transition=l,_e=r}return null}function of(e,t,n,r){do rr();while(mn!==null);if((Ee&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qc(e,i),e===Ze&&(Ge=Ze=null,nt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ql||(ql=!0,Wu(Qr,function(){return rr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Tt.transition,Tt.transition=null;var d=_e;_e=1;var m=Ee;Ee|=4,_i.current=null,ef(e,n),_u(n,e),Cd(Fs),tl=!!As,Fs=As=null,e.current=n,tf(n),Lc(),Ee=m,_e=d,Tt.transition=i}else e.current=n;if(ql&&(ql=!1,mn=e,Bl=l),i=e.pendingLanes,i===0&&(hn=null),bc(n.stateNode),mt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Fl)throw Fl=!1,e=Oi,Oi=null,e;return(Bl&1)!==0&&e.tag!==0&&rr(),i=e.pendingLanes,(i&1)!==0?e===bi?Fr++:(Fr=0,bi=e):Fr=0,cn(),null}function rr(){if(mn!==null){var e=Po(Bl),t=Tt.transition,n=_e;try{if(Tt.transition=null,_e=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,Bl=0,(Ee&6)!==0)throw Error(o(331));var l=Ee;for(Ee|=4,J=e.current;J!==null;){var i=J,d=i.child;if((J.flags&16)!==0){var m=i.deletions;if(m!==null){for(var x=0;x<m.length;x++){var _=m[x];for(J=_;J!==null;){var q=J;switch(q.tag){case 0:case 11:case 15:Dr(8,q,i)}var B=q.child;if(B!==null)B.return=q,J=B;else for(;J!==null;){q=J;var F=q.sibling,X=q.return;if(Mu(q),q===_){J=null;break}if(F!==null){F.return=X,J=F;break}J=X}}}var ee=i.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var We=ne.sibling;ne.sibling=null,ne=We}while(ne!==null)}}J=i}}if((i.subtreeFlags&2064)!==0&&d!==null)d.return=i,J=d;else e:for(;J!==null;){if(i=J,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Dr(9,i,i.return)}var M=i.sibling;if(M!==null){M.return=i.return,J=M;break e}J=i.return}}var S=e.current;for(J=S;J!==null;){d=J;var N=d.child;if((d.subtreeFlags&2064)!==0&&N!==null)N.return=d,J=N;else e:for(d=S;J!==null;){if(m=J,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Dl(9,m)}}catch(re){Ue(m,m.return,re)}if(m===d){J=null;break e}var W=m.sibling;if(W!==null){W.return=m.return,J=W;break e}J=m.return}}if(Ee=l,cn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Kr,e)}catch{}r=!0}return r}finally{_e=n,Tt.transition=t}}return!1}function Bu(e,t,n){t=Jn(n,t),t=su(e,t,1),e=fn(e,t,1),t=ct(),e!==null&&(ur(e,1,t),mt(e,t))}function Ue(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=Jn(n,e),e=iu(t,e,1),t=fn(t,e,1),e=ct(),t!==null&&(ur(t,1,e),mt(t,e));break}}t=t.return}}function af(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(nt&n)===n&&(Ye===4||Ye===3&&(nt&130023424)===nt&&500>He()-Ri?Ln(e,0):Li|=n),mt(e,t)}function Uu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Xr,Xr<<=1,(Xr&130023424)===0&&(Xr=4194304)));var n=ct();e=Yt(e,t),e!==null&&(ur(e,t,n),mt(e,n))}function uf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uu(e,n)}function cf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Uu(e,n)}var Hu;Hu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)pt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pt=!1,Yd(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Ae&&(t.flags&1048576)!==0&&ka(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bl(e,t),e=t.pendingProps;var l=Vn(t,lt.current);Xn(t,n),l=ui(null,t,r,e,l,n);var i=ci();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,vl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ni(t),l.updater=Rl,t.stateNode=l,l._reactInternals=t,vi(t,r,e,n),t=wi(null,t,r,!0,i,n)):(t.tag=0,Ae&&i&&$s(t),ut(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=ff(r),e=It(r,e),l){case 0:t=xi(null,t,r,e,n);break e;case 1:t=mu(null,t,r,e,n);break e;case 11:t=cu(null,t,r,e,n);break e;case 14:t=du(null,t,r,It(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),xi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),mu(e,t,r,l,n);case 3:e:{if(vu(t),e===null)throw Error(o(387));r=t.pendingProps,i=t.memoizedState,l=i.element,La(e,t),Ml(t,r,null,n);var d=t.memoizedState;if(r=d.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Jn(Error(o(423)),t),t=gu(e,t,r,n,l);break e}else if(r!==l){l=Jn(Error(o(424)),t),t=gu(e,t,r,n,l);break e}else for(St=on(t.stateNode.containerInfo.firstChild),wt=t,Ae=!0,bt=null,n=Ta(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===l){t=Zt(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return ba(t),e===null&&Ks(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,d=l.children,qs(r,l)?d=null:i!==null&&qs(r,i)&&(t.flags|=32),hu(e,t),ut(e,t,d,n),t.child;case 6:return e===null&&Ks(t),null;case 13:return yu(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kn(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),cu(e,t,r,l,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,d=l.value,Oe(kl,r._currentValue),r._currentValue=d,i!==null)if(Ot(i.value,d)){if(i.children===l.children&&!dt.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var m=i.dependencies;if(m!==null){d=i.child;for(var x=m.firstContext;x!==null;){if(x.context===r){if(i.tag===1){x=Xt(-1,n&-n),x.tag=2;var _=i.updateQueue;if(_!==null){_=_.shared;var q=_.pending;q===null?x.next=x:(x.next=q.next,q.next=x),_.pending=x}}i.lanes|=n,x=i.alternate,x!==null&&(x.lanes|=n),ei(i.return,n,t),m.lanes|=n;break}x=x.next}}else if(i.tag===10)d=i.type===t.type?null:i.child;else if(i.tag===18){if(d=i.return,d===null)throw Error(o(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),ei(d,n,t),d=i.sibling}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===t){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}ut(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Xn(t,n),l=Nt(l),r=r(l),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,l=It(r,t.pendingProps),l=It(r.type,l),du(e,t,r,l,n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),bl(e,t),t.tag=1,ft(r)?(e=!0,vl(t)):e=!1,Xn(t,n),ru(t,r,l),vi(t,r,l,n),wi(null,t,r,!0,e,n);case 19:return wu(e,t,n);case 22:return pu(e,t,n)}throw Error(o(156,t.tag))};function Wu(e,t){return jo(e,t)}function df(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new df(e,t,n,r)}function qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ff(e){if(typeof e=="function")return qi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===et)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,l,i){var d=2;if(r=e,typeof e=="function")qi(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case I:return On(n.children,l,i,t);case G:d=8,l|=8;break;case Y:return e=_t(12,n,t,l|2),e.elementType=Y,e.lanes=i,e;case je:return e=_t(13,n,t,l),e.elementType=je,e.lanes=i,e;case Ve:return e=_t(19,n,t,l),e.elementType=Ve,e.lanes=i,e;case ae:return $l(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:d=10;break e;case Ne:d=9;break e;case me:d=11;break e;case et:d=14;break e;case ve:d=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=_t(d,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function On(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=_t(22,e,r,t),e.elementType=ae,e.lanes=n,e.stateNode={isHidden:!1},e}function Bi(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Ui(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ms(0),this.expirationTimes=ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Hi(e,t,n,r,l,i,d,m,x){return e=new pf(e,t,n,m,x),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ni(i),e}function hf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return un;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ft(n))return xa(e,n,t)}return t}function $u(e,t,n,r,l,i,d,m,x){return e=Hi(n,r,!0,e,l,i,d,m,x),e.context=Vu(null),n=e.current,r=ct(),l=vn(n),i=Xt(r,l),i.callback=t??null,fn(n,i,l),e.current.lanes=l,ur(e,l,r),mt(e,r),e}function Gl(e,t,n,r){var l=t.current,i=ct(),d=vn(l);return n=Vu(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(i,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(l,t,d),e!==null&&(At(e,l,d,i),El(e,l,d)),d}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wi(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function mf(){return null}var Qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vi(e){this._internalRoot=e}Kl.prototype.render=Vi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Gl(e,t,null,null)},Kl.prototype.unmount=Vi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){Gl(null,e,null,null)}),t[$t]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&bo(e)}};function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function vf(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var _=Ql(d);i.call(_)}}var d=$u(t,r,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=d,e[$t]=d.current,jr(e.nodeType===8?e.parentNode:e),_n(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var m=r;r=function(){var _=Ql(x);m.call(_)}}var x=Hi(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=x,e[$t]=x.current,jr(e.nodeType===8?e.parentNode:e),_n(function(){Gl(t,x,n,r)}),x}function Xl(e,t,n,r,l){var i=n._reactRootContainer;if(i){var d=i;if(typeof l=="function"){var m=l;l=function(){var x=Ql(d);m.call(x)}}Gl(t,d,e,l)}else d=vf(n,t,e,l,r);return Ql(d)}To=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(vs(t,n|1),mt(t,He()),(Ee&6)===0&&(nr=He()+500,cn()))}break;case 13:_n(function(){var r=Yt(e,1);if(r!==null){var l=ct();At(r,e,1,l)}}),Wi(e,1)}},gs=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=ct();At(t,e,134217728,n)}Wi(e,134217728)}},_o=function(e){if(e.tag===13){var t=vn(e),n=Yt(e,t);if(n!==null){var r=ct();At(n,e,t,r)}Wi(e,t)}},Lo=function(){return _e},Ro=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}},us=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=hl(r);if(!l)throw Error(o(90));Be(r),pe(r,l)}}}break;case"textarea":Vt(e,n);break;case"select":t=n.value,t!=null&&ze(e,!!n.multiple,t,!1)}},vo=zi,go=_n;var gf={usingClientEntryPoint:!1,Events:[Cr,Hn,hl,ho,mo,zi]},qr={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yf={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=So(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Kr=Zl.inject(yf),qt=Zl}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gf,vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$i(t))throw Error(o(200));return hf(e,t,null,n)},vt.createRoot=function(e,t){if(!$i(e))throw Error(o(299));var n=!1,r="",l=Qu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Hi(e,1,!1,null,null,n,!1,r,l),e[$t]=t.current,jr(e.nodeType===8?e.parentNode:e),new Vi(t)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=So(t),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return _n(e)},vt.hydrate=function(e,t,n){if(!Yl(t))throw Error(o(200));return Xl(null,e,t,!0,n)},vt.hydrateRoot=function(e,t,n){if(!$i(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",d=Qu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=$u(t,null,e,1,n??null,l,!1,i,d),e[$t]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Kl(t)},vt.render=function(e,t,n){if(!Yl(t))throw Error(o(200));return Xl(null,e,t,!1,n)},vt.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(o(40));return e._reactRootContainer?(_n(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},vt.unstable_batchedUpdates=zi,vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Xl(e,t,n,!1,r)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var rc;function Cf(){if(rc)return Ki.exports;rc=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Ki.exports=Mf(),Ki.exports}var lc;function Nf(){if(lc)return Jl;lc=1;var u=Cf();return Jl.createRoot=u.createRoot,Jl.hydrateRoot=u.hydrateRoot,Jl}var Pf=Nf(),H=Vr();const jt=xc(H),U={osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},sampler:{id:null,name:"Empty",dataUrl:null,rootMidi:60,loop:!0,durationSec:0,trimStartSec:0,trimEndSec:0},engineMode:"classic",macro:{model:"va",harmonics:.6,timbre:.5,morph:.5,level:1},effects:{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}},lfo1:{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"},lfo2:{enabled:!1,wave:"triangle",rateHz:.5,amount:.4,dest:"filter"},arp:{enabled:!1,rateHz:8,bpmSync:!1,bpm:120,division:"1/8",gate:.6,chordSource:"preset",mode:"up",octaves:1,chord:"none",latch:!1,swingPct:0,repeats:1,patternLen:0},sequencer:{enabled:!1,playing:!1,bpm:120,division:"1/16",swingPct:0,gate:.6,rootMidi:60,length:16,steps:Array.from({length:16},()=>({on:!1,offset:0,velocity:1}))},expression:{x:"filter.cutoff",y:"master.gain"}},rt=(u,a)=>Number.isFinite(u)?u:a,es=(u,a)=>u.patch[a]??U[a],ts=u=>u.patch.macro??U.macro,ns={"filter.cutoff":{getBase:u=>rt(u.patch.filter.cutoff,U.filter.cutoff),range:(u,a)=>{const o=Pe(a*.25,80,12e3),c=Pe(a*4,o+20,14e3);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({filter:{cutoff:a}},{fromExpression:!0})},"filter.q":{getBase:u=>rt(u.patch.filter.q,U.filter.q),range:(u,a)=>{const o=Pe(a*.5,.1,20),c=Pe(a*2.5,o+.1,20);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({filter:{q:a}},{fromExpression:!0})},"master.gain":{getBase:u=>rt(u.patch.master.gain,U.master.gain),range:(u,a)=>{const o=Pe(a*.4,.01,1),c=Pe(a*1.6,o+.01,1);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({master:{gain:a}},{fromExpression:!0})},mix:{getBase:u=>rt(u.patch.mix,U.mix),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({mix:Pe(a,0,1)},{fromExpression:!0})},"osc1.detune":{getBase:u=>rt(u.patch.osc1.detune,U.osc1.detune),range:(u,a)=>{const o=Pe(a-120,-2400,2400),c=Pe(a+120,o+1,2400);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({osc1:{detune:a}},{fromExpression:!0})},"osc2.detune":{getBase:u=>rt(u.patch.osc2.detune,U.osc2.detune),range:(u,a)=>{const o=Pe(a-120,-2400,2400),c=Pe(a+120,o+1,2400);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({osc2:{detune:a}},{fromExpression:!0})},"fm.amount":{getBase:u=>rt(u.patch.fm.amount,U.fm.amount),range:(u,a)=>{const o=Pe(a*.5,0,4e3),c=Pe(Math.max(a+400,400),o+10,4e3);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({fm:{amount:Pe(a,0,4e3)}},{fromExpression:!0})},"envelope.attack":{getBase:u=>rt(u.patch.envelope.attack,U.envelope.attack),range:(u,a)=>{const o=Pe(a*.2,.001,4),c=Pe(a*3,o+.01,4);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({envelope:{attack:a}},{fromExpression:!0})},"envelope.release":{getBase:u=>rt(u.patch.envelope.release,U.envelope.release),range:(u,a)=>{const o=Pe(a*.5,.03,6),c=Pe(a*3,o+.05,6);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({envelope:{release:a}},{fromExpression:!0})},"macro.harmonics":{getBase:u=>rt(ts(u).harmonics,U.macro.harmonics),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{harmonics:Pe(a,0,1)}},{fromExpression:!0})},"macro.timbre":{getBase:u=>rt(ts(u).timbre,U.macro.timbre),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{timbre:Pe(a,0,1)}},{fromExpression:!0})},"macro.morph":{getBase:u=>rt(ts(u).morph,U.macro.morph),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{morph:Pe(a,0,1)}},{fromExpression:!0})},"macro.level":{getBase:u=>rt(ts(u).level,U.macro.level),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{level:Pe(a,0,1)}},{fromExpression:!0})},"lfo1.rateHz":{getBase:u=>rt(es(u,"lfo1").rateHz,U.lfo1.rateHz),range:(u,a)=>{const o=Pe(a*.25,.05,30),c=Pe(a*4,o+.05,40);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({lfo1:{rateHz:a}},{fromExpression:!0})},"lfo1.amount":{getBase:u=>rt(es(u,"lfo1").amount,U.lfo1.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo1:{amount:Pe(a,0,1)}},{fromExpression:!0})},"lfo2.rateHz":{getBase:u=>rt(es(u,"lfo2").rateHz,U.lfo2.rateHz),range:(u,a)=>{const o=Pe(a*.25,.02,20),c=Pe(a*4,o+.05,30);return{min:o,max:c}},apply:(u,a)=>u.applyPatch({lfo2:{rateHz:a}},{fromExpression:!0})},"lfo2.amount":{getBase:u=>rt(es(u,"lfo2").amount,U.lfo2.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo2:{amount:Pe(a,0,1)}},{fromExpression:!0})}},Zi=["x","y"],Pe=(u,a,o)=>Math.min(o,Math.max(a,u));function Tf(u){const a=u.sampleRate*1,o=u.createBuffer(1,a,u.sampleRate),c=o.getChannelData(0);for(let p=0;p<a;p++)c[p]=Math.random()*2-1;return o}class oo{ctx;master;filter;analyser;noiseBuffer;activeVoices=new Map;fxInput;fxOutput;currentFxTap=null;lfos;expression2D={active:!1,x:.5,y:.5};expressionAxisTargets={x:U.expression.x,y:U.expression.y};expressionSnapshot={x:null,y:null};expressionApplying=!1;samplerBuffer=null;samplerMeta={...U.sampler};samplerLoadToken=0;patch;arpHeld=new Set;arpIndex=0;arpTimer=null;arpLastNote=null;arpBypass=!1;arpPhase=0;arpRepeatCounter=0;arpCurrentStepMs=0;seqTimer=null;seqPhase=0;seqCurrentStepMs=0;seqStepIndex=0;seqLastNote=null;constructor(a){this.ctx=a??new(window.AudioContext||window.webkitAudioContext),this.master=this.ctx.createGain(),this.filter=this.ctx.createBiquadFilter(),this.analyser=this.ctx.createAnalyser(),this.fxInput=this.ctx.createGain(),this.fxOutput=this.ctx.createGain(),this.filter.connect(this.fxInput),this.fxInput.connect(this.fxOutput),this.fxOutput.connect(this.master),this.master.connect(this.ctx.destination);try{this.filter.connect(this.analyser)}catch{}this.analyser.smoothingTimeConstant=0,this.lfos=[];for(let o=0;o<2;o++){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=5;const p=this.ctx.createGain();p.gain.value=0,c.connect(p),c.start(),this.lfos.push({osc:c,gain:p,dest:"none"})}this.patch={...U},this.applyPatch(),this.samplerMeta=this.normalizeSamplerMeta(this.patch.sampler,null)}get audioContext(){return this.ctx}getAnalyser(){return this.analyser}getWaveform(){const a=this.analyser.fftSize,o=new Uint8Array(a);return this.analyser.getByteTimeDomainData(o),o}async resume(){this.ctx.state!=="running"&&await this.ctx.resume()}normalizeSamplerMeta(a,o){const c=o?.duration??(Number.isFinite(a.durationSec)?a.durationSec:0);if(!(c>0))return{...a,durationSec:0,trimStartSec:0,trimEndSec:0};const p=.005,f=Math.max(0,c-p),v=Number(a.trimStartSec),w=Pe(Number.isFinite(v)?v:0,0,f),h=Number(a.trimEndSec);let g=Number.isFinite(h)?h:c;return g=Pe(g,w+p,c),g-w<p&&(g=Math.min(c,w+p)),{...a,durationSec:c,trimStartSec:w,trimEndSec:g}}async updateSamplerBuffer(a){const o=this.samplerMeta.id===a.id&&this.samplerMeta.dataUrl===a.dataUrl;if(this.samplerMeta=this.normalizeSamplerMeta({...a},o?this.samplerBuffer:null),!a.dataUrl){this.samplerBuffer=null,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,null);return}if(o&&this.samplerBuffer)return;const c=++this.samplerLoadToken;try{const f=await(await fetch(a.dataUrl)).arrayBuffer(),v=await this.ctx.decodeAudioData(f.slice(0));c===this.samplerLoadToken&&(this.samplerBuffer=v,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,v))}catch(p){c===this.samplerLoadToken&&(this.samplerBuffer=null,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,null)),console.warn("Failed to decode sampler buffer",p)}}getSamplerBaseFrequency(){const a=Number.isFinite(this.samplerMeta.rootMidi)?this.samplerMeta.rootMidi:60;return 440*Math.pow(2,(a-69)/12)}getDetuneCents(a){if(a==="osc1"){const o=this.patch.osc1.detune||0,c=(this.patch.osc1.finePct??0)/100,p=Math.abs(o)*.05*c;return o+p}return this.patch.osc2.detune||0}createSamplerSource(a,o){if(!this.samplerBuffer)return null;this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,this.samplerBuffer);const c=this.ctx.createBufferSource();c.buffer=this.samplerBuffer;const p=this.samplerMeta.trimStartSec??0,f=this.samplerMeta.trimEndSec??this.samplerBuffer.duration,v=Math.max(.005,this.samplerBuffer.duration-p),w=Pe(f-p,.005,v),h=!!this.samplerMeta.loop&&w>.01;c.loop=h,h&&(c.loopStart=p,c.loopEnd=p+w);const g=this.getSamplerBaseFrequency(),C=this.getDetuneCents(o),j=Math.pow(2,C/1200),y=g>0?a/g*j:j;return c.playbackRate.setValueAtTime(y,this.ctx.currentTime),h?c.start(0,p):c.start(0,p,w),c._autoStarted=!0,c}applyPatch(a={},o={}){const{fromExpression:c=!1}=o,p=this.patch,f={...this.patch,...a,osc1:{...this.patch.osc1,...a.osc1??{}},osc2:{...this.patch.osc2,...a.osc2??{}},fm:{...this.patch.fm,...a.fm??{}},sub:{...this.patch.sub,...a.sub??{}},ring:{...this.patch.ring,...a.ring??{}},filter:{...this.patch.filter,...a.filter??{}},envelope:{...this.patch.envelope,...a.envelope??{}},master:{...this.patch.master,...a.master??{}},mix:a.mix!=null?a.mix:this.patch.mix,engineMode:a.engineMode??this.patch.engineMode??"classic",sampler:{...this.patch.sampler??U.sampler,...a.sampler??{}},macro:{...this.patch.macro??U.macro,...a.macro??{}},effects:{...this.patch.effects??U.effects,...a.effects??{}},lfo1:{...this.patch.lfo1??U.lfo1,...a.lfo1??{}},lfo2:{...this.patch.lfo2??U.lfo2,...a.lfo2??{}},arp:{...this.patch.arp??U.arp,...a.arp??{}},sequencer:{...this.patch.sequencer??U.sequencer,...a.sequencer??{}},expression:{...this.patch.expression??U.expression,...a.expression??{}}};if(this.patch=f,a.sampler!==void 0&&this.updateSamplerBuffer(f.sampler),this.configureExpressionRouting(f.expression),f.master.gain!==p.master.gain&&this.master.gain.setTargetAtTime(f.master.gain,this.ctx.currentTime,.01),f.filter.type!==p.filter.type&&(this.filter.type=f.filter.type),f.filter.q!==p.filter.q&&this.filter.Q.setTargetAtTime(f.filter.q,this.ctx.currentTime,.02),f.filter.cutoff!==p.filter.cutoff&&this.filter.frequency.setTargetAtTime(f.filter.cutoff,this.ctx.currentTime,.015),this.noiseBuffer||(this.noiseBuffer=Tf(this.ctx)),a.effects!==void 0&&this.buildFxChain(),a.lfo1!==void 0||a.lfo2!==void 0||a.master?.gain!==void 0){const v=[this.patch.lfo1,this.patch.lfo2];for(let w=0;w<this.lfos.length;w++){const h=this.lfos[w],g=v[w];h.osc.type=g.wave,h.osc.frequency.setValueAtTime(Math.max(.01,g.rateHz),this.ctx.currentTime);try{h.gain.disconnect()}catch{}if(h.dest="none",h.gain.gain.value=0,g.enabled)if(g.dest==="filter")h.dest="filter",h.gain.gain.value=Math.max(0,g.amount)*2e3,h.gain.connect(this.filter.frequency);else if(g.dest==="amp"){h.dest="amp";const C=this.patch.master.gain;h.gain.gain.value=Math.max(0,g.amount)*Math.max(0,C)*.8,h.gain.connect(this.master.gain)}else g.dest==="pitch"&&(h.dest="pitch",h.gain.gain.value=Math.max(0,g.amount)*50)}}if(a.arp!==void 0&&this.updateArpScheduler({forceRestart:!0}),a.sequencer!==void 0&&this.updateSeqScheduler(),a.osc1?.detune!==void 0||a.osc1?.finePct!==void 0){const v=this.ctx.currentTime,w=f.osc1.detune||0,h=(f.osc1.finePct??0)/100,g=Math.abs(w)*.05*h,C=w+g;for(const j of this.activeVoices.values())if(j.osc1Detune)try{j.osc1Detune.setTargetAtTime(C,v,.01)}catch{}}if(a.osc2?.detune!==void 0){const v=this.ctx.currentTime;for(const w of this.activeVoices.values())if(w.osc2Detune)try{w.osc2Detune.setTargetAtTime(f.osc2.detune||0,v,.01)}catch{}}this.expression2D.active&&!c&&this.applyExpression2D()}buildFxChain(){try{this.fxInput.disconnect()}catch{}if(this.currentFxTap){try{this.currentFxTap.disconnect(this.fxOutput)}catch{}this.currentFxTap=null}let a=this.fxInput;const o=this.patch.effects;o?.delay?.enabled&&(a=this.applyDelayEffect(a,o.delay)),o?.reverb?.enabled&&(a=this.applyReverbEffect(a,o.reverb)),a.connect(this.fxOutput),this.currentFxTap=a}clamp01(a){return Math.min(1,Math.max(0,a))}setExpression2D(a,o){const c=this.clamp01(a),p=this.clamp01(o);this.expression2D.active||this.captureExpressionBase(),this.expression2D={active:!0,x:c,y:p},this.applyExpression2D()}clearExpression2D(){if(this.expression2D.active){this.expressionApplying=!0;try{for(const a of Zi)this.resetExpressionAxis(a)}finally{this.expressionApplying=!1,this.expression2D={active:!1,x:.5,y:.5},this.expressionSnapshot={x:null,y:null}}}}configureExpressionRouting(a=this.patch.expression??U.expression){const o=U.expression??{x:"filter.cutoff",y:"master.gain"};for(const c of Zi){const p=a?.[c]??o[c],f=ns[p]?p:o[c];(this.expressionAxisTargets[c]!==f||!this.expression2D.active)&&(this.expressionSnapshot[c]=null),this.expressionAxisTargets[c]=f}}captureExpressionBase(){for(const a of Zi){const o=this.expressionAxisTargets[a],c=ns[o];if(!c)continue;const p=c.getBase(this);this.expressionSnapshot[a]=Number.isFinite(p)?p:0}}applyExpressionAxis(a,o){const c=this.expressionAxisTargets[a],p=ns[c];if(!p)return;let f=this.expressionSnapshot[a];(f==null||Number.isNaN(f))&&(f=p.getBase(this),this.expressionSnapshot[a]=f);const{min:v,max:w}=p.range(this,f),h=w-v,g=h<=0?f:v+h*this.clamp01(o);p.apply(this,g)}resetExpressionAxis(a){const o=this.expressionSnapshot[a],c=this.expressionAxisTargets[a],p=ns[c];p&&o!=null&&Number.isFinite(o)&&p.apply(this,o),this.expressionSnapshot[a]=null}applyExpression2D(){if(!(!this.expression2D.active||this.expressionApplying)){this.expressionApplying=!0;try{this.applyExpressionAxis("x",this.expression2D.x),this.applyExpressionAxis("y",this.expression2D.y)}finally{this.expressionApplying=!1}}}applyDelayEffect(a,o){const c=this.clamp01(o.mix),p=Math.max(0,Math.min(1.5,o.time)),f=Math.max(0,Math.min(.95,o.feedback)),v=this.ctx.createDelay(2);v.delayTime.value=p;const w=this.ctx.createGain();w.gain.value=f,v.connect(w),w.connect(v);const h=this.ctx.createGain();h.gain.value=1-c;const g=this.ctx.createGain();g.gain.value=c;const C=this.ctx.createGain();return a.connect(h),a.connect(v),v.connect(g),h.connect(C),g.connect(C),C}makeImpulse(a,o){const c=Math.max(1,Math.floor(this.ctx.sampleRate*Math.max(.05,a))),p=this.ctx.createBuffer(2,c,this.ctx.sampleRate);for(let f=0;f<p.numberOfChannels;f++){const v=p.getChannelData(f);for(let w=0;w<c;w++){const h=w/c;v[w]=(Math.random()*2-1)*Math.pow(1-h,2+o*6)}}return p}applyReverbEffect(a,o){const c=this.clamp01(o.mix),p=.1+this.clamp01(o.size)*3,f=this.clamp01(o.decay),v=this.ctx.createConvolver();v.normalize=!0,v.buffer=this.makeImpulse(p,f);const w=this.ctx.createGain();w.gain.value=1-c;const h=this.ctx.createGain();h.gain.value=c;const g=this.ctx.createGain();return a.connect(w),a.connect(v),v.connect(h),w.connect(g),h.connect(g),g}makeWavefolderCurve(a,o,c=2048){const p=new Float32Array(c),f=Math.max(1e-4,a)*6,v=(o-.5)*2;for(let w=0;w<c;w++){let h=w/(c-1)*2-1;h+=v*.5;const g=Math.tanh(f*h)/Math.tanh(f);p[w]=g}return p}createMacroSuperSaw(a,o){const p=this.ctx.createGain(),f=this.ctx.createBiquadFilter();f.type="lowpass",f.frequency.value=800+o.timbre*12e3,f.Q.value=.3;const v=0+o.harmonics*30,w=[-1,-.6,-.2,.2,.6,1],h=[];for(let C=0;C<6;C++){const j=this.ctx.createOscillator();j.type="sawtooth",j.frequency.value=a,j.detune.value=w[C]*v;const y=this.ctx.createGain();y.gain.value=1/6;const b=this.ctx.createStereoPanner(),T=(o.morph-.5)*2,P=w[C]/Math.max(1,Math.max(...w.map(Math.abs)))*T;b.pan.value=P,j.connect(y).connect(b).connect(p),h.push({osc:j,pan:b}),j.start()}p.connect(f);const g=this.ctx.createGain();return g.gain.value=o.level,f.connect(g),{output:g,stop:C=>h.forEach(({osc:j})=>j.stop(C)),pitched:h.map(C=>C.osc)}}createMacroWavetable(a,o){const c=["sine","triangle","sawtooth","square"],p=Math.min(3,Math.max(0,Math.floor(o.morph*3.00001))),f=Math.min(1,Math.max(0,o.morph*3-p)),v=(y,b)=>{const T=this.ctx.createOscillator();T.type=y,T.frequency.value=a;const P=this.ctx.createGain();return P.gain.value=b,T.connect(P),{osc:T,g:P}},w=v(c[p],p===3?1:1-f),h=p<3?v(c[p+1],f):null,g=this.ctx.createBiquadFilter();g.type="lowpass",g.frequency.value=800+o.harmonics*15e3,g.Q.value=.1+o.timbre*.6;const C=this.ctx.createGain();C.gain.value=o.level,w.g.connect(g),h&&h.g.connect(g),g.connect(C),w.osc.start(),h&&h.osc.start();const j=[w.osc];return h&&j.push(h.osc),{output:C,stop:y=>{w.osc.stop(y),h&&h.osc.stop(y)},pitched:j}}createMacroHarmonic(a,o){const f=Math.round(2+o.harmonics*14),v=.5+(1-o.timbre)*2,w=(o.morph-.5)*2,h=this.ctx.createGain(),g=[];for(let y=1;y<=f;y++){const b=this.ctx.createOscillator();b.type="sine",b.frequency.value=a*y;let T=1/Math.pow(y,v);const O=y%2===0?Math.max(.1,(w+1)/2):Math.max(.1,(1-w)/2);T*=O;const R=this.ctx.createGain();R.gain.value=T,b.connect(R).connect(h),b.start(),g.push(b)}const C=this.ctx.createBiquadFilter();C.type="lowpass",C.frequency.value=1e3+o.timbre*15e3,C.Q.value=.2;const j=this.ctx.createGain();return j.gain.value=o.level,h.connect(C).connect(j),{output:j,stop:y=>{for(const b of g)b.stop(y)},pitched:g}}createMacroChord(a,o){const c=[[0,4,7],[0,3,7],[0,5,7],[0,2,7],[0,4,7,10],[0,3,7,10],[0,4,7,11],[0,3,6,9],[0,4,8],[-12,0,7,12]],p=Math.max(0,Math.min(c.length-1,Math.floor(o.harmonics*c.length))),f=c[p],v=(o.morph-.5)*2,w=this.ctx.createGain(),h=this.ctx.createBiquadFilter();h.type="lowpass",h.frequency.value=900+o.timbre*15e3,h.Q.value=.3;const g=this.ctx.createGain();g.gain.value=o.level;const C=[],j=[-1,-.3,.3,1];return f.forEach((y,b)=>{const T=this.ctx.createOscillator();T.type="sawtooth";const P=440*Math.pow(2,Math.log2(a/440)+y/12);T.frequency.value=P;const O=j[b%j.length]*v*15;T.detune.value=O;const R=this.ctx.createGain();R.gain.value=1/f.length;const L=this.ctx.createStereoPanner();L.pan.value=j[b%j.length]*v,T.connect(R).connect(L).connect(w),T.start(),C.push(T)}),w.connect(h).connect(g),{output:g,stop:y=>{for(const b of C)b.stop(y)},pitched:C}}createMacroPWM(a,o){const c=this.ctx.createOscillator();c.type="sawtooth",c.frequency.value=a;const p=this.ctx.createGain();p.gain.value=1;const f=this.ctx.createConstantSource(),v=(o.morph-.5)*1.6;f.offset.value=v,f.start(),c.connect(p),f.connect(p);const w=this.ctx.createWaveShaper(),h=1+o.harmonics*24,g=2048,C=new Float32Array(g);for(let b=0;b<g;b++){const T=b/(g-1)*2-1;C[b]=Math.tanh(h*T)}w.curve=C,w.oversample="4x";const j=this.ctx.createBiquadFilter();j.type="lowpass",j.frequency.value=2e3+o.timbre*14e3,j.Q.value=.2;const y=this.ctx.createGain();return y.gain.value=o.level,p.connect(w).connect(j).connect(y),c.start(),{output:y,stop:b=>{c.stop(b),f.stop(b)},pitched:[c]}}createMacroFM2Op(a,o){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=a;const p=this.ctx.createOscillator();p.type="sine";const f=.25+o.harmonics*7.75;p.frequency.value=a*f;const v=this.ctx.createGain();v.gain.value=Math.max(0,o.timbre)*a*2,p.connect(v).connect(c.frequency);const w=this.ctx.createBiquadFilter();w.type="lowpass",w.frequency.value=1e3+o.morph*15e3,w.Q.value=.1;const h=this.ctx.createGain();return h.gain.value=o.level,c.connect(w).connect(h),c.start(),p.start(),{output:h,stop:g=>{c.stop(g),p.stop(g)},pitched:[c]}}createMacroVA(a,o){const c=this.ctx.createOscillator(),p=this.ctx.createOscillator();c.type="sawtooth",p.type="triangle",c.frequency.value=a,p.frequency.value=a;const f=this.ctx.createGain(),v=this.ctx.createGain();f.gain.value=1-o.timbre,v.gain.value=o.timbre;const w=this.ctx.createGain(),h=this.ctx.createBiquadFilter();return h.type="lowpass",h.frequency.value=1e3+o.harmonics*15e3,h.Q.value=.5,p.connect(f).connect(w),c.connect(v).connect(w),w.connect(h),p.start(),c.start(),{output:h,stop:g=>{p.stop(g),c.stop(g)},pitched:[p,c]}}createMacroFold(a,o){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=a;const p=this.ctx.createGain(),f=this.ctx.createWaveShaper(),v=this.ctx.createGain(),w=.2+o.harmonics*1.6,h=o.morph;f.curve=this.makeWavefolderCurve(w,h),f.oversample="4x",p.gain.value=1,v.gain.value=o.level;const g=this.ctx.createBiquadFilter();return g.type="lowpass",g.frequency.value=4e3+o.timbre*16e3,g.Q.value=.2,c.connect(p).connect(f).connect(g).connect(v),c.start(),{output:v,stop:C=>c.stop(C),pitched:[c]}}createMacroPluck(a,o){const c=this.ctx.createGain(),p=this.ctx.createBufferSource(),f=Math.floor(this.ctx.sampleRate*.02),v=this.ctx.createBuffer(1,f,this.ctx.sampleRate),w=v.getChannelData(0);for(let b=0;b<f;b++)w[b]=(Math.random()*2-1)*(1-b/f);p.buffer=v,p.loop=!1;const h=1/Math.max(20,a),g=this.ctx.createDelay(1);g.delayTime.value=h;const C=this.ctx.createGain();C.gain.value=.85+o.harmonics*.14;const j=this.ctx.createBiquadFilter();j.type="lowpass",j.frequency.value=1e3+o.timbre*8e3,j.Q.value=0;const y=this.ctx.createBiquadFilter();return y.type="highpass",y.frequency.value=50+o.morph*400,p.connect(y).connect(g).connect(c),g.connect(j).connect(C).connect(g),c.gain.value=o.level,p.start(),{output:c,stop:b=>{},pitched:[]}}makeVoice(a){const o=this.ctx.currentTime,c=this.patch.envelope,p=this.ctx.createGain();if(p.gain.value=0,p.connect(this.filter),(this.patch.engineMode??"classic")==="macro"&&this.patch.macro){const R=this.patch.macro;let L;switch(R.model){case"fold":L=this.createMacroFold(a,R);break;case"pluck":L=this.createMacroPluck(a,R);break;case"supersaw":L=this.createMacroSuperSaw(a,R);break;case"pwm":L=this.createMacroPWM(a,R);break;case"fm2op":L=this.createMacroFM2Op(a,R);break;case"wavetable":L=this.createMacroWavetable(a,R);break;case"harmonic":L=this.createMacroHarmonic(a,R);break;case"chord":L=this.createMacroChord(a,R);break;case"va":default:L=this.createMacroVA(a,R);break}L.output.connect(p);const $=[];if(L.pitched&&L.pitched.length)for(const E of L.pitched)for(const I of this.lfos)I.dest==="pitch"&&this.patch[this.lfos.indexOf(I)===0?"lfo1":"lfo2"]?.enabled&&(I.gain.connect(E.detune),$.push({g:I.gain,p:E.detune}));const D=p.gain;return D.cancelScheduledValues(o),D.setValueAtTime(0,o),D.linearRampToValueAtTime(1,o+Math.max(.001,c.attack)),D.linearRampToValueAtTime(c.sustain,o+c.attack+Math.max(.001,c.decay)),{stop:E=>{const I=Math.max(this.ctx.currentTime,E);D.cancelScheduledValues(I),D.setValueAtTime(D.value,I),D.linearRampToValueAtTime(0,I+Math.max(.001,c.release)),L.stop(I+c.release+.05);for(const G of $)try{G.g.disconnect(G.p)}catch{}}}}const f=this.ctx.createGain(),v=this.ctx.createGain(),w=Math.max(0,Math.min(1,this.patch.mix));f.gain.value=1-w,v.gain.value=w;const h=this.ctx.createGain();h.gain.value=1,f.connect(h),v.connect(h),h.connect(p);const g=[];let C=null,j=null,y=null;const b=[];{let R=null;if(this.patch.osc1.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,R=L}else if(this.patch.osc1.wave==="sample")R=this.createSamplerSource(a,"osc1");else{const L=this.ctx.createOscillator();L.type=this.patch.osc1.wave,L.frequency.setValueAtTime(a,o);const $=this.patch.osc1.detune||0,D=(this.patch.osc1.finePct??0)/100,Q=Math.abs($)*.05*D,E=$+Q;L.detune.value=E,R=L,C=L}if(R&&(R.connect(f),g.push(R),y=R),R&&this.patch.fm.enabled&&"frequency"in R){const L=R,$=this.ctx.createOscillator();$.type=this.patch.osc2.wave;const D=Math.max(.01,this.patch.fm.ratio||1);$.frequency.setValueAtTime(a*D,o),$.detune.value=this.patch.osc2.detune||0;const Q=this.ctx.createGain();Q.gain.value=Math.max(0,this.patch.fm.amount||0),$.connect(Q),Q.connect(L.frequency),g.push($)}if(R&&"detune"in R)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(R.detune),b.push({g:L.gain,p:R.detune}))}{let R=null;if(this.patch.osc2.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,R=L}else if(this.patch.osc2.wave==="sample")R=this.createSamplerSource(a,"osc2");else{const L=this.ctx.createOscillator();L.type=this.patch.osc2.wave,L.frequency.setValueAtTime(a,o),L.detune.value=this.patch.osc2.detune,R=L,j=L}if(R&&(R.connect(v),g.push(R)),this.patch.ring.enabled&&y&&R){const L=this.ctx.createGain();L.gain.value=0,y.connect(L);const $=this.ctx.createGain();$.gain.value=1,R.connect($),$.connect(L.gain);const D=Math.max(0,Math.min(1,this.patch.ring.amount));h.gain.value=1-D;const Q=this.ctx.createGain();Q.gain.value=D,L.connect(Q),Q.connect(p)}if(R&&"detune"in R)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(R.detune),b.push({g:L.gain,p:R.detune}))}const T=p.gain;T.cancelScheduledValues(o),T.setValueAtTime(0,o),T.linearRampToValueAtTime(1,o+Math.max(.001,c.attack)),T.linearRampToValueAtTime(c.sustain,o+c.attack+Math.max(.001,c.decay));for(const R of g)"start"in R&&!R._autoStarted&&R.start();if(this.patch.sub.enabled){const R=this.ctx.createOscillator();R.type=this.patch.sub.wave||"square";const L=a/Math.pow(2,Math.max(1,Math.min(2,this.patch.sub.octave)));R.frequency.setValueAtTime(L,o);const $=this.ctx.createGain();$.gain.value=Math.max(0,Math.min(1,this.patch.sub.level)),R.connect($),$.connect(p),g.push(R);for(const D of this.lfos)D.dest==="pitch"&&this.patch[this.lfos.indexOf(D)===0?"lfo1":"lfo2"]?.enabled&&(D.gain.connect(R.detune),b.push({g:D.gain,p:R.detune}))}const O={stop:R=>{const L=Math.max(this.ctx.currentTime,R);T.cancelScheduledValues(L),T.setValueAtTime(T.value,L),T.linearRampToValueAtTime(0,L+Math.max(.001,c.release));for(const $ of g)"stop"in $&&$.stop(L+c.release+.05);for(const $ of b)try{$.g.disconnect($.p)}catch{}}};return C&&(O.osc1Detune=C.detune),j&&(O.osc2Detune=j.detune),O}allNotesOff(){const a=this.ctx.currentTime;for(const o of this.activeVoices.values())o.stop(a);this.activeVoices.clear()}getArpChordOffsets(){const a=this.patch.arp??U.arp;if((a.chordSource??"preset")==="sequencer"){const p=this.patch.sequencer??U.sequencer,f=p.steps??[],v=Math.max(1,Math.min(f.length,p.length)),w=new Set;for(let h=0;h<v;h++){const g=f[h];if(g?.on){const C=Math.round(g.offset??0);Number.isFinite(C)&&w.add(C)}}return w.size>0?Array.from(w).sort((h,g)=>h-g):[0]}switch(a.chord??U.arp.chord??"none"){case"power":return[0,7];case"major":return[0,4,7];case"minor":return[0,3,7];case"sus2":return[0,2,7];case"sus4":return[0,5,7];case"maj7":return[0,4,7,11];case"min7":return[0,3,7,10];default:return[0]}}buildArpPool(){if(this.arpHeld.size===0)return[];const a=this.patch.arp?.mode??"up",o=a==="asplayed"?Array.from(this.arpHeld.values()):Array.from(this.arpHeld.values()).sort((v,w)=>v-w),c=Math.max(1,Math.min(4,this.patch.arp?.octaves??1)),p=[],f=this.getArpChordOffsets();for(let v=0;v<c;v++)for(const w of o){const h=w+v*12;for(const g of f){const C=h+g;C<0||C>127||p.push(C)}}if(a==="down")return p.slice().sort((v,w)=>w-v);if(a==="random")return p.slice().sort(()=>Math.random()-.5);if(a==="updown"){const v=p.slice().sort((h,g)=>h-g),w=v.slice().reverse().slice(1,-1);return v.concat(w)}return p}updateArpScheduler(a={}){const{forceRestart:o=!1}=a;if(!!this.patch.arp?.enabled&&this.arpHeld.size>0){const p=o||this.arpTimer==null;if(p&&this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),p){this.arpPhase=0,this.arpRepeatCounter=0;const f=this.getArpStepMs(),v=this.computeArpAlignmentDelay(f);this.scheduleNextArpTick(v)}}else{if(this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const p=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(p)}finally{this.arpBypass=!1}this.arpLastNote=null}this.arpIndex=0,this.arpRepeatCounter=0}}computeArpAlignmentDelay(a){if(!(a>0))return 0;const c=this.ctx.currentTime*1e3%a;return c<1?0:a-c}scheduleNextArpTick(a){const o=this.getArpStepMs();let c=0;if(this.patch.arp?.bpmSync){const w=this.patch.arp?.division,h=Math.max(0,Math.min(1,this.patch.arp?.swingPct??0));w==="1/8"?c=h:w==="1/16"?c=h*.5:c=0}const p=this.arpPhase===0?1+c*.5:1-c*.5,f=o*p,v=a??f;this.arpCurrentStepMs=f,this.arpTimer=setTimeout(()=>{if(!this.patch.arp?.enabled||this.arpHeld.size===0){this.updateArpScheduler();return}this.arpTick(),this.arpPhase=this.arpPhase?0:1,this.scheduleNextArpTick()},Math.max(0,v))}getArpStepMs(){const a=this.patch.arp;if(a?.bpmSync){const c=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division||"1/8",f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return c*f}else return 1e3/Math.max(.1,a?.rateHz??8)}arpTick(){let a=this.buildArpPool();if(a.length===0){if(this.arpLastNote!=null){const g=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(g)}finally{this.arpBypass=!1}this.arpLastNote=null}return}const o=Math.max(0,this.patch.arp?.patternLen??0);o>0&&a.length>o&&(a=a.slice(0,o)),this.arpIndex>=a.length&&(this.arpIndex=0);const c=a[this.arpIndex++],p=Math.max(1,Math.min(8,this.patch.arp?.repeats??1));this.arpRepeatCounter<p-1?(this.arpIndex=(this.arpIndex-1+a.length)%a.length,this.arpRepeatCounter++):this.arpRepeatCounter=0,this.arpLastNote!=null&&(this.patch.arp?.gate??.6)>=1,this.arpBypass=!0;try{this.noteOn(c)}finally{this.arpBypass=!1}this.arpLastNote=c;const f=this.arpCurrentStepMs||this.getArpStepMs(),v=Math.max(.05,Math.min(1,this.patch.arp?.gate??.6)),w=f*v,h=c;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(h)}finally{this.arpBypass=!1}},w)}getArpStatus(){const a=!!this.patch.arp?.enabled;let o=0,c=0;if(a){const p=this.buildArpPool().length,f=Math.max(0,this.patch.arp?.patternLen??0);if(o=f>0?Math.min(f,p):p,o<=0&&(o=0),o>0){const v=(this.arpIndex-1+o)%o;c=v<0?0:v}}return{enabled:a,stepIndex:c,length:o}}getSeqStepMs(){const a=this.patch.sequencer,c=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division,f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return c*f}updateSeqScheduler(){const a=this.patch.sequencer;if(!!a.enabled&&!!a.playing)this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqPhase=0,this.seqStepIndex=0,this.scheduleNextSeqTick();else if(this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqLastNote!=null){const c=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(c)}finally{this.arpBypass=!1}this.seqLastNote=null}}scheduleNextSeqTick(){const a=this.getSeqStepMs(),o=this.patch.sequencer?.division;let c=Math.max(0,Math.min(1,this.patch.sequencer?.swingPct??0));o==="1/16"&&(c*=.5),o==="1/8"&&(c=c),(o==="1/4"||o?.endsWith("T"))&&(c=0);const p=this.seqPhase===0?1+c*.5:1-c*.5,f=a*p;this.seqCurrentStepMs=f,this.seqTimer=setTimeout(()=>{if(!this.patch.sequencer?.enabled||!this.patch.sequencer?.playing){this.updateSeqScheduler();return}this.seqTick(),this.seqPhase=this.seqPhase?0:1,this.scheduleNextSeqTick()},f)}seqTick(){const a=this.patch.sequencer,o=Math.max(1,Math.min(a.steps.length,a.length)),c=this.seqStepIndex%o,p=a.steps[c]||{on:!1,offset:0};if(this.seqStepIndex=(this.seqStepIndex+1)%o,this.seqLastNote!=null&&(a.gate??.6)>=1){const f=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}this.seqLastNote=null}if(p.on){const f=Math.round((a.rootMidi||60)+(p.offset||0));this.arpBypass=!0;try{this.noteOn(f)}finally{this.arpBypass=!1}this.seqLastNote=f;const v=Math.max(.05,Math.min(1,a.gate??.6)),w=(this.seqCurrentStepMs||this.getSeqStepMs())*v;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}},w)}}getSequencerStatus(){const a=this.patch.sequencer,o=!!a.enabled&&!!a.playing,c=Math.max(0,Math.min(a.steps.length,a.length)),p=o&&c>0?(this.seqStepIndex+c-1)%c:0;return{enabled:o,stepIndex:p,length:c}}previewNote(a,o=150){this.arpBypass=!0;try{this.noteOn(a)}finally{this.arpBypass=!1}setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}},Math.max(20,o))}noteOn(a){if(this.patch.arp?.enabled&&!this.arpBypass){this.arpHeld.add(a),this.updateArpScheduler();return}const o=440*Math.pow(2,(a-69)/12),c=this.makeVoice(o);this.activeVoices.set(a,c)}noteOff(a){if(this.patch.arp?.enabled&&!this.arpBypass){if(this.patch.arp?.latch||(this.arpHeld.delete(a),this.arpHeld.size===0&&this.updateArpScheduler()),this.arpLastNote===a){const c=this.activeVoices.get(a);c&&c.stop(this.ctx.currentTime),this.activeVoices.delete(a),this.arpLastNote===a&&(this.arpLastNote=null)}return}const o=this.activeVoices.get(a);o&&(o.stop(this.ctx.currentTime),this.activeVoices.delete(a))}arpClear(){if(this.arpHeld.clear(),this.arpIndex=0,this.arpTimer!=null&&(clearInterval(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const a=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}this.arpLastNote=null}}}const _f={},sc=u=>{let a;const o=new Set,c=(C,j)=>{const y=typeof C=="function"?C(a):C;if(!Object.is(y,a)){const b=a;a=j??(typeof y!="object"||y===null)?y:Object.assign({},a,y),o.forEach(T=>T(a,b))}},p=()=>a,h={setState:c,getState:p,getInitialState:()=>g,subscribe:C=>(o.add(C),()=>o.delete(C)),destroy:()=>{(_f?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},g=a=u(c,p,h);return h},Lf=u=>u?sc(u):sc;var Ji={exports:{}},eo={},to={exports:{}},no={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic;function Rf(){if(ic)return no;ic=1;var u=Vr();function a(j,y){return j===y&&(j!==0||1/j===1/y)||j!==j&&y!==y}var o=typeof Object.is=="function"?Object.is:a,c=u.useState,p=u.useEffect,f=u.useLayoutEffect,v=u.useDebugValue;function w(j,y){var b=y(),T=c({inst:{value:b,getSnapshot:y}}),P=T[0].inst,O=T[1];return f(function(){P.value=b,P.getSnapshot=y,h(P)&&O({inst:P})},[j,b,y]),p(function(){return h(P)&&O({inst:P}),j(function(){h(P)&&O({inst:P})})},[j]),v(b),b}function h(j){var y=j.getSnapshot;j=j.value;try{var b=y();return!o(j,b)}catch{return!0}}function g(j,y){return y()}var C=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:w;return no.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:C,no}var oc;function Of(){return oc||(oc=1,to.exports=Rf()),to.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac;function bf(){if(ac)return eo;ac=1;var u=Vr(),a=Of();function o(g,C){return g===C&&(g!==0||1/g===1/C)||g!==g&&C!==C}var c=typeof Object.is=="function"?Object.is:o,p=a.useSyncExternalStore,f=u.useRef,v=u.useEffect,w=u.useMemo,h=u.useDebugValue;return eo.useSyncExternalStoreWithSelector=function(g,C,j,y,b){var T=f(null);if(T.current===null){var P={hasValue:!1,value:null};T.current=P}else P=T.current;T=w(function(){function R(E){if(!L){if(L=!0,$=E,E=y(E),b!==void 0&&P.hasValue){var I=P.value;if(b(I,E))return D=I}return D=E}if(I=D,c($,E))return I;var G=y(E);return b!==void 0&&b(I,G)?I:($=E,D=G)}var L=!1,$,D,Q=j===void 0?null:j;return[function(){return R(C())},Q===null?void 0:function(){return R(Q())}]},[C,j,y,b]);var O=p(g,T[0],T[1]);return v(function(){P.hasValue=!0,P.value=O},[O]),h(O),O},eo}var uc;function If(){return uc||(uc=1,Ji.exports=bf()),Ji.exports}var Df=If();const zf=xc(Df),wc={},{useDebugValue:Af}=jt,{useSyncExternalStoreWithSelector:Ff}=zf;let cc=!1;const qf=u=>u;function Bf(u,a=qf,o){(wc?"production":void 0)!=="production"&&o&&!cc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cc=!0);const c=Ff(u.subscribe,u.getState,u.getServerState||u.getInitialState,a,o);return Af(c),c}const Uf=u=>{(wc?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof u=="function"?Lf(u):u,o=(c,p)=>Bf(a,c,p);return Object.assign(o,a),o},Hf=u=>Uf,Wf={};function Vf(u,a){let o;try{o=u()}catch{return}return{getItem:p=>{var f;const v=h=>h===null?null:JSON.parse(h,void 0),w=(f=o.getItem(p))!=null?f:null;return w instanceof Promise?w.then(v):v(w)},setItem:(p,f)=>o.setItem(p,JSON.stringify(f,void 0)),removeItem:p=>o.removeItem(p)}}const Wr=u=>a=>{try{const o=u(a);return o instanceof Promise?o:{then(c){return Wr(c)(o)},catch(c){return this}}}catch(o){return{then(c){return this},catch(c){return Wr(c)(o)}}}},$f=(u,a)=>(o,c,p)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:O=>O,version:0,merge:(O,R)=>({...R,...O}),...a},v=!1;const w=new Set,h=new Set;let g;try{g=f.getStorage()}catch{}if(!g)return u((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...O)},c,p);const C=Wr(f.serialize),j=()=>{const O=f.partialize({...c()});let R;const L=C({state:O,version:f.version}).then($=>g.setItem(f.name,$)).catch($=>{R=$});if(R)throw R;return L},y=p.setState;p.setState=(O,R)=>{y(O,R),j()};const b=u((...O)=>{o(...O),j()},c,p);let T;const P=()=>{var O;if(!g)return;v=!1,w.forEach(L=>L(c()));const R=((O=f.onRehydrateStorage)==null?void 0:O.call(f,c()))||void 0;return Wr(g.getItem.bind(g))(f.name).then(L=>{if(L)return f.deserialize(L)}).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==f.version){if(f.migrate)return f.migrate(L.state,L.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return L.state}).then(L=>{var $;return T=f.merge(L,($=c())!=null?$:b),o(T,!0),j()}).then(()=>{R?.(T,void 0),v=!0,h.forEach(L=>L(T))}).catch(L=>{R?.(void 0,L)})};return p.persist={setOptions:O=>{f={...f,...O},O.getStorage&&(g=O.getStorage())},clearStorage:()=>{g?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>P(),hasHydrated:()=>v,onHydrate:O=>(w.add(O),()=>{w.delete(O)}),onFinishHydration:O=>(h.add(O),()=>{h.delete(O)})},P(),T||b},Gf=(u,a)=>(o,c,p)=>{let f={storage:Vf(()=>localStorage),partialize:P=>P,version:0,merge:(P,O)=>({...O,...P}),...a},v=!1;const w=new Set,h=new Set;let g=f.storage;if(!g)return u((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...P)},c,p);const C=()=>{const P=f.partialize({...c()});return g.setItem(f.name,{state:P,version:f.version})},j=p.setState;p.setState=(P,O)=>{j(P,O),C()};const y=u((...P)=>{o(...P),C()},c,p);p.getInitialState=()=>y;let b;const T=()=>{var P,O;if(!g)return;v=!1,w.forEach(L=>{var $;return L(($=c())!=null?$:y)});const R=((O=f.onRehydrateStorage)==null?void 0:O.call(f,(P=c())!=null?P:y))||void 0;return Wr(g.getItem.bind(g))(f.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==f.version){if(f.migrate)return[!0,f.migrate(L.state,L.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var $;const[D,Q]=L;if(b=f.merge(Q,($=c())!=null?$:y),o(b,!0),D)return C()}).then(()=>{R?.(b,void 0),b=c(),v=!0,h.forEach(L=>L(b))}).catch(L=>{R?.(void 0,L)})};return p.persist={setOptions:P=>{f={...f,...P},P.storage&&(g=P.storage)},clearStorage:()=>{g?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>T(),hasHydrated:()=>v,onHydrate:P=>(w.add(P),()=>{w.delete(P)}),onFinishHydration:P=>(h.add(P),()=>{h.delete(P)})},f.skipHydration||T(),b||y},Qf=(u,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((Wf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),$f(u,a)):Gf(u,a),Kf=Qf,Z=Hf()(Kf((u,a)=>({engine:null,patch:U,samplerLibrary:[],layoutOrder:[],tempo:110,transport:{tempo:110,playing:!1,tick:0},midi:{supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]},setEngine:o=>u({engine:o}),updatePatch:o=>{const c={...a().patch,...o,osc1:{...a().patch.osc1,...o.osc1},osc2:{...a().patch.osc2,...o.osc2},fm:{...a().patch.fm,...o.fm},sub:{...a().patch.sub,...o.sub},ring:{...a().patch.ring,...o.ring},filter:{...a().patch.filter,...o.filter},envelope:{...a().patch.envelope,...o.envelope},master:{...a().patch.master,...o.master},sampler:{...a().patch.sampler,...o.sampler},macro:{...a().patch.macro||U.macro,...o.macro},effects:{...a().patch.effects||U.effects,...o.effects},lfo1:{...a().patch.lfo1||U.lfo1,...o.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...o.lfo2},arp:{...a().patch.arp||U.arp,...o.arp},sequencer:{...a().patch.sequencer||U.sequencer,...o.sequencer},mix:o.mix!=null?o.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...o.expression}};a().engine?.applyPatch(o),u({patch:c})},setLayoutOrder:o=>u({layoutOrder:o}),setTempo:o=>u(c=>({tempo:o,transport:{...c.transport,tempo:o}})),setTransportPlaying:o=>u(c=>({transport:{...c.transport,playing:o,tick:0}})),bumpTransportTick:()=>u(o=>({transport:{...o.transport,tick:o.transport.tick+1}})),importPatch:o=>{const c=JSON.parse(o),p={...a().patch,...c,osc1:{...a().patch.osc1,...c.osc1},osc2:{...a().patch.osc2,...c.osc2},fm:{...a().patch.fm,...c.fm},sub:{...a().patch.sub,...c.sub},ring:{...a().patch.ring,...c.ring},filter:{...a().patch.filter,...c.filter},envelope:{...a().patch.envelope,...c.envelope},master:{...a().patch.master,...c.master},sampler:{...a().patch.sampler,...c.sampler},macro:{...a().patch.macro||U.macro,...c.macro},effects:{...a().patch.effects||U.effects,...c.effects},lfo1:{...a().patch.lfo1||U.lfo1,...c.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...c.lfo2},arp:{...a().patch.arp||U.arp,...c.arp},sequencer:{...a().patch.sequencer||U.sequencer,...c.sequencer},mix:c.mix!=null?c.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...c.expression}};a().engine?.applyPatch(p),u({patch:p})},exportPatch:()=>JSON.stringify(a().patch,null,2),setMidiSupported:o=>u(c=>({midi:{...c.midi,supported:o}})),setMidiStatus:(o,c=null)=>u(p=>({midi:{...p.midi,status:o,lastError:c}})),setMidiEnabled:o=>u(c=>({midi:{...c.midi,enabled:o}})),setMidiInputs:o=>u(c=>({midi:{...c.midi,inputs:o}})),setMidiSelectedInput:o=>u(c=>({midi:{...c.midi,selectedInputId:o}})),setMidiActiveNotes:o=>u(c=>({midi:{...c.midi,activeNotes:o}})),saveSamplerSample:o=>u(c=>{const p=o.id??`sample-${Date.now()}`,f={...U.sampler,...o,id:p},v=c.samplerLibrary.filter(w=>w.id!==p).concat(f);return c.engine?.applyPatch({sampler:f}),{samplerLibrary:v,patch:{...c.patch,sampler:f}}}),deleteSamplerSample:o=>u(c=>{const p=c.samplerLibrary.filter(v=>v.id!==o);let f=c.patch;if(c.patch.sampler.id===o){const v={...U.sampler};c.engine?.applyPatch({sampler:v}),f={...c.patch,sampler:v}}return{samplerLibrary:p,patch:f}}),setSamplerFromLibrary:o=>u(c=>{const p=c.samplerLibrary.find(v=>v.id===o);if(!p)return{};const f={...U.sampler,...p};return c.engine?.applyPatch({sampler:f}),{patch:{...c.patch,sampler:f}}}),updateCurrentSampler:o=>u(c=>{const f={...{...U.sampler,...c.patch.sampler??{}},...o};c.engine?.applyPatch({sampler:f});const v=f.id?c.samplerLibrary.map(w=>w.id===f.id?{...w,...o}:w):c.samplerLibrary;return{patch:{...c.patch,sampler:f},samplerLibrary:v}}),renameSamplerSample:(o,c)=>u(p=>{const f=c.trim();if(!f)return{};let v=!1;const w=p.samplerLibrary.map(g=>g.id!==o?g:(v=!0,{...g,name:f}));if(!v)return{};let h=p.patch;if(p.patch.sampler.id===o){const g={...p.patch.sampler,name:f};p.engine?.applyPatch({sampler:g}),h={...p.patch,sampler:g}}return{samplerLibrary:w,patch:h}})}),{name:"websynth-patch",partialize:u=>({patch:{...u.patch,sequencer:u.patch.sequencer?{...u.patch.sequencer,playing:!1}:u.patch.sequencer,arp:u.patch.arp?{...u.patch.arp,bpmSync:u.patch.arp.bpmSync??!0}:u.patch.arp},samplerLibrary:u.samplerLibrary,layoutOrder:u.layoutOrder,tempo:u.tempo,transport:{tempo:u.transport.tempo,playing:!1,tick:0},midi:{enabled:u.midi.enabled,selectedInputId:u.midi.selectedInputId}}),version:10,migrate:(u,a)=>{const o=u?.patch;if(!o)return u;const c={...U,...o,osc1:{...U.osc1,...o.osc1||{}},osc2:{...U.osc2,...o.osc2||{}},fm:{...U.fm,...o.fm||{}},sub:{...U.sub,...o.sub||{}},ring:{...U.ring,...o.ring||{}},filter:{...U.filter,...o.filter||{}},envelope:{...U.envelope,...o.envelope||{}},master:{...U.master,...o.master||{}},sampler:{...U.sampler,...o.sampler||{}},macro:{...U.macro,...o.macro||{}},effects:{...U.effects,...o.effects||{}},lfo1:{...U.lfo1,...o.lfo1||{}},lfo2:{...U.lfo2,...o.lfo2||{}},arp:{...U.arp,...o.arp||{}},sequencer:{...U.sequencer,...o.sequencer||{}},mix:typeof o.mix=="number"?o.mix:U.mix,expression:{...U.expression,...o.expression||{}}},p=Array.isArray(u?.layoutOrder)?u.layoutOrder.filter(j=>typeof j=="string"):[],f=typeof u?.tempo=="number"?u.tempo:110,v=u?.transport,w=v?{tempo:v.tempo??f,playing:!1,tick:0}:{tempo:f,playing:!1,tick:0},h=u?.midi,g={supported:null,status:"idle",enabled:h?.enabled??!1,inputs:[],selectedInputId:h?.selectedInputId??null,lastError:null,activeNotes:[]},C=Array.isArray(u?.samplerLibrary)?u.samplerLibrary.map((j,y)=>({...U.sampler,...j??{},id:typeof j?.id=="string"?j.id:`legacy-${Date.now()}-${y}`})):[];return{...u,patch:c,samplerLibrary:C,layoutOrder:p,tempo:f,transport:w,midi:g}},onRehydrateStorage:()=>u=>{u&&(u.engine=null,Array.isArray(u.layoutOrder)||(u.layoutOrder=[]),typeof u.tempo!="number"&&(u.tempo=110),u.transport||(u.transport={tempo:u.tempo,playing:!1,tick:0}),u.midi?u.midi={supported:null,status:"idle",enabled:!!u.midi.enabled,inputs:[],selectedInputId:u.midi.selectedInputId??null,lastError:null,activeNotes:[]}:u.midi={supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]})}}));function Me({value:u,min:a,max:o,step:c=.01,size:p=56,label:f,formatValue:v,onChange:w,disabled:h=!1}){const[g,C]=H.useState(!1),j=H.useRef(null),y=H.useCallback(me=>Math.min(o,Math.max(a,me)),[a,o]),b=o-a,T=b===0?0:(u-a)/b,P=H.useMemo(()=>-135+T*270,[T]),O=me=>{h||(me.target.setPointerCapture(me.pointerId),j.current={y:me.clientY,v:u},C(!0))},R=me=>{if(!j.current||h)return;const Ve=(j.current.y-me.clientY)/150*b,et=y(j.current.v+Ve);w(ro(et,c))},L=me=>{h||(me.target.releasePointerCapture(me.pointerId),j.current=null,C(!1))},$=me=>{if(h)return;const je=c;(me.key==="ArrowUp"||me.key==="ArrowRight")&&w(y(ro(u+je,je))),(me.key==="ArrowDown"||me.key==="ArrowLeft")&&w(y(ro(u-je,je)))},D=p/2-6,Q=p/2,E=p/2,I=-135,G=Q+Math.cos(I*Math.PI/180)*(D+6),Y=E+Math.sin(I*Math.PI/180)*(D+6),oe=Q+Math.cos(P*Math.PI/180)*(D-6),Ne=E+Math.sin(P*Math.PI/180)*(D-6);return s.jsxs("div",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:6,opacity:h?.4:1,pointerEvents:h?"none":"auto"},children:[s.jsxs("svg",{width:p,height:p,onPointerDown:O,onPointerMove:R,onPointerUp:L,onKeyDown:$,role:"slider","aria-label":f,"aria-valuemin":a,"aria-valuemax":o,"aria-valuenow":u,"aria-valuetext":v?v(u):dc(u),tabIndex:h?-1:0,style:{cursor:h?"default":"ns-resize",outline:g?"1px solid var(--accent)":"none",borderRadius:8},children:[s.jsx("circle",{cx:Q,cy:E,r:D,fill:"#0f1217",stroke:"#2a3040"}),s.jsx("circle",{cx:Q,cy:E,r:D-8,fill:"#161a22",stroke:"#202635"}),s.jsx("circle",{cx:G,cy:Y,r:2.4,fill:"#3dd973",stroke:"#12161f",strokeWidth:.8}),s.jsx("line",{x1:Q,y1:E,x2:oe,y2:Ne,stroke:"var(--accent)",strokeWidth:3,strokeLinecap:"round"})]}),f&&s.jsxs("div",{style:{display:"flex",gap:6,alignItems:"baseline"},children:[s.jsx("span",{className:"label",children:f}),s.jsx("span",{className:"value",children:v?v(u):dc(u)})]})]})}function ro(u,a){const o=1/a;return Math.round(u*o)/o}function dc(u){return Math.abs(u)>=100?u.toFixed(0):Math.abs(u)>=10?u.toFixed(1):u.toFixed(2)}const Yf=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Xf=Array.from({length:61},(u,a)=>{const o=36+a,c=Yf[o%12],p=Math.floor(o/12)-1;return{midi:o,label:`${c}${p}`}}),Zf=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`sample-${Date.now()}-${Math.random().toString(16).slice(2)}`,Jf=u=>{const a={...U.sampler,...u??{}},o=typeof a.durationSec=="number"&&a.durationSec>0?a.durationSec:0;if(o===0)return{...a,durationSec:0,trimStartSec:0,trimEndSec:0};const c=.005,p=Math.max(0,o-c),f=Number(a.trimStartSec),v=Math.min(Math.max(Number.isFinite(f)?f:0,0),p),w=Number(a.trimEndSec);let h=Number.isFinite(w)?w:o;return h-v<c&&(h=o),h=Math.min(Math.max(h,v+c),o),{...a,durationSec:o,trimStartSec:v,trimEndSec:h}},rs=u=>{const a=Math.max(0,u),o=Math.floor(a/60),c=Math.floor(a%60);return`${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}`};function ep(){const u=Z(A=>A.patch.sampler),a=Z(A=>A.samplerLibrary),o=Z(A=>A.saveSamplerSample),c=Z(A=>A.deleteSamplerSample),p=Z(A=>A.setSamplerFromLibrary),f=Z(A=>A.updateCurrentSampler),v=Z(A=>A.renameSamplerSample),[w,h]=H.useState(null),[g,C]=H.useState(!1),[j,y]=H.useState(!1),[b,T]=H.useState(0),[P,O]=H.useState(!1),R=H.useRef(null),L=H.useRef(null),$=H.useRef(null),D=H.useRef([]),Q=H.useRef(null),E=H.useRef(null),I=H.useRef(null),[G,Y]=H.useState(null),[oe,Ne]=H.useState(""),je=H.useMemo(()=>typeof window<"u"?typeof window.MediaRecorder<"u":!1,[])&&typeof navigator<"u"&&!!navigator.mediaDevices?.getUserMedia,Ve=H.useCallback(()=>{$.current&&($.current.getTracks().forEach(A=>{try{A.stop()}catch{}}),$.current=null),L.current=null},[]),et=H.useCallback(async()=>{if(typeof window>"u")return null;if(!I.current)try{I.current=new AudioContext}catch(le){return h(le instanceof Error?le.message:"Unable to create AudioContext"),null}const A=I.current;if(A&&A.state==="suspended")try{await A.resume()}catch{}return A},[]),ve=H.useCallback(async A=>{const le=await et();if(!le)return null;try{const pe=await(await fetch(A)).arrayBuffer();return(await le.decodeAudioData(pe.slice(0))).duration}catch(he){return h(he instanceof Error?he.message:"Unable to decode audio"),null}},[et]),ae=Jf(u),V=H.useCallback(async(A,le)=>{C(!0),h(null);try{const he=await ve(A);if(he==null)return;const pe=he>0?he:0,Qe={id:Zf(),name:le,dataUrl:A,recordedAt:Date.now(),durationSec:pe,trimStartSec:0,trimEndSec:pe,loop:ae.loop,rootMidi:ae.rootMidi};o(Qe)}finally{C(!1)}},[ae.loop,ae.rootMidi,ve,o]),te=H.useCallback((A,le)=>{const he=new FileReader;he.onloadend=()=>{const pe=he.result;typeof pe=="string"?V(pe,le):h("Unable to read recording data")},he.onerror=()=>{h("Failed to read recorded audio")},he.readAsDataURL(A)},[V]),K=H.useCallback(()=>{const A=L.current;if(A&&A.state!=="inactive"){try{A.stop()}catch{}y(!1),Q.current=null}},[]),k=async()=>{if(!(!je||j||g)){h(null);try{const A=await navigator.mediaDevices.getUserMedia({audio:!0}),le=window.MediaRecorder,he=new le(A);D.current=[],he.ondataavailable=pe=>{pe.data&&pe.data.size>0&&D.current.push(pe.data)},he.onerror=pe=>{const Qe=pe?.error?.message??"Recording error";h(Qe),K()},he.onstop=()=>{y(!1);const pe=new Blob(D.current,{type:D.current[0]?.type||"audio/webm"});if(D.current=[],Ve(),pe.size>0){const Qe=new Date().toISOString().replace(/[:.]/g,"-");te(pe,`recording-${Qe}.webm`)}},he.start(),L.current=he,$.current=A,y(!0),Q.current=performance.now(),T(0),O(!0)}catch(A){Ve(),y(!1),Q.current=null,h(A instanceof Error?A.message:"Microphone access denied")}}},z=H.useCallback(A=>{const le=new FileReader;le.onloadend=()=>{const he=le.result;typeof he=="string"?V(he,A.name):h("Unable to read file")},le.onerror=()=>h("Unable to load file"),le.readAsDataURL(A)},[V]),fe=A=>{const le=A.target.files?.[0];le&&z(le),A.target&&(A.target.value="")};H.useEffect(()=>()=>{K(),Ve()},[Ve,K]),H.useEffect(()=>(j?(E.current!=null&&window.clearInterval(E.current),E.current=window.setInterval(()=>{if(Q.current!=null){const A=(performance.now()-Q.current)/1e3;T(A),O(le=>!le)}},500)):(E.current!=null&&(window.clearInterval(E.current),E.current=null),T(0),O(!1)),()=>{E.current!=null&&(window.clearInterval(E.current),E.current=null)}),[j]);const ue=ae.durationSec??0,ge=!!ae.dataUrl&&ue>0,ye=ae.trimStartSec??0,we=ae.trimEndSec??ue,xe=A=>{if(!ge)return;const le=Math.max(0,Math.min(A,ue)),pe=Math.max(le+.005,we);f({trimStartSec:le,trimEndSec:Math.min(pe,ue)})},Te=A=>{if(!ge)return;const le=Math.max(0,Math.min(A,ue)),he=.005,pe=Math.min(ye,le-he),Qe=Math.max(0,Math.min(pe,ue)),wn=Math.min(ue,Math.max(le,he));f({trimStartSec:Math.max(Qe,0),trimEndSec:wn})},$e=H.useCallback(A=>{if(typeof window>"u"||!A.dataUrl)return;const le=document.createElement("a");le.href=A.dataUrl;const he=A.dataUrl.split(";")[0]?.split(":")[1]??"audio/webm",pe=he.includes("/")?he.split("/")[1]:"webm",Qe=(A.name||"sample").replace(/[^a-z0-9_\-]+/gi,"_");le.download=`${Qe}.${pe}`,document.body.appendChild(le),le.click(),document.body.removeChild(le)},[]),ce=H.useCallback(()=>{if(typeof window>"u"||a.length===0)return;const A=JSON.stringify(a.map(Qe=>({...Qe,recordedAt:Qe.recordedAt??null})),null,2),le=new Blob([A],{type:"application/json"}),he=URL.createObjectURL(le),pe=document.createElement("a");pe.href=he,pe.download=`sampler-library-${new Date().toISOString().replace(/[:.]/g,"-")}.json`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(he)},[a]),Be=H.useCallback(()=>{Y(null),Ne("")},[]),De=H.useCallback(()=>{if(!G)return;const A=oe.trim();A&&(v(G,A),Y(null),Ne(""))},[G,oe,v]);return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsx("div",{className:"label",children:"Sampler"}),s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[s.jsx("button",{type:"button",onClick:()=>R.current?.click(),disabled:g,children:g?"Loading...":"Load Sample"}),s.jsx("button",{type:"button",onClick:j?K:k,disabled:!je||g,children:j?"Stop Recording":"Record"}),s.jsx("button",{type:"button",onClick:()=>{f({id:null,name:U.sampler.name,dataUrl:null,recordedAt:void 0,durationSec:0,trimStartSec:0,trimEndSec:0,loop:U.sampler.loop,rootMidi:U.sampler.rootMidi}),h(null)},disabled:!ae.dataUrl,children:"Clear"})]}),s.jsx("input",{ref:R,type:"file",accept:"audio/*",style:{display:"none"},onChange:fe,disabled:g})]}),j&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("span",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:P?"#ff4d4f":"#ffb3b8",boxShadow:P?"0 0 8px rgba(255,77,79,0.8)":"none",transition:"background-color 0.2s linear, box-shadow 0.2s linear"}}),s.jsxs("span",{style:{fontFamily:"monospace",fontSize:12},children:["Recording ",rs(b)]})]}),s.jsxs("div",{style:{fontSize:12,color:"var(--muted)",display:"flex",flexWrap:"wrap",gap:8},children:[s.jsxs("span",{children:[s.jsx("span",{className:"label",style:{marginRight:4},children:"Current"}),s.jsx("span",{children:ae.dataUrl?ae.name:"No sample loaded"})]}),ge&&s.jsxs("span",{children:["Length ",rs(ue),"  Window ",rs(we-ye)]}),!je&&s.jsx("span",{children:"(Recording unsupported in this browser)"})]}),w&&s.jsx("div",{style:{color:"var(--danger, #d14343)",fontSize:12},children:w}),s.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("label",{children:[s.jsx("span",{className:"label",children:"Root Note"}),s.jsx("select",{value:ae.rootMidi,onChange:A=>f({rootMidi:Number(A.target.value)}),children:Xf.map(A=>s.jsx("option",{value:A.midi,children:A.label},A.midi))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:!!ae.loop,onChange:A=>f({loop:A.target.checked})}),"Loop playback"]})]}),ge&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsx("div",{className:"label",children:"Trim"}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))"},children:[s.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:4},children:[s.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:["Start ",Math.round(ye*1e3)," ms"]}),s.jsx("input",{type:"range",min:0,max:Math.max(ue*1e3,5),step:5,value:Math.round(ye*1e3),onChange:A=>xe(Number(A.target.value)/1e3)})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:4},children:[s.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:["End ",Math.round(we*1e3)," ms"]}),s.jsx("input",{type:"range",min:5,max:Math.max(ue*1e3,5),step:5,value:Math.round(we*1e3),onChange:A=>Te(Number(A.target.value)/1e3)})]})]})]}),a.length>0&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[s.jsx("div",{className:"label",children:"Library"}),s.jsx("button",{type:"button",onClick:ce,style:{fontSize:12},children:"Export Library"})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:a.map(A=>{if(!A.id)return null;const le=A.id===ae.id,he=G===A.id;return s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:8,padding:"6px 8px",borderRadius:6,background:le?"rgba(255, 77, 79, 0.1)":"rgba(255,255,255,0.04)"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:160},children:[he?s.jsx("input",{value:oe,onChange:pe=>Ne(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),De()),pe.key==="Escape"&&(pe.preventDefault(),Be())},autoFocus:!0}):s.jsx("span",{style:{fontWeight:600},children:A.name||"Sample"}),s.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:[rs(A.durationSec??0)," ",le?" Active":""]})]}),s.jsx("div",{style:{display:"flex",gap:8},children:he?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:De,disabled:!oe.trim(),children:"Save"}),s.jsx("button",{type:"button",onClick:Be,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>p(A.id),disabled:le,children:le?"In Use":"Use"}),s.jsx("button",{type:"button",onClick:()=>{Y(A.id),Ne(A.name||"")},children:"Rename"}),s.jsx("button",{type:"button",onClick:()=>$e(A),disabled:!A.dataUrl,children:"Export"}),s.jsx("button",{type:"button",onClick:()=>c(A.id),style:{color:"var(--danger, #d14343)"},children:"Delete"})]})})]},A.id)})})]})]})}function tp(){const u=Z(f=>f.patch),a=Z(f=>f.updatePatch),o=u.engineMode??"classic",c=f=>a({engineMode:f}),p=f=>{const v=u.macro??U.macro;a({macro:{...v,...f}})};return o==="macro"?s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:o,onChange:f=>c(f.target.value),children:[s.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),s.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Model"}),s.jsxs("select",{value:u.macro?.model??"va",onChange:f=>p({model:f.target.value}),children:[s.jsx("option",{value:"va",children:"VA (analog blend)"}),s.jsx("option",{value:"fold",children:"Wavefolder"}),s.jsx("option",{value:"pluck",children:"Pluck (KarplusStrong)"}),s.jsx("option",{value:"supersaw",children:"SuperSaw"}),s.jsx("option",{value:"pwm",children:"PWM"}),s.jsx("option",{value:"fm2op",children:"FM 2-Op"}),s.jsx("option",{value:"wavetable",children:"Wavetable (blend)"}),s.jsx("option",{value:"harmonic",children:"Harmonic (additive)"}),s.jsx("option",{value:"chord",children:"Chord (stack)"})]})]}),s.jsx(Me,{label:"Harmonics",min:0,max:1,step:.001,value:u.macro?.harmonics??.6,onChange:f=>p({harmonics:f})}),s.jsx(Me,{label:"Timbre",min:0,max:1,step:.001,value:u.macro?.timbre??.5,onChange:f=>p({timbre:f})}),s.jsx(Me,{label:"Morph",min:0,max:1,step:.001,value:u.macro?.morph??.5,onChange:f=>p({morph:f})}),s.jsx(Me,{label:"Level",min:0,max:1,step:.001,value:u.macro?.level??1,onChange:f=>p({level:f})})]}):s.jsxs("div",{className:"controls-grid",children:[s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:o,onChange:f=>c(f.target.value),children:[s.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),s.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 1"}),s.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 2"}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Wave"}),s.jsxs("select",{value:u.osc1.wave,onChange:f=>a({osc1:{...u.osc1,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"noise",children:"Noise"}),s.jsx("option",{value:"sample",children:"Sample"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Wave"}),s.jsxs("select",{value:u.osc2.wave,onChange:f=>a({osc2:{...u.osc2,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"noise",children:"Noise"}),s.jsx("option",{value:"sample",children:"Sample"})]})]}),(u.osc1.wave==="sample"||u.osc2.wave==="sample")&&s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx(ep,{})}),s.jsxs("div",{className:"osc-knob-row",style:{gridColumn:"1 / 2"},children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Detune"}),s.jsx(Me,{label:void 0,min:-1200,max:1200,step:1,value:u.osc1.detune,onChange:f=>a({osc1:{...u.osc1,detune:f}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Fine %"}),s.jsx(Me,{label:void 0,min:-100,max:100,step:1,value:u.osc1.finePct??0,onChange:f=>a({osc1:{...u.osc1,finePct:f}})})]})]}),s.jsx("div",{className:"osc-knob-row",style:{gridColumn:"2 / 3",justifyContent:"flex-end"},children:s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Mix"}),s.jsx(Me,{label:void 0,min:0,max:1,step:.01,value:u.mix,onChange:f=>a({mix:f})})]})}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gridTemplateColumns:"auto auto auto",justifyItems:"start",gap:16,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[s.jsx("input",{type:"checkbox",checked:u.fm?.enabled??!1,onChange:f=>a({fm:{...u.fm,enabled:f.target.checked}})}),s.jsx("span",{className:"label",children:"FM"})]}),s.jsx(Me,{label:"Ratio",min:.1,max:8,step:.1,value:u.fm?.ratio??2,onChange:f=>a({fm:{...u.fm,ratio:f}}),disabled:!(u.fm?.enabled??!1)}),s.jsx(Me,{label:"Amount (Hz)",min:0,max:1e3,step:1,value:u.fm?.amount??0,onChange:f=>a({fm:{...u.fm,amount:f}}),disabled:!(u.fm?.enabled??!1)})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gridTemplateColumns:"auto auto",justifyItems:"start",gap:16,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[s.jsx("input",{type:"checkbox",checked:u.ring?.enabled??!1,onChange:f=>a({ring:{...u.ring,enabled:f.target.checked}})}),s.jsx("span",{className:"label",children:"Ring"})]}),s.jsx(Me,{label:"Amount",min:0,max:1,step:.01,value:u.ring?.amount??1,onChange:f=>a({ring:{...u.ring,amount:f}}),disabled:!(u.ring?.enabled??!1)})]})]})}function np(){const u=Z(p=>p.patch),a=Z(p=>p.updatePatch),o=p=>{a({filter:{...u.filter,...p}})},c=u.master.gain;return s.jsxs("div",{className:"filter-panel",children:[s.jsxs("label",{className:"filter-type",children:[s.jsx("span",{className:"label",children:"Filter Type"}),s.jsxs("select",{value:u.filter.type,onChange:p=>o({type:p.target.value}),children:[s.jsx("option",{value:"lowpass",children:"Low-pass"}),s.jsx("option",{value:"highpass",children:"High-pass"}),s.jsx("option",{value:"bandpass",children:"Band-pass"}),s.jsx("option",{value:"notch",children:"Notch"})]})]}),s.jsxs("div",{className:"filter-knobs",children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Cutoff"}),s.jsx(Me,{label:void 0,min:40,max:8e3,step:10,value:u.filter.cutoff,onChange:p=>o({cutoff:p})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Resonance"}),s.jsx(Me,{label:void 0,min:.1,max:10,step:.1,value:u.filter.q,onChange:p=>o({q:p})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Master"}),s.jsx(Me,{label:void 0,min:0,max:1,step:.01,value:c,onChange:p=>a({master:{...u.master,gain:p}})})]})]})]})}function rp(){const u=Z(c=>c.patch),a=Z(c=>c.updatePatch),o=u.envelope;return s.jsx("div",{className:"envelope-panel",children:s.jsxs("div",{className:"envelope-knobs",children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Attack"}),s.jsx(Me,{label:void 0,min:0,max:2,step:.01,value:o.attack,onChange:c=>a({envelope:{...o,attack:c}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Decay"}),s.jsx(Me,{label:void 0,min:0,max:2,step:.01,value:o.decay,onChange:c=>a({envelope:{...o,decay:c}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Sustain"}),s.jsx(Me,{label:void 0,min:0,max:1,step:.01,value:o.sustain,onChange:c=>a({envelope:{...o,sustain:c}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Release"}),s.jsx(Me,{label:void 0,min:0,max:3,step:.01,value:o.release,onChange:c=>a({envelope:{...o,release:c}})})]})]})})}const lp=[0,2,4,5,7,9,11],sp={0:1,1:3,2:null,3:6,4:8,5:10,6:null};function ip(u,a=60){const o=Math.floor(u/7),c=lp[u%7];return a+o*12+c}function op(u,a=60){const o=Math.floor(u/7),c=sp[u%7];return c==null?null:a+o*12+c}const ao={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},fc=Object.fromEntries(Object.entries(ao).map(([u,a])=>[a,u.length===1?u.toUpperCase():u]));function ap(){const u=Z(D=>D.engine),a=Z(D=>D.midi.activeNotes),[o,c]=H.useState(()=>new Set),[p,f]=H.useState(60),v=H.useRef(new Map),w=H.useMemo(()=>{const D=new Set(o);for(const Q of a)D.add(Q);return D},[o,a]),h=D=>{u?.noteOn(D),c(Q=>new Set(Q).add(D))},g=D=>{u?.noteOff(D),c(Q=>{const E=new Set(Q);return E.delete(D),E})};H.useEffect(()=>{const D=new Set,Q=G=>G.length===1?G.toLowerCase():G,E=G=>{if(G.repeat)return;const Y=Q(G.key);if(Y==="z"){f(me=>Math.max(24,me-12));return}if(Y==="x"){f(me=>Math.min(96,me+12));return}const oe=ao[Y],Ne=oe!=null?p+oe:void 0;Ne!=null&&!D.has(Y)&&(D.add(Y),h(Ne))},I=G=>{const Y=Q(G.key),oe=ao[Y],Ne=oe!=null?p+oe:void 0;Ne!=null&&(D.delete(Y),g(Ne))};return window.addEventListener("keydown",E),window.addEventListener("keyup",I),()=>{window.removeEventListener("keydown",E),window.removeEventListener("keyup",I)}},[u,p]);const C=14,j=H.useMemo(()=>Array.from({length:C},(D,Q)=>ip(Q,p)),[C,p]),y=28,T=y+2,P=Math.floor(p/12)-1,O=P-4,R=(D,Q)=>{D.currentTarget.setPointerCapture(D.pointerId),D.preventDefault(),v.current.set(D.pointerId,Q),h(Q)},L=D=>{if(!v.current.has(D.pointerId))return;const Q=v.current.get(D.pointerId),I=document.elementFromPoint(D.clientX,D.clientY)?.dataset?.midi,G=I!=null?Number(I):void 0;if(G==null){Q!=null&&(g(Q),v.current.delete(D.pointerId));return}G!==Q&&(Q!=null&&g(Q),v.current.set(D.pointerId,G),h(G))},$=D=>{const Q=v.current.get(D.pointerId);Q!=null&&(g(Q),v.current.delete(D.pointerId))};return s.jsxs("div",{className:"keyboard",children:[s.jsx("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between"},children:s.jsxs("div",{className:"octave-indicator",children:[s.jsx("span",{className:"badge",children:"Octave"}),s.jsxs("span",{className:"value",style:{color:O===0?"var(--text)":"var(--accent)"},children:[P," ",O!==0?`(${O>0?"+":""}${O})`:""]})]})}),s.jsxs("div",{className:"keys-and-help",children:[s.jsxs("div",{className:"keys-row",style:{touchAction:"none"},children:[j.map((D,Q)=>s.jsx("div",{className:"key",style:{background:w.has(D)?"#d1d5db":"#f8fafc"},"data-midi":D,onPointerDown:E=>R(E,D),onPointerMove:L,onPointerUp:$,onPointerCancel:$,children:s.jsx("span",{className:"key-label",children:fc[D-p]??""})},Q)),Array.from({length:C}).map((D,Q)=>{const E=op(Q,p);if(E==null)return null;const I=Q*T+Math.floor(y*.7);return s.jsx("div",{className:"key black",style:{left:I,background:w.has(E)?"#111827":"#0b0f16"},"data-midi":E,onPointerDown:G=>R(G,E),onPointerMove:L,onPointerUp:$,onPointerCancel:$,children:s.jsx("span",{className:"key-label",children:fc[E-p]??""})},`b-${Q}`)})]}),s.jsxs("div",{className:"kbd-help",children:[s.jsx("div",{className:"badge",style:{alignSelf:"flex-start"},children:"Octave shift"}),s.jsxs("div",{className:"kbd-row",children:[s.jsx("span",{className:"kbd",children:"Z"}),s.jsx("span",{className:"hint-text",children:"down"})]}),s.jsxs("div",{className:"kbd-row",children:[s.jsx("span",{className:"kbd",children:"X"}),s.jsx("span",{className:"hint-text",children:"up"})]})]})]})]})}const Ur={highPct:2,lowPct:2,windowPct:25,holdOff:3,corrRefresh:.5};function up(){const u=Z(j=>j.engine),a=H.useRef(null),o=H.useRef(),c=H.useRef(0),p=H.useRef(0),f=H.useRef(0),v=H.useRef(0),w=H.useRef(null),h=H.useRef(128),[g,C]=H.useState(4096);return H.useEffect(()=>{const j=a.current;if(!j||!u||typeof u.getAnalyser!="function")return;const y=j.getContext("2d"),b=u.getAnalyser();b.fftSize=g,b.smoothingTimeConstant=0;const T=()=>{const P=u.getWaveform,O=typeof P=="function"?P.call(u):new Uint8Array(b.fftSize),R=window.devicePixelRatio||1,L=j.clientWidth||600,$=j.clientHeight||160,D=Math.floor(L*R),Q=Math.floor($*R);(j.width!==D||j.height!==Q)&&(j.width=D,j.height=Q);const E=j.width,I=j.height;y.clearRect(0,0,E,I),y.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-bg")||"#05070b",y.fillRect(0,0,E,I),y.save(),y.strokeStyle="rgba(255,255,255,0.06)",y.lineWidth=1,y.beginPath(),y.moveTo(0,I/2),y.lineTo(E,I/2),y.stroke();const G=6;for(let ve=1;ve<G;ve++){const ae=ve*E/G;y.beginPath(),y.moveTo(ae,0),y.lineTo(ae,I),y.stroke()}y.restore();const Y=O.length,oe=new Float32Array(Y);let Ne=0;for(let ve=0;ve<Y;ve++)Ne+=O[ve];Ne/=Y;let me=0;for(let ve=0;ve<Y;ve++){const ae=(O[ve]-Ne)/128;oe[ve]=ae,me+=ae*ae}let je=c.current||0;if(me>.001){const ve=Math.max(.001,Ur.highPct/100),ae=-Math.max(.001,Ur.lowPct/100);let V=!1;const te=[];for(let ce=1;ce<Y;ce++){const Be=oe[ce-1],De=oe[ce];!V&&Be<ae&&(V=!0),V&&Be<ve&&De>=ve&&(te.push(ce),V=!1)}if(te.length>=2){const ce=[];for(let Le=1;Le<te.length;Le++)ce.push(te[Le]-te[Le-1]);ce.sort((Le,gt)=>Le-gt);const Be=ce[Math.floor(ce.length/2)];let De=0,A=0;for(const Le of ce)Math.abs(Le-Be)<=.2*Be&&(De+=Le,A++);const le=A>0?De/A:Be,he=f.current||le,pe=Math.max(6,Math.min(Y,he*.6+le*.4));f.current=pe;const Qe=((c.current||te[0])+pe)%Y,wn=Math.max(6,Math.floor(Ur.windowPct/100*pe)),Et=[];for(const Le of te)Math.abs(Le-Qe)<=wn&&Et.push(Le);Et.length===0&&Et.push(Math.round(Qe));const ze=Math.max(32,Math.min(256,Math.floor(pe)));if(h.current=ze,!w.current){const Le=new Float32Array(ze);for(let ke=0;ke<ze;ke++)Le[ke]=oe[(Et[0]+ke)%Y];let gt=0;for(let ke=0;ke<ze;ke++)gt+=Le[ke];gt/=ze;let Vt=0;for(let ke=0;ke<ze;ke++)Le[ke]=Le[ke]-gt,Vt+=Le[ke]*Le[ke];Vt=Math.sqrt(Math.max(Vt,1e-12));for(let ke=0;ke<ze;ke++)Le[ke]/=Vt;w.current=Le}{let Le=Et[0],gt=-1/0;const Vt=w.current;for(const ke of Et){let Lt=0;for(let at=0;at<ze;at++)Lt+=oe[(ke+at)%Y];Lt/=ze;let yt=0,Re=0;for(let at=0;at<ze;at++){const Ft=oe[(ke+at)%Y]-Lt;yt+=Ft*Ft}yt=Math.sqrt(Math.max(yt,1e-12));for(let at=0;at<ze;at++){const Ft=(oe[(ke+at)%Y]-Lt)/yt;Re+=Ft*Vt[at]}Re>gt&&(gt=Re,Le=ke)}if(je=Le,gt<Ur.corrRefresh){const ke=new Float32Array(ze);for(let Re=0;Re<ze;Re++)ke[Re]=oe[(je+Re)%Y];let Lt=0;for(let Re=0;Re<ze;Re++)Lt+=ke[Re];Lt/=ze;let yt=0;for(let Re=0;Re<ze;Re++)ke[Re]=ke[Re]-Lt,yt+=ke[Re]*ke[Re];yt=Math.sqrt(Math.max(yt,1e-12));for(let Re=0;Re<ze;Re++)ke[Re]/=yt;w.current=ke}}}else if(te.length===1)je=te[0];else{let ce=0,Be=0;for(let De=1;De<Y;De++){const A=oe[De]-oe[De-1];A>ce&&(ce=A,Be=De)}je=Be}const K=c.current||0,k=f.current||0,z=k?(K+k)%Y:K,fe=Math.abs(je-z);if(k&&fe>.6*k||v.current>=Ur.holdOff){const ce=Math.round(K*.4+je*.6);c.current=ce,v.current=0}else v.current+=1;let ge=c.current;const ye=12;for(let ce=-ye;ce<=ye;ce++){const Be=(ge+ce+Y)%Y,De=(Be+1)%Y,A=oe[Be],le=oe[De];if(A<ve&&le>=ve){const he=(ve-A)/Math.max(le-A,1e-6);ge=Be+he;break}}p.current=ge;const we=h.current,xe=new Float32Array(we);for(let ce=0;ce<we;ce++){const Be=(ge+ce)%Y,De=Math.floor(Be),A=(De+1)%Y,le=Be-De,he=oe[De]*(1-le)+oe[A]*le;xe[ce]=he}let Te=0;for(let ce=0;ce<we;ce++)Te+=xe[ce];Te/=we;let $e=0;for(let ce=0;ce<we;ce++)xe[ce]=xe[ce]-Te,$e+=xe[ce]*xe[ce];$e=Math.sqrt(Math.max($e,1e-12));for(let ce=0;ce<we;ce++)xe[ce]/=$e;w.current=xe}const Ve=p.current||c.current||0,et=E/Y;y.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-stroke")||"#00ffd5",y.lineWidth=2,y.shadowColor=y.strokeStyle,y.shadowBlur=8,y.beginPath();for(let ve=0;ve<Y;ve++){const ae=(ve+Ve)%Y,V=Math.floor(ae),te=(V+1)%Y,K=ae-V,z=((oe[V]*(1-K)+oe[te]*K)*.5+.5)*I,fe=ve*et;ve===0?y.moveTo(fe,z):y.lineTo(fe,z)}y.stroke(),y.shadowBlur=0,o.current=requestAnimationFrame(T)};return o.current=requestAnimationFrame(T),()=>{o.current&&cancelAnimationFrame(o.current)}},[u,g]),s.jsxs("div",{children:[s.jsx("canvas",{ref:a,width:600,height:300,style:{width:"100%",height:300,borderRadius:8,border:"1px solid #222631"}}),s.jsx("div",{className:"row",style:{marginTop:8,gap:12,alignItems:"center"},children:s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"FFT Size"}),s.jsxs("select",{value:g,onChange:j=>C(Number(j.target.value)),children:[s.jsx("option",{value:1024,children:"1024"}),s.jsx("option",{value:2048,children:"2048"}),s.jsx("option",{value:4096,children:"4096"}),s.jsx("option",{value:8192,children:"8192"})]})]})})]})}function cp(){const u=Z(c=>c.patch),a=Z(c=>c.updatePatch),o=u.effects??{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}};return s.jsxs("div",{className:"effects-panel",children:[s.jsxs("div",{className:"effects-row",children:[s.jsx("div",{className:"effects-heading",children:"Delay"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o.delay.enabled,onChange:c=>a({effects:{...o,delay:{...o.delay,enabled:c.target.checked}}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("div",{className:"effects-knobs",children:[s.jsx(Me,{label:"Time",min:0,max:1.5,step:.01,value:o.delay.time,onChange:c=>a({effects:{...o,delay:{...o.delay,time:c}}}),disabled:!o.delay.enabled}),s.jsx(Me,{label:"Feedback",min:0,max:.95,step:.01,value:o.delay.feedback,onChange:c=>a({effects:{...o,delay:{...o.delay,feedback:c}}}),disabled:!o.delay.enabled}),s.jsx(Me,{label:"Mix",min:0,max:1,step:.01,value:o.delay.mix,onChange:c=>a({effects:{...o,delay:{...o.delay,mix:c}}}),disabled:!o.delay.enabled})]})]}),s.jsxs("div",{className:"effects-row",style:{marginTop:12},children:[s.jsx("div",{className:"effects-heading",children:"Reverb"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o.reverb.enabled,onChange:c=>a({effects:{...o,reverb:{...o.reverb,enabled:c.target.checked}}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("div",{className:"effects-knobs",children:[s.jsx(Me,{label:"Size",min:0,max:1,step:.01,value:o.reverb.size,onChange:c=>a({effects:{...o,reverb:{...o.reverb,size:c}}}),disabled:!o.reverb.enabled}),s.jsx(Me,{label:"Decay",min:0,max:1,step:.01,value:o.reverb.decay,onChange:c=>a({effects:{...o,reverb:{...o.reverb,decay:c}}}),disabled:!o.reverb.enabled}),s.jsx(Me,{label:"Mix",min:0,max:1,step:.01,value:o.reverb.mix,onChange:c=>a({effects:{...o,reverb:{...o.reverb,mix:c}}}),disabled:!o.reverb.enabled})]})]})]})}function pc({idx:u}){const a=Z(f=>f.patch),o=Z(f=>f.updatePatch),c=u===1?"lfo1":"lfo2",p=a[c]||{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"};return s.jsxs("div",{className:"lfo-row",children:[s.jsxs("label",{className:"lfo-toggle",children:[s.jsx("input",{type:"checkbox",checked:p.enabled,onChange:f=>o({[c]:{...p,enabled:f.target.checked}})}),s.jsxs("span",{className:"label",children:["LFO ",u]})]}),s.jsxs("label",{className:"lfo-select",children:[s.jsx("span",{className:"label",children:"Wave"}),s.jsxs("select",{value:p.wave,onChange:f=>o({[c]:{...p,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"})]})]}),s.jsxs("label",{className:"lfo-select",children:[s.jsx("span",{className:"label",children:"Dest"}),s.jsxs("select",{value:p.dest,onChange:f=>o({[c]:{...p,dest:f.target.value}}),children:[s.jsx("option",{value:"pitch",children:"Pitch"}),s.jsx("option",{value:"filter",children:"Filter"}),s.jsx("option",{value:"amp",children:"Amp"})]})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Rate"}),s.jsx(Me,{label:void 0,min:.01,max:20,step:.01,value:p.rateHz,onChange:f=>o({[c]:{...p,rateHz:f}}),disabled:!p.enabled})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Amount"}),s.jsx(Me,{label:void 0,min:0,max:1,step:.01,value:p.amount,onChange:f=>o({[c]:{...p,amount:f}}),disabled:!p.enabled})]})]})}function dp(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx(pc,{idx:1}),s.jsx(pc,{idx:2})]})}function fp(){const u=Z(y=>y.patch),a=Z(y=>y.updatePatch),o=Z(y=>y.engine),c=Z(y=>y.transport.tempo),p=Z(y=>y.setTempo),f=u.arp??U.arp,v=u.sequencer??U.sequencer,[w,h]=jt.useState({enabled:!1,stepIndex:0,length:0}),g=y=>{a({arp:{...f,...y}})},C=f.chordSource??"preset",j=jt.useMemo(()=>{const y=v.steps??[],b=Math.max(1,Math.min(y.length,v.length)),T=new Set;for(let P=0;P<b;P++){const O=y[P];O?.on&&T.add(Math.round(O.offset??0))}return T.size},[v]);return jt.useEffect(()=>{if(!o)return;const y=setInterval(()=>{const b=o.getArpStatus?.();b&&h(b)},120);return()=>clearInterval(y)},[o]),s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:f.enabled,onChange:y=>a({arp:{...f,enabled:y.target.checked}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:f.latch||!1,onChange:y=>a({arp:{...f,latch:y.target.checked}}),disabled:!f.enabled}),s.jsx("span",{className:"label",children:"Latch"})]}),s.jsx("button",{onClick:()=>o?.arpClear(),disabled:!f.enabled,style:{justifySelf:"start",alignSelf:"end",padding:"6px 10px",fontSize:12,borderRadius:6,background:"transparent",border:"1px solid var(--border, #2a3040)",color:"var(--text)"},children:"Clear"}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:f.mode,onChange:y=>a({arp:{...f,mode:y.target.value}}),disabled:!f.enabled,children:[s.jsx("option",{value:"up",children:"Up"}),s.jsx("option",{value:"down",children:"Down"}),s.jsx("option",{value:"updown",children:"Up-Down"}),s.jsx("option",{value:"random",children:"Random"}),s.jsx("option",{value:"asplayed",children:"As Played"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Octaves"}),s.jsxs("select",{value:f.octaves,onChange:y=>a({arp:{...f,octaves:Number(y.target.value)}}),disabled:!f.enabled,children:[s.jsx("option",{value:1,children:"1"}),s.jsx("option",{value:2,children:"2"}),s.jsx("option",{value:3,children:"3"}),s.jsx("option",{value:4,children:"4"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Chord"}),s.jsxs("select",{value:C==="sequencer"?"sequencer":f.chord??"none",onChange:y=>{const b=y.target.value;g(b==="sequencer"?{chordSource:"sequencer"}:{chordSource:"preset",chord:b})},disabled:!f.enabled,children:[s.jsx("option",{value:"none",children:"Single"}),s.jsx("option",{value:"power",children:"Power (5th)"}),s.jsx("option",{value:"major",children:"Major Triad"}),s.jsx("option",{value:"minor",children:"Minor Triad"}),s.jsx("option",{value:"sus2",children:"Sus2"}),s.jsx("option",{value:"sus4",children:"Sus4"}),s.jsx("option",{value:"maj7",children:"Major 7th"}),s.jsx("option",{value:"min7",children:"Minor 7th"}),s.jsx("option",{value:"sequencer",children:"Sequencer Pattern"})]})]}),C==="sequencer"&&s.jsxs("div",{className:"hint-text",style:{gridColumn:"span 2",fontSize:12,opacity:.8,alignSelf:"end"},children:["Sequencer pattern",j>0?`  ${j} interval${j===1?"":"s"}`:"  no active steps yet"]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Division"}),s.jsxs("select",{value:f.division,onChange:y=>g({division:y.target.value}),disabled:!f.enabled,children:[s.jsx("option",{value:"1/4",children:"1/4"}),s.jsx("option",{value:"1/8",children:"1/8"}),s.jsx("option",{value:"1/8T",children:"1/8T"}),s.jsx("option",{value:"1/16",children:"1/16"}),s.jsx("option",{value:"1/16T",children:"1/16T"})]})]}),s.jsx(Me,{label:"BPM",min:40,max:240,step:1,value:c,onChange:y=>{p(y),g({bpm:y,bpmSync:!0})},disabled:!f.enabled}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:32,alignItems:"center",justifyContent:"flex-start",padding:"6px 0"},children:[s.jsx(Me,{label:"Gate",min:.05,max:1,step:.01,value:f.gate,onChange:y=>a({arp:{...f,gate:y}}),disabled:!f.enabled}),s.jsx(Me,{label:"Swing",min:0,max:.75,step:.01,value:f.swingPct??0,onChange:y=>a({arp:{...f,swingPct:y}}),disabled:!f.enabled||!f.bpmSync})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Repeats"}),s.jsx("select",{value:f.repeats??1,onChange:y=>a({arp:{...f,repeats:Number(y.target.value)}}),disabled:!f.enabled,children:[1,2,3,4].map(y=>s.jsxs("option",{value:y,children:[y,"x"]},y))})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Length"}),s.jsxs("select",{value:f.patternLen??0,onChange:y=>a({arp:{...f,patternLen:Number(y.target.value)}}),disabled:!f.enabled,children:[s.jsx("option",{value:0,children:"Auto"}),Array.from({length:16},(y,b)=>b+1).map(y=>s.jsx("option",{value:y,children:y},y))]})]})]})]})}function pp(){const u=Z(E=>E.patch),a=Z(E=>E.updatePatch),o=Z(E=>E.engine),c=Z(E=>E.transport.tempo),p=Z(E=>E.transport.playing),f=Z(E=>E.transport.tick),v=Z(E=>E.setTempo),w=Z(E=>E.setTransportPlaying),h=u.sequencer??U.sequencer,g=E=>{const I=u.sequencer??U.sequencer;a({sequencer:{...I,...E}})},C=h.steps||[],j=Math.max(1,Math.min(C.length,h.length)),[y,b]=jt.useState({enabled:!1,stepIndex:0,length:0});jt.useEffect(()=>{if(!o)return;const E=setInterval(()=>{const I=o.getSequencerStatus?.();I&&b(I)},100);return()=>clearInterval(E)},[o]);const T=(E,I)=>{const G=C.slice();G[E]={...G[E],...I},g({steps:G})},P={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},O=jt.useRef(null),[R,L]=jt.useState(0),[$,D]=jt.useState(!1);jt.useEffect(()=>{L(E=>Math.min(Math.max(0,E),j-1))},[j]),jt.useEffect(()=>{$&&O.current?.focus()},[$]),jt.useEffect(()=>{h.enabled&&h.bpm!==c&&g({bpm:c})},[c]),jt.useEffect(()=>{h.enabled&&h.playing!==p&&g({playing:p})},[p,h.playing,h.enabled]);const Q=E=>{if(!$||!h.enabled)return;const I=E.key,G=I.length===1?I.toLowerCase():I;if(G in P){E.preventDefault();const Y=P[G];T(R,{on:!0,offset:Y}),L(oe=>(oe+1)%j);return}I==="ArrowRight"?(E.preventDefault(),L(Y=>(Y+1)%j)):I==="ArrowLeft"?(E.preventDefault(),L(Y=>(Y-1+j)%j)):I==="ArrowUp"?(E.preventDefault(),T(R,{on:!0,offset:Math.min(24,(C[R]?.offset||0)+1)})):I==="ArrowDown"?(E.preventDefault(),T(R,{on:!0,offset:Math.max(-24,(C[R]?.offset||0)-1)})):I==="Enter"?(E.preventDefault(),T(R,{on:!C[R]?.on})):I==="Backspace"||I==="Delete"?(E.preventDefault(),T(R,{on:!1})):I==="+"||I==="="?(E.preventDefault(),T(R,{on:!0,offset:Math.min(24,(C[R]?.offset||0)+1)})):I==="-"||I==="_"?(E.preventDefault(),T(R,{on:!0,offset:Math.max(-24,(C[R]?.offset||0)-1)})):G==="z"?(E.preventDefault(),g({rootMidi:Math.max(24,h.rootMidi-12)})):G==="x"?(E.preventDefault(),g({rootMidi:Math.min(96,h.rootMidi+12)})):I===" "&&(E.preventDefault(),w(!p))};return s.jsxs("div",{className:"sequence-panel",children:[s.jsxs("div",{className:"sequence-controls",children:[s.jsx("button",{className:"play-button",onClick:()=>w(!p),disabled:!h.enabled,children:p?"Stop":"Play"}),s.jsxs("label",{className:"sequence-toggle",children:[s.jsx("input",{type:"checkbox",checked:h.enabled,onChange:E=>g({enabled:E.target.checked})}),s.jsx("span",{children:"Enabled"})]}),s.jsxs("label",{className:"sequence-toggle",children:[s.jsx("span",{children:"Division"}),s.jsxs("select",{value:h.division,onChange:E=>g({division:E.target.value}),disabled:!h.enabled,children:[s.jsx("option",{value:"1/4",children:"1/4"}),s.jsx("option",{value:"1/8",children:"1/8"}),s.jsx("option",{value:"1/8T",children:"1/8T"}),s.jsx("option",{value:"1/16",children:"1/16"}),s.jsx("option",{value:"1/16T",children:"1/16T"})]})]})]}),s.jsx("div",{className:"sequence-body",children:s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Length"}),s.jsx("select",{value:h.length,onChange:E=>g({length:Number(E.target.value)}),disabled:!h.enabled,children:Array.from({length:C.length},(E,I)=>I+1).map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsx(Me,{label:"Tempo",min:40,max:240,step:1,value:c,onChange:E=>{v(E),g({bpm:E})},disabled:!h.enabled}),s.jsx(Me,{label:"Gate",min:.05,max:1,step:.01,value:h.gate,onChange:E=>g({gate:E}),disabled:!h.enabled}),s.jsx(Me,{label:"Swing",min:0,max:.75,step:.01,value:h.swingPct??0,onChange:E=>g({swingPct:E}),disabled:!h.enabled||h.division.endsWith("T")||h.division==="1/4"}),s.jsx(Me,{label:"Root",min:36,max:84,step:1,value:h.rootMidi,onChange:E=>g({rootMidi:E}),disabled:!h.enabled}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:12,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:$,onChange:E=>D(E.target.checked)}),s.jsx("span",{className:"label",children:"Edit Notes (Keyboard)"})]}),s.jsx("div",{className:"hint-text",style:{opacity:.8},children:"Keys: A/W/S... set notes  Arrows move  Z/X root 1 oct  Space play/pause  +/- semitone  Backspace clear"})]}),s.jsx("div",{ref:O,tabIndex:0,onKeyDown:Q,style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(16, 1fr)",gap:6,outline:$?"1px dashed #2a3040":"none",borderRadius:6,padding:2},children:C.map((E,I)=>{const G=I<j,Y=E.on&&G,oe=j>0?f%j:0,Ne=y.enabled&&p&&G&&oe===I;return s.jsx("div",{onClick:me=>{me.altKey?T(I,{offset:Math.max(-24,Math.min(24,(E.offset||0)+1))}):T(I,{on:!E.on}),L(I)},onContextMenu:me=>{me.preventDefault(),T(I,{offset:Math.max(-24,Math.min(24,(E.offset||0)-1))})},title:`Step ${I+1}${E.offset?`, ${E.offset>0?"+":""}${E.offset}`:""}`,style:{height:44,borderRadius:6,border:`1px solid ${Ne||I===R&&$?"var(--accent)":"#2a3040"}`,background:Y?Ne?"var(--accent)":"#1d2432":"#0f1217",color:Y?Ne?"#0f1217":"var(--text)":"#556",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none"},children:s.jsx("span",{style:{fontSize:11,opacity:.9},children:E.offset===0?"0":E.offset>0?`+${E.offset}`:`${E.offset}`})},I)})})]})})]})}const uo=[{id:"filter.cutoff",label:"Filter Cutoff",category:"Filter",description:"Move the filter cutoff frequency"},{id:"filter.q",label:"Filter Resonance",category:"Filter",description:"Adjust filter Q / resonance"},{id:"master.gain",label:"Master Gain",category:"Master",description:"Scale the master volume"},{id:"mix",label:"Osc Mix",category:"Oscillators",description:"Crossfade between Osc 1 and Osc 2"},{id:"osc1.detune",label:"Osc 1 Detune",category:"Oscillators",description:"Offset oscillator 1 pitch in cents"},{id:"osc2.detune",label:"Osc 2 Detune",category:"Oscillators",description:"Offset oscillator 2 pitch in cents"},{id:"fm.amount",label:"FM Amount",category:"FM",description:"Modulation index for FM routing"},{id:"envelope.attack",label:"Env Attack",category:"Envelope",description:"Envelope attack time"},{id:"envelope.release",label:"Env Release",category:"Envelope",description:"Envelope release time"},{id:"macro.harmonics",label:"Macro Harmonics",category:"Macro",description:"Macro engine harmonics"},{id:"macro.timbre",label:"Macro Timbre",category:"Macro",description:"Macro engine timbre"},{id:"macro.morph",label:"Macro Morph",category:"Macro",description:"Macro engine morph"},{id:"macro.level",label:"Macro Level",category:"Macro",description:"Macro engine output level"},{id:"lfo1.rateHz",label:"LFO 1 Rate",category:"LFO",description:"LFO1 rate in Hz"},{id:"lfo1.amount",label:"LFO 1 Amount",category:"LFO",description:"LFO1 depth"},{id:"lfo2.rateHz",label:"LFO 2 Rate",category:"LFO",description:"LFO2 rate in Hz"},{id:"lfo2.amount",label:"LFO 2 Amount",category:"LFO",description:"LFO2 depth"}],hc=Object.fromEntries(uo.map(u=>[u.id,u.label]));function hp(){const u=Z(T=>T.engine),o=Z(T=>T.patch.expression)??U.expression,c=hc[o.x]??"X Axis",p=hc[o.y]??"Y Axis",f=H.useRef(u),[v,w]=H.useState(!1),[h,g]=H.useState(null),C=H.useRef(!1),j=H.useRef(null),y=H.useRef(null);H.useEffect(()=>{f.current=u},[u]);const b=H.useCallback(T=>{C.current=T,w(T),T||(y.current=null,j.current!=null&&(cancelAnimationFrame(j.current),j.current=null),f.current?.clearExpression2D(),g(null))},[]);return H.useEffect(()=>{const T=O=>{O.key==="CapsLock"?b(O.getModifierState("CapsLock")):!O.getModifierState("CapsLock")&&C.current&&b(!1)},P=()=>b(!1);return window.addEventListener("keydown",T),window.addEventListener("keyup",T),window.addEventListener("blur",P),()=>{window.removeEventListener("keydown",T),window.removeEventListener("keyup",T),window.removeEventListener("blur",P)}},[b]),H.useEffect(()=>{const T=()=>{if(j.current=null,!C.current)return;const L=y.current;L&&(y.current=null,f.current?.setExpression2D(L.x,L.y),g(L))},P=()=>{j.current==null&&(j.current=requestAnimationFrame(T))},O=L=>{if(!f.current)return;const $=L.getModifierState?.("CapsLock")??C.current;if($!==C.current&&b($),!$||!["mouse","touch","pen"].includes(L.pointerType))return;const D=Math.min(1,Math.max(0,L.clientX/window.innerWidth)),Q=Math.min(1,Math.max(0,1-L.clientY/window.innerHeight));y.current={x:D,y:Q},P()},R=()=>b(!1);return window.addEventListener("pointermove",O,{passive:!0}),window.addEventListener("pointerdown",O,{passive:!0}),window.addEventListener("pointerup",O,{passive:!0}),window.addEventListener("pointercancel",R),window.addEventListener("mouseleave",R),()=>{window.removeEventListener("pointermove",O),window.removeEventListener("pointerdown",O),window.removeEventListener("pointerup",O),window.removeEventListener("pointercancel",R),window.removeEventListener("mouseleave",R),j.current!=null&&(cancelAnimationFrame(j.current),j.current=null)}},[b]),u?s.jsxs("div",{className:`expression-overlay${v?" active":""}`,"aria-hidden":"true",children:[s.jsx("div",{className:"expression-label",children:"CapsLock XY Expression"}),v?s.jsxs("div",{className:"expression-status",children:["Active  ",c," ",((h?.x??.5)*100).toFixed(0),"%  ",p," ",((h?.y??.5)*100).toFixed(0),"%"]}):s.jsxs("div",{className:"expression-status",children:["Engage CapsLock and move on the trackpad to modulate ",c," / ",p]})]}):null}const mc="application/x-websynth-panel";function vc(u,a,o){if(!u.includes(a))return u;const c=u.filter(f=>f!==a),p=Math.max(0,Math.min(o,c.length));return[...c.slice(0,p),a,...c.slice(p)]}function mp({panels:u,order:a,onOrderChange:o,onRequestHelp:c}){const[p,f]=H.useState(null),[v,w]=H.useState(null),[h,g]=H.useState(!1),C=H.useMemo(()=>new Map(u.map(E=>[E.id,E])),[u]),j=H.useMemo(()=>u.map(E=>E.id),[u]),y=H.useMemo(()=>{const E=(a.length?a:j).filter(Y=>C.has(Y)),I=new Set(E),G=u.filter(Y=>!I.has(Y.id)).map(Y=>Y.id);return[...E,...G]},[a,j,C,u]),b=E=>I=>{I.dataTransfer.effectAllowed="move";try{I.dataTransfer.setData(mc,E)}catch{I.dataTransfer.setData("text/plain",E)}f(E),w(null),g(!1)},T=()=>{f(null),w(null),g(!1)},P=E=>{let I="";try{I=E.dataTransfer.getData(mc)}catch{I=E.dataTransfer.getData("text/plain")}return I||p},O=(E,I)=>G=>{if(G.preventDefault(),G.stopPropagation(),!p)return;const Y=G.currentTarget.getBoundingClientRect(),oe=G.clientY<Y.top+Y.height/2;w({id:E,position:oe?"before":"after"}),g(!1)},R=(E,I)=>G=>{G.preventDefault(),G.stopPropagation();const Y=P(G);if(!Y)return;const oe=G.currentTarget.getBoundingClientRect(),me=G.clientY<oe.top+oe.height/2?I:I+1,je=vc(y,Y,me);o(je),w(null),g(!1)},L=E=>I=>{I.stopPropagation(),v?.id===E&&w(null)},$=E=>{p&&(E.preventDefault(),w(null),g(!0))},D=E=>{E.preventDefault();const I=P(E);if(!I)return;const G=vc(y,I,y.length);o(G),w(null),g(!1)},Q=E=>I=>{I.preventDefault(),I.stopPropagation(),c?.(E)};return s.jsx("div",{className:`dashboard-grid${h?" drop-end":""}`,onDragOver:$,onDrop:D,children:y.map((E,I)=>{const G=C.get(E);if(!G)return null;const Y=G.span??1,oe=p===E,Ne=v?.id===E&&v.position==="before",me=v?.id===E&&v.position==="after",je=["panel","dashboard-panel",oe?"dragging":"",Ne?"drop-before":"",me?"drop-after":""].filter(Boolean).join(" ");return s.jsx("section",{className:je,style:{gridColumn:Y>1?`span ${Y}`:void 0},onDragOver:O(G.id),onDrop:R(G.id,I),onDragLeave:L(G.id),children:s.jsxs("div",{className:"panel-body",children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("h3",{className:"panel-title",children:G.title}),s.jsxs("div",{className:"panel-actions",children:[c?s.jsx("button",{type:"button",className:"panel-help-button",onClick:Q(G.id),"aria-label":`Show help for ${G.title}`,children:"?"}):null,s.jsx("span",{className:"panel-drag-hint","aria-hidden":"true",draggable:!0,onDragStart:b(G.id),onDragEnd:T,children:""})]})]}),G.render()]})},G.id)})})}const lo={init:{osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},sampler:{...U.sampler}},mellowPad:{osc1:{wave:"triangle",detune:-5,finePct:0},osc2:{wave:"sawtooth",detune:3},mix:.35,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!0,octave:1,level:.2,wave:"sine"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:800,q:1.2},envelope:{attack:.4,decay:.8,sustain:.8,release:1.5},master:{gain:.25},sampler:{...U.sampler}},brightLead:{osc1:{wave:"square",detune:3,finePct:0},osc2:{wave:"sawtooth",detune:-6},mix:.5,fm:{enabled:!0,ratio:1.5,amount:120},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"bandpass",cutoff:1600,q:.7},envelope:{attack:.01,decay:.15,sustain:.5,release:.2},master:{gain:.22},sampler:{...U.sampler}}};function vp(){const u=Z(v=>v.updatePatch),a=Z(v=>v.exportPatch),o=Z(v=>v.importPatch),c=H.useRef(null),p=()=>{const v=a(),w=new Blob([v],{type:"application/json"}),h=URL.createObjectURL(w),g=document.createElement("a");g.href=h,g.download="patch.json",g.click(),URL.revokeObjectURL(h)},f=v=>{const w=v.target.files?.[0];if(!w)return;const h=new FileReader;h.onload=()=>{o(String(h.result))},h.readAsText(w)};return s.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("select",{onChange:v=>u(lo[v.target.value]),defaultValue:"init",children:Object.entries(lo).map(([v])=>s.jsx("option",{value:v,children:v},v))}),s.jsx("button",{onClick:()=>c.current?.click(),children:"Import"}),s.jsx("input",{ref:c,type:"file",accept:"application/json",style:{display:"none"},onChange:f}),s.jsx("button",{onClick:p,children:"Export"}),s.jsx("button",{onClick:()=>u(lo.init),children:"Reset"}),s.jsx("button",{title:"Clears local patches to recover from incompatible versions",onClick:()=>{localStorage.removeItem("websynth-patch"),location.reload()},children:"Clear Local"})]}),s.jsx("div",{className:"label",children:"Presets and Patch IO"})]})}function gp(){const a=Z(v=>v.patch.expression)??U.expression,o=Z(v=>v.updatePatch),c=H.useMemo(()=>{const v=new Map;for(const w of uo){const h=v.get(w.category)??[];h.push(w),v.set(w.category,h)}return Array.from(v.entries())},[]),p=v=>w=>{const h=w.target.value,g=v==="x"?{x:h,y:a.y}:{x:a.x,y:h};o({expression:g})},f=v=>{const w=a?.[v];return uo.find(g=>g.id===w)?.description??"Select a destination to be controlled by the XY surface."};return s.jsxs("div",{className:"expression-panel",children:[s.jsxs("div",{className:"expression-row",children:[s.jsxs("label",{children:[s.jsx("span",{className:"label",children:"X Axis Target"}),s.jsx("select",{value:a?.x??U.expression.x,onChange:p("x"),children:c.map(([v,w])=>s.jsx("optgroup",{label:v,children:w.map(h=>s.jsx("option",{value:h.id,children:h.label},h.id))},v))})]}),s.jsx("p",{className:"hint-text",children:f("x")})]}),s.jsxs("div",{className:"expression-row",children:[s.jsxs("label",{children:[s.jsx("span",{className:"label",children:"Y Axis Target"}),s.jsx("select",{value:a?.y??U.expression.y,onChange:p("y"),children:c.map(([v,w])=>s.jsx("optgroup",{label:v,children:w.map(h=>s.jsx("option",{value:h.id,children:h.label},h.id))},v))})]}),s.jsx("p",{className:"hint-text",children:f("y")})]})]})}function so({open:u,onClose:a,children:o,title:c="Settings",closeLabel:p="Close settings"}){return H.useEffect(()=>{if(!u)return;const f=v=>{v.key==="Escape"&&a()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[u,a]),u?s.jsxs("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"modal-backdrop",onClick:a}),s.jsxs("div",{className:"modal",children:[s.jsxs("header",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:c}),s.jsx("button",{className:"modal-close",onClick:a,"aria-label":p,children:""})]}),s.jsx("div",{className:"modal-body",children:o})]})]}):null}const Sc=16,ls=[{id:"kick",label:"Kick",midi:36,patch:{osc1:{wave:"sine",detune:-24},osc2:{wave:"sine",detune:0},mix:0,envelope:{attack:.001,decay:.18,sustain:0,release:.08},filter:{type:"lowpass",cutoff:380,q:.8},master:{gain:.35}}},{id:"snare",label:"Snare",midi:38,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:12},mix:.55,envelope:{attack:.001,decay:.22,sustain:0,release:.12},filter:{type:"bandpass",cutoff:1800,q:2.8},master:{gain:.28}}},{id:"hat",label:"Hat",midi:42,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:24},mix:.7,envelope:{attack:.001,decay:.08,sustain:0,release:.05},filter:{type:"highpass",cutoff:5e3,q:.9},master:{gain:.22}}}];function yp(){const u={};for(const a of ls)u[a.id]=Array.from({length:Sc},()=>!1);return u.kick[0]=!0,u.kick[8]=!0,u.snare[4]=!0,u.snare[12]=!0,u.hat=u.hat.map((a,o)=>o%2===0),u}function xp(){const u=Z(T=>T.transport.tempo),a=Z(T=>T.transport.playing),o=Z(T=>T.transport.tick),c=Z(T=>T.setTempo),p=Z(T=>T.setTransportPlaying),[f,v]=H.useState(()=>yp()),[w,h]=H.useState(0),g=H.useRef({}),C=H.useRef(f);H.useEffect(()=>{C.current=f},[f]);const j=async T=>{let P=g.current[T];P||(P=new oo,g.current[T]=P),await P.resume();const O=ls.find(R=>R.id===T)?.patch;return O&&P.applyPatch({...U,...O}),P},y=async T=>{const P=C.current,O=ls.filter(R=>P[R.id]?.[T]);for(const R of O)(await j(R.id)).previewNote(R.midi,180)};H.useEffect(()=>{if(!a){h(0);return}const T=o%Sc;h(T),y(T)},[o,a]),H.useEffect(()=>()=>{for(const T of Object.values(g.current))try{T.audioContext.close()}catch{}g.current={}},[]);const b=(T,P)=>{v(O=>{const R={...O,[T]:[...O[T]]};return R[T][P]=!R[T][P],R})};return s.jsxs("div",{className:"drum-machine",children:[s.jsxs("div",{className:"drum-controls",children:[s.jsx("button",{className:"play-button",onClick:()=>p(!a),children:a?"Stop":"Play"}),s.jsx(Me,{label:"Tempo",min:60,max:180,step:1,value:u,onChange:T=>c(T)})]}),s.jsx("div",{className:"drum-grid",children:ls.map(T=>s.jsxs("div",{className:"drum-row",children:[s.jsx("div",{className:"drum-label",children:T.label}),s.jsx("div",{className:"drum-steps",children:f[T.id]?.map((P,O)=>{const R=a&&w===O;return s.jsx("button",{className:`drum-step${P?" active":""}${R?" current":""}`,onClick:()=>b(T.id,O)},O)})})]},T.id))})]})}const wp=4;function Sp(){const u=Z(f=>f.transport.tempo),a=Z(f=>f.transport.playing),o=Z(f=>f.bumpTransportTick),c=Z(f=>f.patch),p=Z(f=>f.updatePatch);return H.useEffect(()=>{if(!a)return;const f=6e4/u/wp,v=window.setInterval(()=>o(),f);return()=>window.clearInterval(v)},[a,u,o]),H.useEffect(()=>{const f=c.sequencer??U.sequencer;f?.enabled&&f.playing!==a&&p({sequencer:{...f,playing:a}})},[a,c.sequencer,p]),H.useEffect(()=>{const f=c.sequencer??U.sequencer;f?.enabled&&f.bpm!==u&&p({sequencer:{...f,bpm:u}});const v=c.arp??U.arp;v?.enabled&&(v.bpm!==u||!v.bpmSync)&&p({arp:{...v,bpm:u,bpmSync:!0}})},[u,c.sequencer,c.arp,p]),null}const gc=144,kp=128;function jp(u){return Array.from(u.inputs.values()).map(a=>({id:a.id,name:a.name??"Unknown input",manufacturer:a.manufacturer??null}))}let Hr=null;function kc(){return Hr||(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"?Promise.reject(new Error("Web MIDI API is not supported in this environment")):(Hr=navigator.requestMIDIAccess({sysex:!1}).finally(()=>{Hr=null}),Hr))}function Ep(){const u=Z(C=>C.engine),a=Z(C=>C.midi),o=Z(C=>C.setMidiSupported),c=Z(C=>C.setMidiStatus),p=Z(C=>C.setMidiInputs),f=Z(C=>C.setMidiSelectedInput),v=Z(C=>C.setMidiActiveNotes),w=H.useRef(null),h=H.useRef(null),g=H.useRef(new Set);return H.useEffect(()=>{if(!a.enabled){const j=Array.from(g.current);j.length&&u&&j.forEach(b=>u.noteOff(b)),g.current.clear(),v([]);const y=a.supported===!1?"unsupported":"idle";a.status!==y&&c(y),p([]),w.current&&(w.current.onstatechange=null);return}if(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"){o(!1),c("unsupported");return}let C=!1;return o(!0),c("requesting"),kc().then(j=>{if(C)return;w.current=j;const y=()=>{const b=jp(j);p(b);const{selectedInputId:T}=Z.getState().midi;b.length===0&&(g.current.clear(),v([])),b.length>0?b.some(O=>O.id===T)||f(b[0]?.id??null):T&&f(null)};y(),j.onstatechange=()=>y(),c("ready")}).catch(j=>{if(C)return;const y=j instanceof Error?j.message:"Failed to access MIDI devices";c("error",y)}),()=>{C=!0,w.current&&(w.current.onstatechange=null),w.current=null}},[u,a.enabled,v,p,f,c,o]),H.useEffect(()=>{if(!a.enabled){h.current&&(h.current.onmidimessage=null,h.current=null);return}const C=w.current;if(!C)return;const j=a.selectedInputId,y=j?Array.from(C.inputs.values()).find(T=>T.id===j):null;if(h.current&&h.current!==y){h.current.onmidimessage=null,h.current=null;const T=Array.from(g.current);T.length&&u&&T.forEach(P=>u.noteOff(P)),g.current.clear(),v([])}if(!y)return;const b=T=>{const P=T.data;if(!P||P.length<2)return;const O=P[0],R=P[1],L=P[2]??0,$=O&240,D=R;if($===gc&&L>0){u&&u.noteOn(D),g.current.add(D),v(Array.from(g.current));return}($===kp||$===gc&&L===0)&&(u&&u.noteOff(D),g.current.delete(D),v(Array.from(g.current)))};return y.onmidimessage=b,h.current=y,()=>{y.onmidimessage===b&&(y.onmidimessage=null);const T=Array.from(g.current);T.length&&u&&T.forEach(P=>u.noteOff(P)),g.current.clear(),v([])}},[u,a.enabled,a.selectedInputId,v]),null}const Mp={idle:"Not connected",requesting:"Awaiting browser permission...",ready:"Connected",error:"Connection error",unsupported:"Not supported"};function Cp(){const u=Z(h=>h.midi),a=Z(h=>h.setMidiEnabled),o=Z(h=>h.setMidiSelectedInput),c=Z(h=>h.setMidiStatus),p=Z(h=>h.setMidiSupported),f=H.useMemo(()=>{const h=Mp[u.status]??"Unknown";return u.status==="error"&&u.lastError?`${h}: ${u.lastError}`:u.status==="ready"&&u.inputs.length===0?"Connected - no inputs detected":h},[u.inputs.length,u.lastError,u.status]),v=u.supported===!1,w=H.useCallback(h=>{if(!h.target.checked){a(!1);return}c("requesting"),a(!0),kc().then(()=>{p(!0)}).catch(C=>{const j=C instanceof Error?C.message:"Failed to access MIDI devices";if(C instanceof Error&&/not supported/i.test(C.message)){p(!1),c("unsupported"),a(!1);return}p(!0),c("error",j)})},[a,c,p]);return s.jsxs("div",{className:"settings-card",children:[s.jsxs("div",{className:"settings-row",children:[s.jsx("label",{className:"settings-label",htmlFor:"midi-enabled",children:"Enable MIDI input"}),s.jsx("input",{id:"midi-enabled",type:"checkbox",checked:u.enabled,onChange:w,disabled:v})]}),s.jsxs("div",{className:"settings-row",children:[s.jsx("span",{className:"settings-label",children:"Status"}),s.jsx("span",{className:"settings-value","data-status":u.status,children:f})]}),u.status==="unsupported"?s.jsx("p",{className:"settings-help",children:"This browser does not expose the Web MIDI API. Try Chrome or Edge on desktop."}):null,s.jsxs("div",{className:"settings-row",children:[s.jsx("label",{className:"settings-label",htmlFor:"midi-input",children:"MIDI input device"}),s.jsxs("select",{id:"midi-input",value:u.selectedInputId??"",onChange:h=>{const g=h.target.value;o(g.length?g:null)},disabled:!u.enabled||u.inputs.length===0,children:[u.inputs.length===0?s.jsx("option",{value:"",children:"No inputs detected"}):null,u.inputs.map(h=>s.jsxs("option",{value:h.id,children:[h.name,h.manufacturer?` (${h.manufacturer})`:""]},h.id))]})]}),u.enabled&&u.inputs.length===0?s.jsx("p",{className:"settings-help",children:"Plug in a controller or check browser permissions."}):null]})}function Np({href:u="https://github.com/szabadkai/synth-demo"}){return s.jsxs("a",{className:"github-corner",href:u,"aria-label":"View WebSynth Studio on GitHub",target:"_blank",rel:"noreferrer noopener",children:[s.jsx("span",{className:"sr-only",children:"View the project repository on GitHub"}),s.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M12 0a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58 0-.29-.01-1.05-.02-2.05-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.35-1.78-1.35-1.78-1.11-.76.08-.75.08-.75 1.22.09 1.87 1.26 1.87 1.26 1.09 1.86 2.86 1.32 3.56 1 .11-.79.43-1.32.78-1.62-2.66-.3-5.47-1.33-5.47-5.9 0-1.3.47-2.37 1.24-3.21-.12-.3-.54-1.51.12-3.15 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23.66 1.64.24 2.85.12 3.15.77.84 1.24 1.9 1.24 3.21 0 4.58-2.82 5.6-5.5 5.9.44.39.83 1.16.83 2.34 0 1.69-.02 3.05-.02 3.47 0 .32.22.69.83.57A12 12 0 0 0 12 0Z"})})]})}const Pp=[{title:"Power On + Audio Check",points:["Click Power On (or press any key) to resume the audio engine  browsers block sound until you interact.","Hold a note on the on-screen keyboard or your computer keys (A/W/S) to confirm audio output.","Watch the Audio Ready badge so you know the synth engine is live and responsive."]},{title:"Dashboard Basics",points:["Each panel can be dragged by the  handle to personalise your layout.","Use the Oscilloscope panel to visualise how oscillator, filter, and envelope tweaks shape the signal.","Dive into Oscillator, Filter, Envelope, and Effects panels to sculpt tone, dynamics, and ambience."]},{title:"Modulation Playground",points:["Assign LFOs to pitch, filter, or effect targets for evolving textures  adjust rate, shape, sync, and depth.","Flip on the Arpeggiator to latch held notes, experiment with patterns, octave ranges, and tempo sync.","Program riffs in the Sequencer, toggle steps live, and shape groove with direction and swing."]},{title:"Rhythm Layer",points:["Open the Drum Machine to sequence kick, snare, and hat voices using the shared global transport.","Hit Play/Stop in the Drum Machine (or space bar in the Sequencer) to drive every tempo-aware module.","Adjust BPM from either panel  the Transport keeps LFO sync, sequencer rate, and arps locked in."]},{title:"Expressive Performance",points:["Engage CapsLock to activate the 2D expression surface; glide a trackpad, mouse, or pen for live modulation.","Check the overlay label to see which parameters the X/Y axes control and their real-time values.","Customise X/Y destinations under Settings  Expression to map filter sweeps, macro blends, and more."]},{title:"Patch Workflow",points:["Browse built-in presets from Settings  Patches to explore starting points for new sounds.","Export your patch as JSON to share, import saved patches, or reset to the init patch at any time.","Use Clear Local if you ever need to wipe cached patches after upgrading the app."]},{title:"Hardware MIDI",points:["Toggle Enable MIDI input in Settings  MIDI to request browser permission for your controller.","Select a detected device and play  incoming notes route straight into the synth voice engine.","Status hints show permission prompts, errors, or a friendly ready state so you know what to expect."]},{title:"Next Steps",points:["Layer Sequencer, Arpeggiator, Drum Machine, and expression surface for full arrangements.","Save favourite patches into src/patches/ to share with your team or future sessions.","Before shipping changes, run npm run lint, npm run typecheck, npm test, and npm run build to keep QA tight."]}];function Tp(){return s.jsxs("div",{className:"onboarding-guide",children:[s.jsx("p",{className:"onboarding-intro",children:"New to WebSynth Studio? Work through the highlights below, tweaking the live app as you go. Each section points you to the panels and controls that define the instrument."}),s.jsx("ol",{className:"onboarding-list",children:Pp.map(u=>s.jsxs("li",{className:"onboarding-section",children:[s.jsx("h4",{children:u.title}),s.jsx("ul",{children:u.points.map(a=>s.jsx("li",{children:a},a))})]},u.title))})]})}const _p="https://buymeacoffee.com/szabadkai",Lp="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png",io="buy-coffee-collapsed";function Rp(){const[u,a]=H.useState(!1);return H.useEffect(()=>{try{window.localStorage.getItem(io)==="1"&&a(!0)}catch{}},[]),H.useEffect(()=>{try{u?window.localStorage.setItem(io,"1"):window.localStorage.removeItem(io)}catch{}},[u]),u?s.jsx("div",{className:"buy-coffee collapsed",children:s.jsx("button",{type:"button",className:"buy-coffee-icon","aria-label":"Show Buy Me a Coffee support button",onClick:()=>a(!1),children:s.jsx("span",{"aria-hidden":"true",children:""})})}):s.jsxs("div",{className:"buy-coffee",children:[s.jsxs("a",{className:"buy-coffee-link",href:_p,target:"_blank",rel:"noreferrer noopener","aria-label":"Support WebSynth Studio via Buy Me a Coffee",children:[s.jsx("span",{className:"sr-only",children:"Support WebSynth Studio on Buy Me a Coffee"}),s.jsx("img",{src:Lp,alt:"",loading:"lazy",width:220,height:62})]}),s.jsx("button",{type:"button",className:"buy-coffee-dismiss","aria-label":"Hide Buy Me a Coffee support button",onClick:()=>a(!0),children:s.jsx("span",{"aria-hidden":"true",children:""})})]})}const yc="websynth-guide-seen",Op=["oscilloscope","oscillator","effects","lfos","arp","sequencer","drum","keyboard"];function bp(u){return Op.includes(u)}function Ip(){const u=Z(P=>P.engine),a=Z(P=>P.setEngine),o=Z(P=>P.patch),[c,p]=H.useState(!1),[f,v]=H.useState(!1),[w,h]=H.useState(null);H.useEffect(()=>{try{localStorage.getItem(yc)||v(!0)}catch{}},[]),H.useEffect(()=>{const P=async()=>{if(!Z.getState().engine){const O=new oo;await O.resume(),O.applyPatch(o),a(O)}window.removeEventListener("pointerdown",P),window.removeEventListener("keydown",P)};return window.addEventListener("pointerdown",P),window.addEventListener("keydown",P),()=>{window.removeEventListener("pointerdown",P),window.removeEventListener("keydown",P)}},[o,a]);const g=async()=>{if(!u){const P=new oo;await P.resume(),P.applyPatch(o),a(P)}},C=[{id:"oscilloscope",title:"Oscilloscope",span:2,render:()=>s.jsxs("div",{className:"oscilloscope-stack",children:[s.jsx(up,{}),s.jsxs("div",{className:"oscilloscope-row",children:[s.jsx(np,{}),s.jsx(rp,{})]})]})},{id:"oscillator",title:"Oscillator",span:2,render:()=>s.jsx(tp,{})},{id:"effects",title:"Effects",span:2,render:()=>s.jsx(cp,{})},{id:"lfos",title:"LFOs",span:2,render:()=>s.jsx(dp,{})},{id:"arp",title:"Arpeggiator",span:2,render:()=>s.jsx(fp,{})},{id:"sequencer",title:"Sequencer",span:2,render:()=>s.jsx(pp,{})},{id:"drum",title:"Drum Machine",span:2,render:()=>s.jsx(xp,{})},{id:"keyboard",title:"Keyboard",span:2,render:()=>s.jsx(ap,{})}],j=Z(P=>P.layoutOrder),y=Z(P=>P.setLayoutOrder),b=H.useMemo(()=>({oscilloscope:{title:"Oscilloscope & Signal Shaping",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"This column stacks the live scope with the filter and envelope controls so you can see and hear how each tweak reshapes the voice in real time."}),s.jsx("h5",{children:"Oscilloscope"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Live waveform"})," shows the post-filter signalwatch for clipping, phase inversion, or DC offset."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Visual feedback"})," makes it easy to dial envelope curves or modulation depth by eye."]})]}),s.jsx("h5",{children:"Filter"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Filter Type"}),": switch between low-pass, high-pass, band-pass, or notch responses."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cutoff"}),": set the corner frequency (408 kHz)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Resonance"}),": emphasise frequencies around the cutoff for squelchy tones or formants."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Master"}),": trim the synth output to prevent overload after heavy resonance or drive."]})]}),s.jsx("h5",{children:"Envelope"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Attack/Decay"}),": tune how quickly the note ramps up and falls back."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sustain"}),": set the plateau level while a key is held."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Release"}),": control how long the tail rings once the note stops."]})]}),s.jsx("h5",{children:"Workflow Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Start with moderate sustain and adjust cutoff until the oscilloscope shows a balanced waveform."}),s.jsx("li",{children:"Use short attacks with high resonance for plucky stabs, or longer releases for pads."})]})]})},oscillator:{title:"Oscillator Engine",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"The oscillator panel builds the raw tone. Switch between the classic dual-oscillator stack and the macro voice engine."}),s.jsx("h5",{children:"Classic Mode"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mode"}),": choose Classic to expose Osc 1 and Osc 2 controls; Macro flips to the multi-model engine."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Wave"}),": pick saw, square, triangle, sine, or noise per oscillator."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Detune/Fine"}),": detune Osc 1 in cents for chorus movement; fine tune provides subtle offsets."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": blend Osc 1 against Osc 2 to balance the tone."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FM toggle"}),": enable frequency modulation, then set ",s.jsx("strong",{children:"Ratio"})," for the modulator harmonic and ",s.jsx("strong",{children:"Amount"})," for depth."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ring toggle"}),": engage ring modulation and scale its ",s.jsx("strong",{children:"Amount"})," for metallic textures."]})]}),s.jsx("h5",{children:"Macro Mode"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Model"}),": jump between macro-oscillator flavours (VA, wavefold, pluck, FM 2-Op, etc.)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Harmonics/Timbre/Morph"}),": scan each models parameter setgreat for morphing wavetables or shaping plucks."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level"}),": trim the macro engine output when layering with other voices."]})]}),s.jsx("h5",{children:"Sound Design Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Stack slight detune plus a touch of ring modulation for wide analog pads."}),s.jsx("li",{children:"Macro models respond well to LFO or expression assignmentsmap CapsLock X/Y to Morph or Timbre for live movement."})]})]})},effects:{title:"Effects Rack",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Delay and reverb live here so you can finish a patch without leaving the synth view."}),s.jsx("h5",{children:"Delay"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": toggle the bucket-brigade style delay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Time"}),": set delay time in seconds (01.5s). Syncs nicely with tempo divisions."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Feedback"}),": control repeats; keep under ~0.7 for stable feedback."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": blend the wet signal back with the dry synth."]})]}),s.jsx("h5",{children:"Reverb"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": load the convolution reverb stage."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Size"}),": pick the impulse room length."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Decay"}),": shape how long the tail sustains."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": balance ambience without washing out the dry signal."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Short delay times with low mix create slapback for bass and plucks."}),s.jsx("li",{children:"Cut delay feedback when engaging heavy reverb to avoid muddiness."})]})]})},lfos:{title:"LFO Modulators",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Two low-frequency oscillators inject motion into almost any destination in the patch."}),s.jsx("h5",{children:"LFO Controls"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": arm the modulation path for each LFO."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Wave"}),": choose sine, triangle, square, or saw for the modulation shape."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dest"}),": route to pitch, filter, or amptie depth to macros or expression for more routings."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rate"}),": set frequency in Hz (0.0120); syncs with tempo when combined with the transport."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Amount"}),": scale modulation depth; automate this with the Sequencer or expression surface for evolving sounds."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Use LFO1 for slow filter sweeps and LFO2 for faster vibrato or tremolo."}),s.jsx("li",{children:"Disable the checkbox to park an LFO without losing its configuration."})]})]})},arp:{title:"Arpeggiator",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Turn held chords into rhythmic runs that follow the global transport."}),s.jsx("h5",{children:"Playback"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": start capturing held notes."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Latch"}),": keep notes running after you release the keys."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Clear"}),": flush the current latched chord without toggling the arp off."]})]}),s.jsx("h5",{children:"Timing"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mode"}),": set traversal (up, down, up/down, random, as played)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Octaves"}),": extend the pattern across 14 octaves."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Chord"}),": fold power chords, triads, or sevenths into each step."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Division"}),": choose rhythmic value (1/41/16T)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"BPM"}),": the slider writes to the global tempo so drums and sequencer stay in sync."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Gate/Swing"}),": tighten note length and groove feel."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Repeats/Length"}),": loop steps multiple times or clamp the pattern length."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Combine Latch with the Sequencer for counterpointthat way the arp handles chords while the sequencer drives lead lines."}),s.jsx("li",{children:"Use the expression surface to modulate filter cutoff while the arp runs for dynamic sweeps."})]})]})},sequencer:{title:"Step Sequencer",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Program note offsets and modulation lanes across up to 16 stepsperfect for basslines or evolving textures."}),s.jsx("h5",{children:"Transport & Timing"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Play"}),": toggles the shared transport; the button mirrors the space-bar shortcut."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": arm the sequencer without nuking your pattern."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Tempo"}),": linked to the global BPM so drums and arp line up."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Division"}),": set step rate (quarter to triplet sixteenths)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Length"}),": choose how many steps play before looping."]})]}),s.jsx("h5",{children:"Shape the Pattern"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Gate"}),": change note length; great for staccato acid lines."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Swing"}),": add shuffle (disabled for triplets and quarter notes)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Root"}),": slide the entire sequence up or down in pitch."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Edit Notes (Keyboard)"}),": enable to type notes with A/W/S; +/- nudges semitones, Z/X shifts the root octave."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Step grid"}),": click to toggle notes, ",s.jsx("strong",{children:"Alt+click"})," raises semitone offset, right-click lowers it."]})]}),s.jsx("h5",{children:"Visual Feedback"}),s.jsxs("ul",{children:[s.jsx("li",{children:"The highlighted cell shows the playhead; cursor outlines follow keyboard edit focus."}),s.jsx("li",{children:"Offsets in the cells (+/- values) represent semitone shifts relative to Root."})]})]})},drum:{title:"Drum Machine",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Create percussive backbeats that share tempo and transport with the synth voice."}),s.jsx("h5",{children:"Transport"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Play/Stop"}),": drives the global clock, so sequencer and arp follow the same BPM."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Tempo"}),": change BPM with the sliderapplies everywhere."]})]}),s.jsx("h5",{children:"Programming"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Step buttons"}),": click to toggle hits for kick, snare, and hat; glowing steps are active."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Current step highlight"}),": a brighter cell shows the beat currently firing."]}),s.jsx("li",{children:"Each instrument has its own SynthEngine voice with curated patches for punchy drums."})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Start with the default 4-on-the-floor kick and build snare/hat syncopation around it."}),s.jsx("li",{children:"Layer sequencer basslines with hats on offbeats for instant groove."})]})]})},keyboard:{title:"Keyboard & Performance",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Play and monitor incoming notes from both the computer keyboard and external MIDI controllers."}),s.jsx("h5",{children:"Computer Keys"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mapping"}),": A/W/S/D/F/G map to white and black keys; apostrophe reaches two octaves up."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Z / X"}),": shift the octave indicator down or up in 12-semitone jumps."]}),s.jsx("li",{children:"Held keys appear highlighted so you always know what is sustaining."})]}),s.jsx("h5",{children:"Pointer & Touch"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Click or drag for glissando; multi-touch (trackpad/tablet) keeps parallel notes held."}),s.jsx("li",{children:"Black keys float above the whites for accurate gliss transitions."})]}),s.jsx("h5",{children:"MIDI Integration"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Notes triggered from external hardware light up alongside local keysgreat for debugging MIDI routing."}),s.jsx("li",{children:"The octave badge shows the base MIDI note and offset so you can align hardware controllers quickly."})]})]})}}),[]),T=w?b[w]:null;return s.jsxs("div",{className:"app",children:[s.jsx(Np,{}),s.jsx(Rp,{}),s.jsx(Ep,{}),s.jsxs("header",{className:"header",children:[s.jsx("h2",{children:"WebSynth Studio"}),s.jsxs("div",{className:"row",children:[s.jsx("button",{onClick:g,children:u?"Audio Ready":"Power On"}),s.jsx("button",{onClick:()=>{v(!0)},children:"Help"}),s.jsx("button",{onClick:()=>p(!0),children:"Settings"})]})]}),s.jsx("main",{children:s.jsx(mp,{panels:C,order:j,onOrderChange:y,onRequestHelp:P=>{bp(P)&&h(P)}})}),s.jsx(hp,{}),s.jsx(so,{open:w!=null,onClose:()=>h(null),title:T?.title??"Module Help",closeLabel:"Close module help",children:T?.body??s.jsx("p",{children:"Help content coming soon."})}),s.jsx(so,{open:f,onClose:()=>{try{localStorage.setItem(yc,"1")}catch{}v(!1)},title:"Onboarding Guide",closeLabel:"Close help overlay",children:s.jsx(Tp,{})}),s.jsxs(so,{open:c,onClose:()=>p(!1),children:[s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"Patches"}),s.jsx(vp,{})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"Expression"}),s.jsx(gp,{})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"MIDI"}),s.jsx(Cp,{})]})]}),s.jsx(Sp,{})]})}const Dp=Pf.createRoot(document.getElementById("root"));Dp.render(s.jsx(Ip,{}));
