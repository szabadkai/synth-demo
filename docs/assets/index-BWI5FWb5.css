:root{--bg: #0e0f12;--panel: #181b20;--accent: #68d391;--accent-2: #63b3ed;--text: #e5e7eb;--muted: #9ca3af;--viz-bg: #05070b;--viz-stroke: #00ffd5;--viz-border: #273244}*{box-sizing:border-box}html,body,#root{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:linear-gradient(180deg,#0f1115,#0a0b0e)}.app{display:flex;flex-direction:column;min-height:100%;position:relative}.github-corner{position:fixed;top:3px;left:3px;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;background:#111319;border:1px solid #2a3040;color:var(--text);text-decoration:none;transition:transform .12s ease,color .12s ease,border-color .12s ease;z-index:20}.github-corner:hover{transform:scale(1.05);color:var(--accent-2);border-color:var(--accent-2)}.github-corner svg{width:22px;height:22px;fill:currentColor}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.app>main{flex:1;overflow:auto}.header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--panel);border-bottom:1px solid #1f2430}.onboarding-guide{display:flex;flex-direction:column;gap:16px}.onboarding-intro{margin:0;color:var(--muted);font-size:14px;line-height:1.5}.onboarding-list{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:20px}.onboarding-section h4{margin:0 0 8px;font-size:15px;letter-spacing:.04em;text-transform:uppercase;color:var(--accent-2)}.onboarding-section ul{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:6px;font-size:14px;line-height:1.5}.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:16px}.panel{background:#13161b;border:1px solid #222631;border-radius:8px;padding:12px}.panel h3{margin:0 0 8px;font-size:14px;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.button,button{background:#1c202a;border:1px solid #2a3040;color:var(--text);border-radius:6px;padding:8px 12px;cursor:pointer}input[type=range]{appearance:none;-webkit-appearance:none;width:100%;height:6px;background:#111319;border-radius:4px;border:1px solid #2a3040}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;background:var(--accent);border-radius:50%;border:1px solid #2a3040}input[type=range]::-moz-range-thumb{width:14px;height:14px;background:var(--accent);border-radius:50%;border:1px solid #2a3040}select,input[type=number],input[type=text]{background:#111319;border:1px solid #2a3040;color:var(--text);border-radius:6px;padding:6px 8px}.keyboard{display:flex;flex-direction:column;gap:8px;-webkit-user-select:none;user-select:none}.keys-and-help{display:flex;align-items:flex-start;gap:12px}.key{width:28px;height:140px;background:#f8fafc;border:1px solid #e5e7eb;border-radius:4px;position:relative;cursor:pointer}.key.black{width:20px;height:90px;background:#0b0f16;border-color:#111927;position:absolute;top:0;z-index:2}.key .key-label{position:absolute;bottom:4px;left:50%;transform:translate(-50%);font-size:10px;line-height:1;color:#111827;opacity:.9;pointer-events:none;-webkit-user-select:none;user-select:none}.key.black .key-label{color:#e5e7eb;opacity:.85}.keys-row{position:relative;display:flex}.keys-row{-ms-touch-action:none;touch-action:none}.kbd-help{display:flex;flex-direction:column;gap:6px;padding:8px;background:#111319;border:1px solid #2a3040;border-radius:6px;min-width:120px}.kbd-help .badge{margin-right:0;margin-bottom:4px}.kbd-row{display:flex;align-items:center;gap:8px}.hint-text{font-size:12px;color:var(--muted)}.controls-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.controls-grid>label{display:grid;gap:6px}.controls-grid select{width:100%}select:disabled,input[disabled],input[type=range][disabled]{opacity:.6;cursor:not-allowed}.label{font-size:12px;color:var(--muted)}.value{font-size:12px;color:var(--text);opacity:.9}.kbd{display:inline-flex;align-items:center;justify-content:center;min-width:22px;height:20px;padding:0 6px;font-size:12px;color:#cfe9ff;background:#0a2a3f;border:1px solid #2a4a5f;border-radius:4px}.badge{display:inline-block;padding:2px 6px;margin-right:6px;font-size:11px;text-transform:uppercase;letter-spacing:.06em;color:#ffe7a3;background:#3a2a05;border:1px solid #5e4707;border-radius:999px}.expression-overlay{position:fixed;bottom:16px;right:16px;background:#111319e0;border:1px solid #2a3040;border-radius:8px;padding:10px 14px;font-size:12px;color:var(--muted);pointer-events:none;transition:color .2s ease,border-color .2s ease,box-shadow .2s ease;box-shadow:0 8px 20px #00000059;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.expression-overlay.active{color:var(--accent);border-color:#68d39180;box-shadow:0 10px 28px #68d39159}.expression-label{text-transform:uppercase;letter-spacing:.12em;font-size:11px;margin-bottom:4px;opacity:.8}.expression-status{font-size:12px}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-auto-rows:minmax(220px,auto);gap:16px;padding:16px;width:100%;box-sizing:border-box}.dashboard-panel{display:flex;flex-direction:column;cursor:grab;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;position:relative}.dashboard-panel:active{cursor:grabbing}.dashboard-panel.dragging{opacity:.6;box-shadow:0 12px 24px #00000059;transform:scale(1.02)}.dashboard-panel.drop-before:before,.dashboard-panel.drop-after:after{content:"";position:absolute;left:12px;right:12px;height:3px;background:var(--accent);border-radius:999px;opacity:0;transition:opacity .1s ease}.dashboard-panel.drop-before:before{top:6px}.dashboard-panel.drop-after:after{bottom:6px}.dashboard-panel.drop-before:before,.dashboard-panel.drop-after:after{opacity:1}.dashboard-grid.drop-end:after{content:"";position:fixed;left:32px;right:32px;bottom:24px;height:3px;background:var(--accent);border-radius:999px;opacity:.4;pointer-events:none}.panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.panel-actions{display:inline-flex;align-items:center;gap:6px}.panel-help-button{width:24px;height:24px;border-radius:50%;border:1px solid #2a3040;background:#1c202a;color:var(--accent-2);font-size:14px;line-height:1;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,color .15s ease,border-color .15s ease}.panel-help-button:hover{background:#63b3ed26;border-color:var(--accent-2);color:#fff}.panel-title{margin:0;font-size:14px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}.panel-drag-hint{font-size:16px;opacity:.6;pointer-events:auto;-webkit-user-select:none;user-select:none;cursor:grab;display:inline-flex;align-items:center;padding:2px 6px;border-radius:6px;transition:background .15s ease,opacity .15s ease}.panel-drag-hint:active{cursor:grabbing;opacity:.9;background:#63b3ed26}.panel-body{flex:1;display:flex;flex-direction:column;gap:12px}.dashboard-panel .controls-grid{flex:1}.modal-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;pointer-events:none}.modal-backdrop{position:fixed;inset:0;background:#0a0c10b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);pointer-events:auto}.modal{position:relative;background:#11141b;border:1px solid #2a3040;border-radius:12px;width:min(760px,92%);max-height:90vh;display:flex;flex-direction:column;box-shadow:0 24px 48px #00000073;pointer-events:auto;z-index:51}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #1f2430}.modal-title{margin:0;font-size:16px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}.modal-close{background:transparent;border:none;color:var(--muted);font-size:24px;line-height:1;padding:0 4px;cursor:pointer}.modal-body{padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:24px}.module-help{display:flex;flex-direction:column;gap:14px;font-size:14px;line-height:1.55;color:var(--text)}.module-help p{margin:0}.module-help h5{margin:0;font-size:13px;letter-spacing:.06em;text-transform:uppercase;color:var(--accent-2)}.module-help ul{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:6px;color:var(--muted)}.module-help li{margin:0}.module-help li strong{color:var(--text)}.settings-section{display:flex;flex-direction:column;gap:16px;background:#13161b;border:1px solid #222631;border-radius:10px;padding:16px}.settings-card{display:flex;flex-direction:column;gap:12px;font-size:13px;color:var(--muted)}.settings-row{display:flex;align-items:center;justify-content:space-between;gap:12px}.settings-label{font-size:12px;letter-spacing:.05em;text-transform:uppercase}.settings-value{font-size:12px;color:var(--text)}.settings-card select{background:#0b0f16;color:var(--text);border:1px solid #1f2937;border-radius:6px;padding:6px 10px;font-size:12px}.settings-card input[type=checkbox]{width:18px;height:18px}.settings-help{margin:0;font-size:12px;color:var(--muted)}.settings-heading{margin:0;font-size:14px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}.drum-machine{display:flex;flex-direction:column;gap:16px}.drum-controls{display:flex;gap:16px;align-items:center;flex-wrap:wrap}.tempo-control{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted)}.tempo-control input[type=range]{width:160px}.tempo-value{font-size:12px;color:var(--text)}.drum-grid{display:flex;flex-direction:column;gap:10px}.drum-row{display:grid;grid-template-columns:80px 1fr;gap:12px;align-items:center}.drum-label{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}.drum-steps{display:grid;grid-template-columns:repeat(16,minmax(0,1fr));gap:4px}.drum-step{width:100%;padding-top:100%;position:relative;border:1px solid #242a36;border-radius:4px;background:#11141b;cursor:pointer;transition:background .15s ease,border-color .15s ease,box-shadow .15s ease}.drum-step:after{content:"";position:absolute;inset:20%;border-radius:2px;background:#2a3140;transition:background .15s ease}.drum-step.active{border-color:#68d391e6;box-shadow:0 0 0 1px #68d3914d}.drum-step.active:after{background:#68d391cc}.drum-step.current{border-color:#63b3ede6;box-shadow:0 0 0 2px #63b3ed59}.sequence-panel{display:flex;flex-direction:column;gap:16px}.sequence-controls{display:flex;flex-wrap:wrap;gap:16px;align-items:center}.play-button{background:linear-gradient(135deg,#f6ad55,#f59e0b);border:none;color:#0b0f16;font-weight:600;padding:8px 16px;border-radius:6px;cursor:pointer;transition:transform .1s ease}.play-button:disabled{opacity:.4;cursor:not-allowed}.play-button:not(:disabled):hover{transform:translateY(-1px)}.sequence-toggle{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--muted)}.sequence-root{grid-column:1 / -1;display:flex;align-items:center;gap:12px}.sequence-body{display:flex;flex-direction:column;gap:16px}.filter-panel{display:flex;flex-direction:column;gap:10px}.filter-row{display:flex;align-items:center;justify-content:space-between;gap:24px}.filter-type{display:flex;flex-direction:column;gap:6px}.filter-knobs{display:inline-flex;gap:10px;align-items:flex-end;flex-wrap:wrap}.effects-panel{display:flex;flex-direction:column;gap:12px}.effects-row{display:flex;align-items:center;gap:16px}.effects-heading{width:60px;font-size:12px;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}.effects-knobs{display:inline-flex;gap:12px}.oscilloscope-stack{display:flex;flex-direction:column;gap:12px}.oscilloscope-stack canvas{height:160px!important}.oscilloscope-row{display:flex;gap:12px;flex-wrap:wrap}.oscilloscope-row>*{flex:1 1 260px}.arp-status{font-size:11px;letter-spacing:.08em;text-transform:uppercase;color:var(--accent)}.envelope-panel{display:flex;justify-content:center}.envelope-knobs{display:inline-flex;gap:10px;flex-wrap:wrap;justify-content:center}.knob-group{display:flex;flex-direction:column;align-items:center;gap:4px}.osc-knob-row{display:inline-flex;gap:12px;flex-wrap:wrap;align-items:flex-end}.lfo-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.lfo-toggle{display:inline-flex;align-items:center;gap:8px;min-width:80px}.lfo-select{display:flex;flex-direction:column;gap:4px}.expression-panel{display:flex;flex-direction:column;gap:12px}.expression-row{display:flex;flex-direction:column;gap:6px}.expression-row p{margin:0;font-size:12px;color:var(--muted)}
