(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))c(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const v of f.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function i(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerPolicy&&(f.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?f.credentials="include":p.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(p){if(p.ep)return;p.ep=!0;const f=i(p);fetch(p.href,f)}})();function yc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Qo={exports:{}},Br={},Ko={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function xf(){if(Yu)return je;Yu=1;var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=k&&j[k]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function R(j,D,ge){this.props=j,this.context=D,this.refs=L,this.updater=ge||b}R.prototype.isReactComponent={},R.prototype.setState=function(j,D){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,D,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=R.prototype;function H(j,D,ge){this.props=j,this.context=D,this.refs=L,this.updater=ge||b}var te=H.prototype=new I;te.constructor=H,T(te,R.prototype),te.isPureReactComponent=!0;var V=Array.isArray,K=Object.prototype.hasOwnProperty,E={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function C(j,D,ge){var ue,Se={},ve=null,ke=null;if(D!=null)for(ue in D.ref!==void 0&&(ke=D.ref),D.key!==void 0&&(ve=""+D.key),D)K.call(D,ue)&&!z.hasOwnProperty(ue)&&(Se[ue]=D[ue]);var Me=arguments.length-2;if(Me===1)Se.children=ge;else if(1<Me){for(var _e=Array(Me),ie=0;ie<Me;ie++)_e[ie]=arguments[ie+2];Se.children=_e}if(j&&j.defaultProps)for(ue in Me=j.defaultProps,Me)Se[ue]===void 0&&(Se[ue]=Me[ue]);return{$$typeof:u,type:j,key:ve,ref:ke,props:Se,_owner:E.current}}function O(j,D){return{$$typeof:u,type:j.type,key:D,ref:j.ref,props:j.props,_owner:j._owner}}function J(j){return typeof j=="object"&&j!==null&&j.$$typeof===u}function Z(j){var D={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return D[ge]})}var me=/\/+/g;function we(j,D){return typeof j=="object"&&j!==null&&j.key!=null?Z(""+j.key):D.toString(36)}function oe(j,D,ge,ue,Se){var ve=typeof j;(ve==="undefined"||ve==="boolean")&&(j=null);var ke=!1;if(j===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(j.$$typeof){case u:case a:ke=!0}}if(ke)return ke=j,Se=Se(ke),j=ue===""?"."+we(ke,0):ue,V(Se)?(ge="",j!=null&&(ge=j.replace(me,"$&/")+"/"),oe(Se,D,ge,"",function(ie){return ie})):Se!=null&&(J(Se)&&(Se=O(Se,ge+(!Se.key||ke&&ke.key===Se.key?"":(""+Se.key).replace(me,"$&/")+"/")+j)),D.push(Se)),1;if(ke=0,ue=ue===""?".":ue+":",V(j))for(var Me=0;Me<j.length;Me++){ve=j[Me];var _e=ue+we(ve,Me);ke+=oe(ve,D,ge,_e,Se)}else if(_e=S(j),typeof _e=="function")for(j=_e.call(j),Me=0;!(ve=j.next()).done;)ve=ve.value,_e=ue+we(ve,Me++),ke+=oe(ve,D,ge,_e,Se);else if(ve==="object")throw D=String(j),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ke}function ae(j,D,ge){if(j==null)return j;var ue=[],Se=0;return oe(j,ue,"","",function(ve){return D.call(ge,ve,Se++)}),ue}function Te(j){if(j._status===-1){var D=j._result;D=D(),D.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=D)}if(j._status===1)return j._result.default;throw j._result}var pe={current:null},$={transition:null},le={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:$,ReactCurrentOwner:E};function Q(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ae,forEach:function(j,D,ge){ae(j,function(){D.apply(this,arguments)},ge)},count:function(j){var D=0;return ae(j,function(){D++}),D},toArray:function(j){return ae(j,function(D){return D})||[]},only:function(j){if(!J(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=R,je.Fragment=i,je.Profiler=p,je.PureComponent=H,je.StrictMode=c,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,je.act=Q,je.cloneElement=function(j,D,ge){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ue=T({},j.props),Se=j.key,ve=j.ref,ke=j._owner;if(D!=null){if(D.ref!==void 0&&(ve=D.ref,ke=E.current),D.key!==void 0&&(Se=""+D.key),j.type&&j.type.defaultProps)var Me=j.type.defaultProps;for(_e in D)K.call(D,_e)&&!z.hasOwnProperty(_e)&&(ue[_e]=D[_e]===void 0&&Me!==void 0?Me[_e]:D[_e])}var _e=arguments.length-2;if(_e===1)ue.children=ge;else if(1<_e){Me=Array(_e);for(var ie=0;ie<_e;ie++)Me[ie]=arguments[ie+2];ue.children=Me}return{$$typeof:u,type:j.type,key:Se,ref:ve,props:ue,_owner:ke}},je.createContext=function(j){return j={$$typeof:v,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:f,_context:j},j.Consumer=j},je.createElement=C,je.createFactory=function(j){var D=C.bind(null,j);return D.type=j,D},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:x,render:j}},je.isValidElement=J,je.lazy=function(j){return{$$typeof:M,_payload:{_status:-1,_result:j},_init:Te}},je.memo=function(j,D){return{$$typeof:g,type:j,compare:D===void 0?null:D}},je.startTransition=function(j){var D=$.transition;$.transition={};try{j()}finally{$.transition=D}},je.unstable_act=Q,je.useCallback=function(j,D){return pe.current.useCallback(j,D)},je.useContext=function(j){return pe.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return pe.current.useDeferredValue(j)},je.useEffect=function(j,D){return pe.current.useEffect(j,D)},je.useId=function(){return pe.current.useId()},je.useImperativeHandle=function(j,D,ge){return pe.current.useImperativeHandle(j,D,ge)},je.useInsertionEffect=function(j,D){return pe.current.useInsertionEffect(j,D)},je.useLayoutEffect=function(j,D){return pe.current.useLayoutEffect(j,D)},je.useMemo=function(j,D){return pe.current.useMemo(j,D)},je.useReducer=function(j,D,ge){return pe.current.useReducer(j,D,ge)},je.useRef=function(j){return pe.current.useRef(j)},je.useState=function(j){return pe.current.useState(j)},je.useSyncExternalStore=function(j,D,ge){return pe.current.useSyncExternalStore(j,D,ge)},je.useTransition=function(){return pe.current.useTransition()},je.version="18.3.1",je}var Xu;function Wr(){return Xu||(Xu=1,Ko.exports=xf()),Ko.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function wf(){if(Zu)return Br;Zu=1;var u=Wr(),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function v(x,h,g){var M,k={},S=null,b=null;g!==void 0&&(S=""+g),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(b=h.ref);for(M in h)c.call(h,M)&&!f.hasOwnProperty(M)&&(k[M]=h[M]);if(x&&x.defaultProps)for(M in h=x.defaultProps,h)k[M]===void 0&&(k[M]=h[M]);return{$$typeof:a,type:x,key:S,ref:b,props:k,_owner:p.current}}return Br.Fragment=i,Br.jsx=v,Br.jsxs=v,Br}var Ju;function Sf(){return Ju||(Ju=1,Qo.exports=wf()),Qo.exports}var l=Sf(),Js={},Yo={exports:{}},gt={},Xo={exports:{}},Zo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec;function kf(){return ec||(ec=1,(function(u){function a($,le){var Q=$.length;$.push(le);e:for(;0<Q;){var j=Q-1>>>1,D=$[j];if(0<p(D,le))$[j]=le,$[Q]=D,Q=j;else break e}}function i($){return $.length===0?null:$[0]}function c($){if($.length===0)return null;var le=$[0],Q=$.pop();if(Q!==le){$[0]=Q;e:for(var j=0,D=$.length,ge=D>>>1;j<ge;){var ue=2*(j+1)-1,Se=$[ue],ve=ue+1,ke=$[ve];if(0>p(Se,Q))ve<D&&0>p(ke,Se)?($[j]=ke,$[ve]=Q,j=ve):($[j]=Se,$[ue]=Q,j=ue);else if(ve<D&&0>p(ke,Q))$[j]=ke,$[ve]=Q,j=ve;else break e}}return le}function p($,le){var Q=$.sortIndex-le.sortIndex;return Q!==0?Q:$.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var v=Date,x=v.now();u.unstable_now=function(){return v.now()-x}}var h=[],g=[],M=1,k=null,S=3,b=!1,T=!1,L=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te($){for(var le=i(g);le!==null;){if(le.callback===null)c(g);else if(le.startTime<=$)c(g),le.sortIndex=le.expirationTime,a(h,le);else break;le=i(g)}}function V($){if(L=!1,te($),!T)if(i(h)!==null)T=!0,Te(K);else{var le=i(g);le!==null&&pe(V,le.startTime-$)}}function K($,le){T=!1,L&&(L=!1,I(C),C=-1),b=!0;var Q=S;try{for(te(le),k=i(h);k!==null&&(!(k.expirationTime>le)||$&&!Z());){var j=k.callback;if(typeof j=="function"){k.callback=null,S=k.priorityLevel;var D=j(k.expirationTime<=le);le=u.unstable_now(),typeof D=="function"?k.callback=D:k===i(h)&&c(h),te(le)}else c(h);k=i(h)}if(k!==null)var ge=!0;else{var ue=i(g);ue!==null&&pe(V,ue.startTime-le),ge=!1}return ge}finally{k=null,S=Q,b=!1}}var E=!1,z=null,C=-1,O=5,J=-1;function Z(){return!(u.unstable_now()-J<O)}function me(){if(z!==null){var $=u.unstable_now();J=$;var le=!0;try{le=z(!0,$)}finally{le?we():(E=!1,z=null)}}else E=!1}var we;if(typeof H=="function")we=function(){H(me)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=me,we=function(){ae.postMessage(null)}}else we=function(){R(me,0)};function Te($){z=$,E||(E=!0,we())}function pe($,le){C=R(function(){$(u.unstable_now())},le)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function($){$.callback=null},u.unstable_continueExecution=function(){T||b||(T=!0,Te(K))},u.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_getFirstCallbackNode=function(){return i(h)},u.unstable_next=function($){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var Q=S;S=le;try{return $()}finally{S=Q}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=S;S=$;try{return le()}finally{S=Q}},u.unstable_scheduleCallback=function($,le,Q){var j=u.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?j+Q:j):Q=j,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Q+D,$={id:M++,callback:le,priorityLevel:$,startTime:Q,expirationTime:D,sortIndex:-1},Q>j?($.sortIndex=Q,a(g,$),i(h)===null&&$===i(g)&&(L?(I(C),C=-1):L=!0,pe(V,Q-j))):($.sortIndex=D,a(h,$),T||b||(T=!0,Te(K))),$},u.unstable_shouldYield=Z,u.unstable_wrapCallback=function($){var le=S;return function(){var Q=S;S=le;try{return $.apply(this,arguments)}finally{S=Q}}}})(Zo)),Zo}var tc;function jf(){return tc||(tc=1,Xo.exports=kf()),Xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc;function Ef(){if(nc)return gt;nc=1;var u=Wr(),a=jf();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,p={};function f(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(p[e]=t,e=0;e<t.length;e++)c.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M={},k={};function S(e){return h.call(k,e)?!0:h.call(M,e)?!1:g.test(e)?k[e]=!0:(M[e]=!0,!1)}function b(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,r){if(t===null||typeof t>"u"||b(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function L(e,t,n,r,s,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new L(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new L(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new L(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new L(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new L(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new L(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,H);R[t]=new L(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,H);R[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,H);R[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)});function te(e,t,n,r){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,s,r)&&(n=null),r||s===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var V=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),E=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),$=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,j;function D(e){if(j===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var ge=!1;function ue(e,t){if(!e||ge)return"";ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),o=r.stack.split(`
`),d=s.length-1,m=o.length-1;1<=d&&0<=m&&s[d]!==o[m];)m--;for(;1<=d&&0<=m;d--,m--)if(s[d]!==o[m]){if(d!==1||m!==1)do if(d--,m--,0>m||s[d]!==o[m]){var y=`
`+s[d].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=d&&0<=m);break}}}finally{ge=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function Se(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case E:return"Portal";case O:return"Profiler";case C:return"StrictMode";case we:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case J:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){r=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ae(e){e._valueTracker||(e._valueTracker=ie(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ge(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function q(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fe(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Me(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ye(e,t){t=t.checked,t!=null&&te(e,"checked",t,!1)}function xe(e,t){ye(e,t);var n=Me(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jt(e,t.type,n):t.hasOwnProperty("defaultValue")&&jt(e,t.type,Me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jt(e,t,n){(t!=="number"||Ge(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qe=Array.isArray;function Le(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Me(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(qe(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Me(n)}}function Ee(e,t){var n=Me(t.value),r=Me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Et(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function be(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Et(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tt,xn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kc=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(e){kc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sr[t]=sr[e]})});function di(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sr.hasOwnProperty(e)&&sr[e]?(""+t).trim():t+"px"}function fi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=di(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var jc=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(e,t){if(t){if(jc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,On=null,bn=null;function pi(e){if(e=Cr(e)){if(typeof ul!="function")throw Error(i(280));var t=e.stateNode;t&&(t=hs(t),ul(e.stateNode,e.type,t))}}function hi(e){On?bn?bn.push(e):bn=[e]:On=e}function mi(){if(On){var e=On,t=bn;if(bn=On=null,pi(e),t)for(e=0;e<t.length;e++)pi(t[e])}}function vi(e,t){return e(t)}function gi(){}var cl=!1;function yi(e,t,n){if(cl)return e(t,n);cl=!0;try{return vi(e,t,n)}finally{cl=!1,(On!==null||bn!==null)&&(gi(),mi())}}function lr(e,t){var n=e.stateNode;if(n===null)return null;var r=hs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var dl=!1;if(x)try{var or={};Object.defineProperty(or,"passive",{get:function(){dl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{dl=!1}function Ec(e,t,n,r,s,o,d,m,y){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(A){this.onError(A)}}var ir=!1,$r=null,Gr=!1,fl=null,Mc={onError:function(e){ir=!0,$r=e}};function Cc(e,t,n,r,s,o,d,m,y){ir=!1,$r=null,Ec.apply(Mc,arguments)}function Nc(e,t,n,r,s,o,d,m,y){if(Cc.apply(this,arguments),ir){if(ir){var _=$r;ir=!1,$r=null}else throw Error(i(198));Gr||(Gr=!0,fl=_)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wi(e){if(wn(e)!==e)throw Error(i(188))}function Pc(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wi(s),e;if(o===r)return wi(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var d=!1,m=s.child;m;){if(m===n){d=!0,n=s,r=o;break}if(m===r){d=!0,r=s,n=o;break}m=m.sibling}if(!d){for(m=o.child;m;){if(m===n){d=!0,n=o,r=s;break}if(m===r){d=!0,r=o,n=s;break}m=m.sibling}if(!d)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Si(e){return e=Pc(e),e!==null?ki(e):null}function ki(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ki(e);if(t!==null)return t;e=e.sibling}return null}var ji=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Tc=a.unstable_shouldYield,_c=a.unstable_requestPaint,We=a.unstable_now,Lc=a.unstable_getCurrentPriorityLevel,pl=a.unstable_ImmediatePriority,Mi=a.unstable_UserBlockingPriority,Qr=a.unstable_NormalPriority,Rc=a.unstable_LowPriority,Ci=a.unstable_IdlePriority,Kr=null,At=null;function Oc(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Dc,bc=Math.log,Ic=Math.LN2;function Dc(e){return e>>>=0,e===0?32:31-(bc(e)/Ic|0)|0}var Yr=64,Xr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~s;m!==0?r=ar(m):(o&=d,o!==0&&(r=ar(o)))}else d=n&~s,d!==0?r=ar(d):o!==0&&(r=ar(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&s)===0&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rt(t),s=1<<n,r|=e[n],t&=~s;return r}function zc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-Rt(o),m=1<<d,y=s[d];y===-1?((m&n)===0||(m&r)!==0)&&(s[d]=zc(m,t)):y<=t&&(e.expiredLanes|=m),o&=~m}}function hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ni(){var e=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ur(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function Ac(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Rt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Oe=0;function Pi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ti,gl,_i,Li,Ri,yl=!1,Jr=[],Jt=null,en=null,tn=null,cr=new Map,dr=new Map,nn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function fr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Cr(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Bc(e,t,n,r,s){switch(t){case"focusin":return Jt=fr(Jt,e,t,n,r,s),!0;case"dragenter":return en=fr(en,e,t,n,r,s),!0;case"mouseover":return tn=fr(tn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return cr.set(o,fr(cr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,dr.set(o,fr(dr.get(o)||null,e,t,n,r,s)),!0}return!1}function bi(e){var t=Sn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=xi(n),t!==null){e.blockedOn=t,Ri(e.priority,function(){_i(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);il=r,n.target.dispatchEvent(r),il=null}else return t=Cr(n),t!==null&&gl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ii(e,t,n){es(e)&&n.delete(t)}function Uc(){yl=!1,Jt!==null&&es(Jt)&&(Jt=null),en!==null&&es(en)&&(en=null),tn!==null&&es(tn)&&(tn=null),cr.forEach(Ii),dr.forEach(Ii)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Uc)))}function hr(e){function t(s){return pr(s,e)}if(0<Jr.length){pr(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&pr(Jt,e),en!==null&&pr(en,e),tn!==null&&pr(tn,e),cr.forEach(t),dr.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)bi(n),n.blockedOn===null&&nn.shift()}var In=V.ReactCurrentBatchConfig,ts=!0;function Hc(e,t,n,r){var s=Oe,o=In.transition;In.transition=null;try{Oe=1,xl(e,t,n,r)}finally{Oe=s,In.transition=o}}function Vc(e,t,n,r){var s=Oe,o=In.transition;In.transition=null;try{Oe=4,xl(e,t,n,r)}finally{Oe=s,In.transition=o}}function xl(e,t,n,r){if(ts){var s=wl(e,t,n,r);if(s===null)zl(e,t,r,ns,n),Oi(e,r);else if(Bc(s,e,t,n,r))r.stopPropagation();else if(Oi(e,r),t&4&&-1<qc.indexOf(e)){for(;s!==null;){var o=Cr(s);if(o!==null&&Ti(o),o=wl(e,t,n,r),o===null&&zl(e,t,r,ns,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else zl(e,t,r,null,n)}}var ns=null;function wl(e,t,n,r){if(ns=null,e=al(r),e=Sn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ns=e,null}function Di(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lc()){case pl:return 1;case Mi:return 4;case Qr:case Rc:return 16;case Ci:return 536870912;default:return 16}default:return 16}}var rn=null,Sl=null,rs=null;function zi(){if(rs)return rs;var e,t=Sl,n=t.length,r,s="value"in rn?rn.value:rn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===s[o-r];r++);return rs=s.slice(e,1<r?1-r:void 0)}function ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Fi(){return!1}function xt(e){function t(n,r,s,o,d){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ls:Fi,this.isPropagationStopped=Fi,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=xt(Dn),mr=Q({},Dn,{view:0,detail:0}),Wc=xt(mr),jl,El,vr,os=Q({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(jl=e.screenX-vr.screenX,El=e.screenY-vr.screenY):El=jl=0,vr=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:El}}),Ai=xt(os),$c=Q({},os,{dataTransfer:0}),Gc=xt($c),Qc=Q({},mr,{relatedTarget:0}),Ml=xt(Qc),Kc=Q({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yc=xt(Kc),Xc=Q({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zc=xt(Xc),Jc=Q({},Dn,{data:0}),qi=xt(Jc),ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nd[e])?!!t[e]:!1}function Cl(){return rd}var sd=Q({},mr,{key:function(e){if(e.key){var t=ed[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?td[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ld=xt(sd),od=Q({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=xt(od),id=Q({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),ad=xt(id),ud=Q({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cd=xt(ud),dd=Q({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fd=xt(dd),pd=[9,13,27,32],Nl=x&&"CompositionEvent"in window,gr=null;x&&"documentMode"in document&&(gr=document.documentMode);var hd=x&&"TextEvent"in window&&!gr,Ui=x&&(!Nl||gr&&8<gr&&11>=gr),Hi=" ",Vi=!1;function Wi(e,t){switch(e){case"keyup":return pd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $i(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function md(e,t){switch(e){case"compositionend":return $i(t);case"keypress":return t.which!==32?null:(Vi=!0,Hi);case"textInput":return e=t.data,e===Hi&&Vi?null:e;default:return null}}function vd(e,t){if(zn)return e==="compositionend"||!Nl&&Wi(e,t)?(e=zi(),rs=Sl=rn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ui&&t.locale!=="ko"?null:t.data;default:return null}}var gd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gd[e.type]:t==="textarea"}function Qi(e,t,n,r){hi(r),t=ds(t,"onChange"),0<t.length&&(n=new kl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,xr=null;function yd(e){fa(e,0)}function is(e){var t=Un(e);if(He(t))return e}function xd(e,t){if(e==="change")return t}var Ki=!1;if(x){var Pl;if(x){var Tl="oninput"in document;if(!Tl){var Yi=document.createElement("div");Yi.setAttribute("oninput","return;"),Tl=typeof Yi.oninput=="function"}Pl=Tl}else Pl=!1;Ki=Pl&&(!document.documentMode||9<document.documentMode)}function Xi(){yr&&(yr.detachEvent("onpropertychange",Zi),xr=yr=null)}function Zi(e){if(e.propertyName==="value"&&is(xr)){var t=[];Qi(t,xr,e,al(e)),yi(yd,t)}}function wd(e,t,n){e==="focusin"?(Xi(),yr=t,xr=n,yr.attachEvent("onpropertychange",Zi)):e==="focusout"&&Xi()}function Sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return is(xr)}function kd(e,t){if(e==="click")return is(t)}function jd(e,t){if(e==="input"||e==="change")return is(t)}function Ed(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Ed;function wr(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!Ot(e[s],t[s]))return!1}return!0}function Ji(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n=Ji(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ji(n)}}function ta(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ta(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function na(){for(var e=window,t=Ge();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ge(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Md(e){var t=na(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ta(n.ownerDocument.documentElement,n)){if(r!==null&&_l(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ea(n,o);var d=ea(n,r);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cd=x&&"documentMode"in document&&11>=document.documentMode,Fn=null,Ll=null,Sr=null,Rl=!1;function ra(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rl||Fn==null||Fn!==Ge(r)||(r=Fn,"selectionStart"in r&&_l(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&wr(Sr,r)||(Sr=r,r=ds(Ll,"onSelect"),0<r.length&&(t=new kl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var An={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Ol={},sa={};x&&(sa=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function us(e){if(Ol[e])return Ol[e];if(!An[e])return e;var t=An[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sa)return Ol[e]=t[n];return e}var la=us("animationend"),oa=us("animationiteration"),ia=us("animationstart"),aa=us("transitionend"),ua=new Map,ca="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){ua.set(e,t),f(t,[e])}for(var bl=0;bl<ca.length;bl++){var Il=ca[bl],Nd=Il.toLowerCase(),Pd=Il[0].toUpperCase()+Il.slice(1);sn(Nd,"on"+Pd)}sn(la,"onAnimationEnd"),sn(oa,"onAnimationIteration"),sn(ia,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(aa,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Td=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function da(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nc(r,t,void 0,e),e.currentTarget=null}function fa(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],y=m.instance,_=m.currentTarget;if(m=m.listener,y!==o&&s.isPropagationStopped())break e;da(s,m,_),o=y}else for(d=0;d<r.length;d++){if(m=r[d],y=m.instance,_=m.currentTarget,m=m.listener,y!==o&&s.isPropagationStopped())break e;da(s,m,_),o=y}}}if(Gr)throw e=fl,Gr=!1,fl=null,e}function De(e,t){var n=t[Hl];n===void 0&&(n=t[Hl]=new Set);var r=e+"__bubble";n.has(r)||(pa(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),pa(n,e,r,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[cs]){e[cs]=!0,c.forEach(function(n){n!=="selectionchange"&&(Td.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,Dl("selectionchange",!1,t))}}function pa(e,t,n,r){switch(Di(t)){case 1:var s=Hc;break;case 4:s=Vc;break;default:s=xl}n=s.bind(null,t,n,e),s=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zl(e,t,n,r,s){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(d===4)for(d=r.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===s||y.nodeType===8&&y.parentNode===s))return;d=d.return}for(;m!==null;){if(d=Sn(m),d===null)return;if(y=d.tag,y===5||y===6){r=o=d;continue e}m=m.parentNode}}r=r.return}yi(function(){var _=o,A=al(n),B=[];e:{var F=ua.get(e);if(F!==void 0){var X=kl,ne=e;switch(e){case"keypress":if(ss(n)===0)break e;case"keydown":case"keyup":X=ld;break;case"focusin":ne="focus",X=Ml;break;case"focusout":ne="blur",X=Ml;break;case"beforeblur":case"afterblur":X=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ad;break;case la:case oa:case ia:X=Yc;break;case aa:X=cd;break;case"scroll":X=Wc;break;case"wheel":X=fd;break;case"copy":case"cut":case"paste":X=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bi}var re=(t&4)!==0,$e=!re&&e==="scroll",N=re?F!==null?F+"Capture":null:F;re=[];for(var w=_,P;w!==null;){P=w;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,N!==null&&(G=lr(w,N),G!=null&&re.push(Er(w,G,P)))),$e)break;w=w.return}0<re.length&&(F=new X(F,ne,null,n,A),B.push({event:F,listeners:re}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&n!==il&&(ne=n.relatedTarget||n.fromElement)&&(Sn(ne)||ne[Wt]))break e;if((X||F)&&(F=A.window===A?A:(F=A.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ne=n.relatedTarget||n.toElement,X=_,ne=ne?Sn(ne):null,ne!==null&&($e=wn(ne),ne!==$e||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(X=null,ne=_),X!==ne)){if(re=Ai,G="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(re=Bi,G="onPointerLeave",N="onPointerEnter",w="pointer"),$e=X==null?F:Un(X),P=ne==null?F:Un(ne),F=new re(G,w+"leave",X,n,A),F.target=$e,F.relatedTarget=P,G=null,Sn(A)===_&&(re=new re(N,w+"enter",ne,n,A),re.target=P,re.relatedTarget=$e,G=re),$e=G,X&&ne)t:{for(re=X,N=ne,w=0,P=re;P;P=qn(P))w++;for(P=0,G=N;G;G=qn(G))P++;for(;0<w-P;)re=qn(re),w--;for(;0<P-w;)N=qn(N),P--;for(;w--;){if(re===N||N!==null&&re===N.alternate)break t;re=qn(re),N=qn(N)}re=null}else re=null;X!==null&&ha(B,F,X,re,!1),ne!==null&&$e!==null&&ha(B,$e,ne,re,!0)}}e:{if(F=_?Un(_):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var se=xd;else if(Gi(F))if(Ki)se=jd;else{se=Sd;var ce=wd}else(X=F.nodeName)&&X.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(se=kd);if(se&&(se=se(e,_))){Qi(B,se,n,A);break e}ce&&ce(e,F,_),e==="focusout"&&(ce=F._wrapperState)&&ce.controlled&&F.type==="number"&&jt(F,"number",F.value)}switch(ce=_?Un(_):window,e){case"focusin":(Gi(ce)||ce.contentEditable==="true")&&(Fn=ce,Ll=_,Sr=null);break;case"focusout":Sr=Ll=Fn=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,ra(B,n,A);break;case"selectionchange":if(Cd)break;case"keydown":case"keyup":ra(B,n,A)}var de;if(Nl)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else zn?Wi(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(Ui&&n.locale!=="ko"&&(zn||he!=="onCompositionStart"?he==="onCompositionEnd"&&zn&&(de=zi()):(rn=A,Sl="value"in rn?rn.value:rn.textContent,zn=!0)),ce=ds(_,he),0<ce.length&&(he=new qi(he,e,null,n,A),B.push({event:he,listeners:ce}),de?he.data=de:(de=$i(n),de!==null&&(he.data=de)))),(de=hd?md(e,n):vd(e,n))&&(_=ds(_,"onBeforeInput"),0<_.length&&(A=new qi("onBeforeInput","beforeinput",null,n,A),B.push({event:A,listeners:_}),A.data=de))}fa(B,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=lr(e,n),o!=null&&r.unshift(Er(e,o,s)),o=lr(e,t),o!=null&&r.push(Er(e,o,s))),e=e.return}return r}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ha(e,t,n,r,s){for(var o=t._reactName,d=[];n!==null&&n!==r;){var m=n,y=m.alternate,_=m.stateNode;if(y!==null&&y===r)break;m.tag===5&&_!==null&&(m=_,s?(y=lr(n,o),y!=null&&d.unshift(Er(n,y,m))):s||(y=lr(n,o),y!=null&&d.push(Er(n,y,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var _d=/\r\n?/g,Ld=/\u0000|\uFFFD/g;function ma(e){return(typeof e=="string"?e:""+e).replace(_d,`
`).replace(Ld,"")}function fs(e,t,n){if(t=ma(t),ma(e)!==t&&n)throw Error(i(425))}function ps(){}var Fl=null,Al=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,Rd=typeof clearTimeout=="function"?clearTimeout:void 0,va=typeof Promise=="function"?Promise:void 0,Od=typeof queueMicrotask=="function"?queueMicrotask:typeof va<"u"?function(e){return va.resolve(null).then(e).catch(bd)}:Bl;function bd(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hr(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),qt="__reactFiber$"+Bn,Mr="__reactProps$"+Bn,Wt="__reactContainer$"+Bn,Hl="__reactEvents$"+Bn,Id="__reactListeners$"+Bn,Dd="__reactHandles$"+Bn;function Sn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ga(e);e!==null;){if(n=e[qt])return n;e=ga(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[qt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function hs(e){return e[Mr]||null}var Vl=[],Hn=-1;function on(e){return{current:e}}function ze(e){0>Hn||(e.current=Vl[Hn],Vl[Hn]=null,Hn--)}function Ie(e,t){Hn++,Vl[Hn]=e.current,e.current=t}var an={},lt=on(an),ft=on(!1),kn=an;function Vn(e,t){var n=e.type.contextTypes;if(!n)return an;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function ms(){ze(ft),ze(lt)}function ya(e,t,n){if(lt.current!==an)throw Error(i(168));Ie(lt,t),Ie(ft,n)}function xa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(i(108,ke(e)||"Unknown",s));return Q({},n,r)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,kn=lt.current,Ie(lt,e),Ie(ft,ft.current),!0}function wa(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=xa(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,ze(ft),ze(lt),Ie(lt,e)):ze(ft),Ie(ft,n)}var $t=null,gs=!1,Wl=!1;function Sa(e){$t===null?$t=[e]:$t.push(e)}function zd(e){gs=!0,Sa(e)}function un(){if(!Wl&&$t!==null){Wl=!0;var e=0,t=Oe;try{var n=$t;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,gs=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),ji(pl,un),s}finally{Oe=t,Wl=!1}}return null}var Wn=[],$n=0,ys=null,xs=0,Mt=[],Ct=0,jn=null,Gt=1,Qt="";function En(e,t){Wn[$n++]=xs,Wn[$n++]=ys,ys=e,xs=t}function ka(e,t,n){Mt[Ct++]=Gt,Mt[Ct++]=Qt,Mt[Ct++]=jn,jn=e;var r=Gt;e=Qt;var s=32-Rt(r)-1;r&=~(1<<s),n+=1;var o=32-Rt(t)+s;if(30<o){var d=s-s%5;o=(r&(1<<d)-1).toString(32),r>>=d,s-=d,Gt=1<<32-Rt(t)+s|n<<s|r,Qt=o+e}else Gt=1<<o|n<<s|r,Qt=e}function $l(e){e.return!==null&&(En(e,1),ka(e,1,0))}function Gl(e){for(;e===ys;)ys=Wn[--$n],Wn[$n]=null,xs=Wn[--$n],Wn[$n]=null;for(;e===jn;)jn=Mt[--Ct],Mt[Ct]=null,Qt=Mt[--Ct],Mt[Ct]=null,Gt=Mt[--Ct],Mt[Ct]=null}var wt=null,St=null,Fe=!1,bt=null;function ja(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ea(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,St=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:Gt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,St=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(Fe){var t=St;if(t){var n=t;if(!Ea(e,t)){if(Ql(e))throw Error(i(418));t=ln(n.nextSibling);var r=wt;t&&Ea(e,t)?ja(r,n):(e.flags=e.flags&-4097|2,Fe=!1,wt=e)}}else{if(Ql(e))throw Error(i(418));e.flags=e.flags&-4097|2,Fe=!1,wt=e}}}function Ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function ws(e){if(e!==wt)return!1;if(!Fe)return Ma(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=St)){if(Ql(e))throw Ca(),Error(i(418));for(;t;)ja(e,t),t=ln(t.nextSibling)}if(Ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=wt?ln(e.stateNode.nextSibling):null;return!0}function Ca(){for(var e=St;e;)e=ln(e.nextSibling)}function Gn(){St=wt=null,Fe=!1}function Yl(e){bt===null?bt=[e]:bt.push(e)}var Fd=V.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var m=s.refs;d===null?delete m[o]:m[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Na(e){var t=e._init;return t(e._payload)}function Pa(e){function t(N,w){if(e){var P=N.deletions;P===null?(N.deletions=[w],N.flags|=16):P.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function r(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function s(N,w){return N=gn(N,w),N.index=0,N.sibling=null,N}function o(N,w,P){return N.index=P,e?(P=N.alternate,P!==null?(P=P.index,P<w?(N.flags|=2,w):P):(N.flags|=2,w)):(N.flags|=1048576,w)}function d(N){return e&&N.alternate===null&&(N.flags|=2),N}function m(N,w,P,G){return w===null||w.tag!==6?(w=Uo(P,N.mode,G),w.return=N,w):(w=s(w,P),w.return=N,w)}function y(N,w,P,G){var se=P.type;return se===z?A(N,w,P.props.children,G,P.key):w!==null&&(w.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&Na(se)===w.type)?(G=s(w,P.props),G.ref=Nr(N,w,P),G.return=N,G):(G=Ws(P.type,P.key,P.props,null,N.mode,G),G.ref=Nr(N,w,P),G.return=N,G)}function _(N,w,P,G){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=Ho(P,N.mode,G),w.return=N,w):(w=s(w,P.children||[]),w.return=N,w)}function A(N,w,P,G,se){return w===null||w.tag!==7?(w=Rn(P,N.mode,G,se),w.return=N,w):(w=s(w,P),w.return=N,w)}function B(N,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Uo(""+w,N.mode,P),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case K:return P=Ws(w.type,w.key,w.props,null,N.mode,P),P.ref=Nr(N,null,w),P.return=N,P;case E:return w=Ho(w,N.mode,P),w.return=N,w;case Te:var G=w._init;return B(N,G(w._payload),P)}if(qe(w)||le(w))return w=Rn(w,N.mode,P,null),w.return=N,w;Ss(N,w)}return null}function F(N,w,P,G){var se=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return se!==null?null:m(N,w,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===se?y(N,w,P,G):null;case E:return P.key===se?_(N,w,P,G):null;case Te:return se=P._init,F(N,w,se(P._payload),G)}if(qe(P)||le(P))return se!==null?null:A(N,w,P,G,null);Ss(N,P)}return null}function X(N,w,P,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return N=N.get(P)||null,m(w,N,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return N=N.get(G.key===null?P:G.key)||null,y(w,N,G,se);case E:return N=N.get(G.key===null?P:G.key)||null,_(w,N,G,se);case Te:var ce=G._init;return X(N,w,P,ce(G._payload),se)}if(qe(G)||le(G))return N=N.get(P)||null,A(w,N,G,se,null);Ss(w,G)}return null}function ne(N,w,P,G){for(var se=null,ce=null,de=w,he=w=0,et=null;de!==null&&he<P.length;he++){de.index>he?(et=de,de=null):et=de.sibling;var Pe=F(N,de,P[he],G);if(Pe===null){de===null&&(de=et);break}e&&de&&Pe.alternate===null&&t(N,de),w=o(Pe,w,he),ce===null?se=Pe:ce.sibling=Pe,ce=Pe,de=et}if(he===P.length)return n(N,de),Fe&&En(N,he),se;if(de===null){for(;he<P.length;he++)de=B(N,P[he],G),de!==null&&(w=o(de,w,he),ce===null?se=de:ce.sibling=de,ce=de);return Fe&&En(N,he),se}for(de=r(N,de);he<P.length;he++)et=X(de,N,he,P[he],G),et!==null&&(e&&et.alternate!==null&&de.delete(et.key===null?he:et.key),w=o(et,w,he),ce===null?se=et:ce.sibling=et,ce=et);return e&&de.forEach(function(yn){return t(N,yn)}),Fe&&En(N,he),se}function re(N,w,P,G){var se=le(P);if(typeof se!="function")throw Error(i(150));if(P=se.call(P),P==null)throw Error(i(151));for(var ce=se=null,de=w,he=w=0,et=null,Pe=P.next();de!==null&&!Pe.done;he++,Pe=P.next()){de.index>he?(et=de,de=null):et=de.sibling;var yn=F(N,de,Pe.value,G);if(yn===null){de===null&&(de=et);break}e&&de&&yn.alternate===null&&t(N,de),w=o(yn,w,he),ce===null?se=yn:ce.sibling=yn,ce=yn,de=et}if(Pe.done)return n(N,de),Fe&&En(N,he),se;if(de===null){for(;!Pe.done;he++,Pe=P.next())Pe=B(N,Pe.value,G),Pe!==null&&(w=o(Pe,w,he),ce===null?se=Pe:ce.sibling=Pe,ce=Pe);return Fe&&En(N,he),se}for(de=r(N,de);!Pe.done;he++,Pe=P.next())Pe=X(de,N,he,Pe.value,G),Pe!==null&&(e&&Pe.alternate!==null&&de.delete(Pe.key===null?he:Pe.key),w=o(Pe,w,he),ce===null?se=Pe:ce.sibling=Pe,ce=Pe);return e&&de.forEach(function(yf){return t(N,yf)}),Fe&&En(N,he),se}function $e(N,w,P,G){if(typeof P=="object"&&P!==null&&P.type===z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var se=P.key,ce=w;ce!==null;){if(ce.key===se){if(se=P.type,se===z){if(ce.tag===7){n(N,ce.sibling),w=s(ce,P.props.children),w.return=N,N=w;break e}}else if(ce.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&Na(se)===ce.type){n(N,ce.sibling),w=s(ce,P.props),w.ref=Nr(N,ce,P),w.return=N,N=w;break e}n(N,ce);break}else t(N,ce);ce=ce.sibling}P.type===z?(w=Rn(P.props.children,N.mode,G,P.key),w.return=N,N=w):(G=Ws(P.type,P.key,P.props,null,N.mode,G),G.ref=Nr(N,w,P),G.return=N,N=G)}return d(N);case E:e:{for(ce=P.key;w!==null;){if(w.key===ce)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){n(N,w.sibling),w=s(w,P.children||[]),w.return=N,N=w;break e}else{n(N,w);break}else t(N,w);w=w.sibling}w=Ho(P,N.mode,G),w.return=N,N=w}return d(N);case Te:return ce=P._init,$e(N,w,ce(P._payload),G)}if(qe(P))return ne(N,w,P,G);if(le(P))return re(N,w,P,G);Ss(N,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(n(N,w.sibling),w=s(w,P),w.return=N,N=w):(n(N,w),w=Uo(P,N.mode,G),w.return=N,N=w),d(N)):n(N,w)}return $e}var Qn=Pa(!0),Ta=Pa(!1),ks=on(null),js=null,Kn=null,Xl=null;function Zl(){Xl=Kn=js=null}function Jl(e){var t=ks.current;ze(ks),e._currentValue=t}function eo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){js=e,Xl=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(js===null)throw Error(i(308));Kn=e,js.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var Mn=null;function to(e){Mn===null?Mn=[e]:Mn.push(e)}function _a(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,to(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ne&2)!==0){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kt(e,n)}return s=r.interleaved,s===null?(t.next=t,to(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kt(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var s=e.updateQueue;cn=!1;var o=s.firstBaseUpdate,d=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var y=m,_=y.next;y.next=null,d===null?o=_:d.next=_,d=y;var A=e.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==d&&(m===null?A.firstBaseUpdate=_:m.next=_,A.lastBaseUpdate=y))}if(o!==null){var B=s.baseState;d=0,A=_=y=null,m=o;do{var F=m.lane,X=m.eventTime;if((r&F)===F){A!==null&&(A=A.next={eventTime:X,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var ne=e,re=m;switch(F=t,X=n,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){B=ne.call(X,B,F);break e}B=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,F=typeof ne=="function"?ne.call(X,B,F):ne,F==null)break e;B=Q({},B,F);break e;case 2:cn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,F=s.effects,F===null?s.effects=[m]:F.push(m))}else X={eventTime:X,lane:F,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(_=A=X,y=B):A=A.next=X,d|=F;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;F=m,m=F.next,F.next=null,s.lastBaseUpdate=F,s.shared.pending=null}}while(!0);if(A===null&&(y=B),s.baseState=y,s.firstBaseUpdate=_,s.lastBaseUpdate=A,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Pn|=d,e.lanes=d,e.memoizedState=B}}function Oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(i(191,s));s.call(r)}}}var Pr={},Bt=on(Pr),Tr=on(Pr),_r=on(Pr);function Cn(e){if(e===Pr)throw Error(i(174));return e}function ro(e,t){switch(Ie(_r,t),Ie(Tr,e),Ie(Bt,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:be(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=be(t,e)}ze(Bt),Ie(Bt,t)}function Xn(){ze(Bt),ze(Tr),ze(_r)}function ba(e){Cn(_r.current);var t=Cn(Bt.current),n=be(t,e.type);t!==n&&(Ie(Tr,e),Ie(Bt,n))}function so(e){Tr.current===e&&(ze(Bt),ze(Tr))}var Be=on(0);function Cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function oo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var Ns=V.ReactCurrentDispatcher,io=V.ReactCurrentBatchConfig,Nn=0,Ue=null,Ke=null,Ze=null,Ps=!1,Lr=!1,Rr=0,Ad=0;function ot(){throw Error(i(321))}function ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function uo(e,t,n,r,s,o){if(Nn=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?Hd:Vd,e=n(r,s),Lr){o=0;do{if(Lr=!1,Rr=0,25<=o)throw Error(i(301));o+=1,Ze=Ke=null,t.updateQueue=null,Ns.current=Wd,e=n(r,s)}while(Lr)}if(Ns.current=Ls,t=Ke!==null&&Ke.next!==null,Nn=0,Ze=Ke=Ue=null,Ps=!1,t)throw Error(i(300));return e}function co(){var e=Rr!==0;return Rr=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ue.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Pt(){if(Ke===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Ze===null?Ue.memoizedState:Ze.next;if(t!==null)Ze=t,Ke=e;else{if(e===null)throw Error(i(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?Ue.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Or(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=Pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=Ke,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var d=s.next;s.next=o.next,o.next=d}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var m=d=null,y=null,_=o;do{var A=_.lane;if((Nn&A)===A)y!==null&&(y=y.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var B={lane:A,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};y===null?(m=y=B,d=r):y=y.next=B,Ue.lanes|=A,Pn|=A}_=_.next}while(_!==null&&_!==o);y===null?d=r:y.next=m,Ot(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,Pn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=Pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do o=e(o,d.action),d=d.next;while(d!==s);Ot(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ia(){}function Da(e,t){var n=Ue,r=Pt(),s=t(),o=!Ot(r.memoizedState,s);if(o&&(r.memoizedState=s,ht=!0),r=r.queue,ho(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,br(9,Fa.bind(null,n,r,s,t),void 0,null),Je===null)throw Error(i(349));(Nn&30)!==0||za(n,t,s)}return s}function za(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fa(e,t,n,r){t.value=n,t.getSnapshot=r,qa(t)&&Ba(e)}function Aa(e,t,n){return n(function(){qa(t)&&Ba(e)})}function qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Ba(e){var t=Kt(e,1);t!==null&&Ft(t,e,1,-1)}function Ua(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},t.queue=e,e=e.dispatch=Ud.bind(null,Ue,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ha(){return Pt().memoizedState}function Ts(e,t,n,r){var s=Ut();Ue.flags|=e,s.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function _s(e,t,n,r){var s=Pt();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var d=Ke.memoizedState;if(o=d.destroy,r!==null&&ao(r,d.deps)){s.memoizedState=br(t,n,o,r);return}}Ue.flags|=e,s.memoizedState=br(1|t,n,o,r)}function Va(e,t){return Ts(8390656,8,e,t)}function ho(e,t){return _s(2048,8,e,t)}function Wa(e,t){return _s(4,2,e,t)}function $a(e,t){return _s(4,4,e,t)}function Ga(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){return n=n!=null?n.concat([e]):null,_s(4,4,Ga.bind(null,t,e),n)}function mo(){}function Ka(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return(Nn&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n):(Ot(n,t)||(n=Ni(),Ue.lanes|=n,Pn|=n,e.baseState=!0),t)}function qd(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{Oe=n,io.transition=r}}function Za(){return Pt().memoizedState}function Bd(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))eu(t,n);else if(n=_a(e,t,n,r),n!==null){var s=ct();Ft(n,e,r,s),tu(n,t,r)}}function Ud(e,t,n){var r=mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))eu(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,m=o(d,n);if(s.hasEagerState=!0,s.eagerState=m,Ot(m,d)){var y=t.interleaved;y===null?(s.next=s,to(t)):(s.next=y.next,y.next=s),t.interleaved=s;return}}catch{}finally{}n=_a(e,t,s,r),n!==null&&(s=ct(),Ft(n,e,r,s),tu(n,t,r))}}function Ja(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function eu(e,t){Lr=Ps=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}var Ls={readContext:Nt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Hd={readContext:Nt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bd.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:Ua,useDebugValue:mo,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=qd.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=Ut();if(Fe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Je===null)throw Error(i(349));(Nn&30)!==0||za(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Va(Aa.bind(null,r,o,e),[e]),r.flags|=2048,br(9,Fa.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Je.identifierPrefix;if(Fe){var n=Qt,r=Gt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ad++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vd={readContext:Nt,useCallback:Ka,useContext:Nt,useEffect:ho,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:$a,useMemo:Ya,useReducer:fo,useRef:Ha,useState:function(){return fo(Or)},useDebugValue:mo,useDeferredValue:function(e){var t=Pt();return Xa(t,Ke.memoizedState,e)},useTransition:function(){var e=fo(Or)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1},Wd={readContext:Nt,useCallback:Ka,useContext:Nt,useEffect:ho,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:$a,useMemo:Ya,useReducer:po,useRef:Ha,useState:function(){return po(Or)},useDebugValue:mo,useDeferredValue:function(e){var t=Pt();return Ke===null?t.memoizedState=e:Xa(t,Ke.memoizedState,e)},useTransition:function(){var e=po(Or)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rs={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),s=mn(e),o=Yt(r,s);o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,s),t!==null&&(Ft(t,e,s,r),Es(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),s=mn(e),o=Yt(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,s),t!==null&&(Ft(t,e,s,r),Es(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=mn(e),s=Yt(n,r);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,r),t!==null&&(Ft(t,e,r,n),Es(t,e,r))}};function nu(e,t,n,r,s,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,d):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(s,o):!0}function ru(e,t,n){var r=!1,s=an,o=t.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(s=pt(t)?kn:lt.current,r=t.contextTypes,o=(r=r!=null)?Vn(e,s):an),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function su(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rs.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},no(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Nt(o):(o=pt(t)?kn:lt.current,s.context=Vn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(vo(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Rs.enqueueReplaceState(s,s.state,null),Ms(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",r=t;do n+=Se(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function yo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $d=typeof WeakMap=="function"?WeakMap:Map;function lu(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,bo=r),xo(e,t)},n}function ou(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xo(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xo(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $d;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=of.bind(null,e,t,n),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,n,r,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Gd=V.ReactCurrentOwner,ht=!1;function ut(e,t,n,r){t.child=e===null?Ta(t,null,n,r):Qn(t,e.child,n,r)}function cu(e,t,n,r,s){n=n.render;var o=t.ref;return Yn(t,s),r=uo(e,t,n,r,o,s),n=co(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xt(e,t,s)):(Fe&&n&&$l(t),t.flags|=1,ut(e,t,r,s),t.child)}function du(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Bo(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fu(e,t,o,r,s)):(e=Ws(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&s)===0){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(d,r)&&e.ref===t.ref)return Xt(e,t,s)}return t.flags|=1,e=gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(wr(o,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=o,(e.lanes&s)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Xt(e,t,s)}return wo(e,t,n,r,s)}function pu(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(er,kt),kt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(er,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ie(er,kt),kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ie(er,kt),kt|=r;return ut(e,t,s,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wo(e,t,n,r,s){var o=pt(n)?kn:lt.current;return o=Vn(t,o),Yn(t,s),n=uo(e,t,n,r,o,s),r=co(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xt(e,t,s)):(Fe&&r&&$l(t),t.flags|=1,ut(e,t,n,s),t.child)}function mu(e,t,n,r,s){if(pt(n)){var o=!0;vs(t)}else o=!1;if(Yn(t,s),t.stateNode===null)bs(e,t),ru(t,n,r),go(t,n,r,s),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var y=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=Nt(_):(_=pt(n)?kn:lt.current,_=Vn(t,_));var A=n.getDerivedStateFromProps,B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function";B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||y!==_)&&su(t,d,r,_),cn=!1;var F=t.memoizedState;d.state=F,Ms(t,r,d,s),y=t.memoizedState,m!==r||F!==y||ft.current||cn?(typeof A=="function"&&(vo(t,n,A,r),y=t.memoizedState),(m=cn||nu(t,n,m,r,F,y,_))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),d.props=r,d.state=y,d.context=_,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,La(e,t),m=t.memoizedProps,_=t.type===t.elementType?m:It(t.type,m),d.props=_,B=t.pendingProps,F=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Nt(y):(y=pt(n)?kn:lt.current,y=Vn(t,y));var X=n.getDerivedStateFromProps;(A=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==B||F!==y)&&su(t,d,r,y),cn=!1,F=t.memoizedState,d.state=F,Ms(t,r,d,s);var ne=t.memoizedState;m!==B||F!==ne||ft.current||cn?(typeof X=="function"&&(vo(t,n,X,r),ne=t.memoizedState),(_=cn||nu(t,n,_,r,F,ne,y)||!1)?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,ne,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,ne,y)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ne),d.props=r,d.state=ne,d.context=y,r=_):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),r=!1)}return So(e,t,n,r,o,s)}function So(e,t,n,r,s,o){hu(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return s&&wa(t,n,!1),Xt(e,t,o);r=t.stateNode,Gd.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Qn(t,e.child,null,o),t.child=Qn(t,null,m,o)):ut(e,t,m,o),t.memoizedState=r.state,s&&wa(t,n,!0),t.child}function vu(e){var t=e.stateNode;t.pendingContext?ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ya(e,t.context,!1),ro(e,t.containerInfo)}function gu(e,t,n,r,s){return Gn(),Yl(s),t.flags|=256,ut(e,t,n,r),t.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function yu(e,t,n){var r=t.pendingProps,s=Be.current,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(Be,s&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=r.children,e=r.fallback,o?(r=t.mode,o=t.child,d={mode:"hidden",children:d},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=d):o=$s(d,r,0,null),e=Rn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=ko,e):Eo(t,d));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return Qd(e,t,d,r,m,s,n);if(o){o=r.fallback,d=t.mode,s=e.child,m=s.sibling;var y={mode:"hidden",children:r.children};return(d&1)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=y,t.deletions=null):(r=gn(s,y),r.subtreeFlags=s.subtreeFlags&14680064),m!==null?o=gn(m,o):(o=Rn(o,d,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,d=e.child.memoizedState,d=d===null?jo(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=ko,r}return o=e.child,e=o.sibling,r=gn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eo(e,t){return t=$s({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Os(e,t,n,r){return r!==null&&Yl(r),Qn(t,e.child,null,n),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qd(e,t,n,r,s,o,d){if(n)return t.flags&256?(t.flags&=-257,r=yo(Error(i(422))),Os(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=$s({mode:"visible",children:r.children},s,0,null),o=Rn(o,s,d,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Qn(t,e.child,null,d),t.child.memoizedState=jo(d),t.memoizedState=ko,o);if((t.mode&1)===0)return Os(e,t,d,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var m=r.dgst;return r=m,o=Error(i(419)),r=yo(o,r,void 0),Os(e,t,d,r)}if(m=(d&e.childLanes)!==0,ht||m){if(r=Je,r!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|d))!==0?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kt(e,s),Ft(r,e,s,-1))}return qo(),r=yo(Error(i(421))),Os(e,t,d,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=af.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,St=ln(s.nextSibling),wt=t,Fe=!0,bt=null,e!==null&&(Mt[Ct++]=Gt,Mt[Ct++]=Qt,Mt[Ct++]=jn,Gt=e.id,Qt=e.overflow,jn=t),t=Eo(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eo(e.return,t,n)}function Mo(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function wu(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ut(e,t,r.children,n),r=Be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(Be,r),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mo(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mo(t,!0,n,null,o);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kd(e,t,n){switch(t.tag){case 3:vu(t),Gn();break;case 5:ba(t);break;case 1:pt(t.type)&&vs(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ie(ks,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Be,Be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yu(e,t,n):(Ie(Be,Be.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);Ie(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return wu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,n)}return Xt(e,t,n)}var Su,Co,ku,ju;Su=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Co=function(){},ku=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cn(Bt.current);var o=null;switch(n){case"input":s=q(e,s),r=q(e,r),o=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),o=[];break;case"textarea":s=dt(e,s),r=dt(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ps)}ll(n,r);var d;n=null;for(_ in s)if(!r.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var m=s[_];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(p.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in r){var y=r[_];if(m=s?.[_],r.hasOwnProperty(_)&&y!==m&&(y!=null||m!=null))if(_==="style")if(m){for(d in m)!m.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&m[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(o||(o=[]),o.push(_,n)),n=y;else _==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,m=m?m.__html:void 0,y!=null&&m!==y&&(o=o||[]).push(_,y)):_==="children"?typeof y!="string"&&typeof y!="number"||(o=o||[]).push(_,""+y):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(p.hasOwnProperty(_)?(y!=null&&_==="onScroll"&&De("scroll",e),o||m===y||(o=[])):(o=o||[]).push(_,y))}n&&(o=o||[]).push("style",n);var _=o;(t.updateQueue=_)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ir(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yd(e,t,n){var r=t.pendingProps;switch(Gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return pt(t.type)&&ms(),it(t),null;case 3:return r=t.stateNode,Xn(),ze(ft),ze(lt),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(zo(bt),bt=null))),Co(e,t),it(t),null;case 5:so(t);var s=Cn(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)ku(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(e=Cn(Bt.current),ws(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qt]=t,r[Mr]=o,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<kr.length;s++)De(kr[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":fe(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Vt(r,o),De("invalid",r)}ll(n,o),s=null;for(var d in o)if(o.hasOwnProperty(d)){var m=o[d];d==="children"?typeof m=="string"?r.textContent!==m&&(o.suppressHydrationWarning!==!0&&fs(r.textContent,m,e),s=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(o.suppressHydrationWarning!==!0&&fs(r.textContent,m,e),s=["children",""+m]):p.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&De("scroll",r)}switch(n){case"input":Ae(r),Xe(r,o,!0);break;case"textarea":Ae(r),Lt(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ps)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Et(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[qt]=t,e[Mr]=r,Su(e,t,!1,!1),t.stateNode=e;e:{switch(d=ol(n,r),n){case"dialog":De("cancel",e),De("close",e),s=r;break;case"iframe":case"object":case"embed":De("load",e),s=r;break;case"video":case"audio":for(s=0;s<kr.length;s++)De(kr[s],e);s=r;break;case"source":De("error",e),s=r;break;case"img":case"image":case"link":De("error",e),De("load",e),s=r;break;case"details":De("toggle",e),s=r;break;case"input":fe(e,r),s=q(e,r),De("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),De("invalid",e);break;case"textarea":Vt(e,r),s=dt(e,r),De("invalid",e);break;default:s=r}ll(n,s),m=s;for(o in m)if(m.hasOwnProperty(o)){var y=m[o];o==="style"?fi(e,y):o==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&xn(e,y)):o==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&rr(e,y):typeof y=="number"&&rr(e,""+y):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(p.hasOwnProperty(o)?y!=null&&o==="onScroll"&&De("scroll",e):y!=null&&te(e,o,y,d))}switch(n){case"input":Ae(e),Xe(e,r,!1);break;case"textarea":Ae(e),Lt(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Me(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Le(e,!!r.multiple,o,!1):r.defaultValue!=null&&Le(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)ju(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(n=Cn(_r.current),Cn(Bt.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(o=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return it(t),null;case 13:if(ze(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ca(),Gn(),t.flags|=98560,o=!1;else if(o=ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[qt]=t}else Gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else bt!==null&&(zo(bt),bt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?Ye===0&&(Ye=3):qo())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Xn(),Co(e,t),e===null&&jr(t.stateNode.containerInfo),it(t),null;case 10:return Jl(t.type._context),it(t),null;case 17:return pt(t.type)&&ms(),it(t),null;case 19:if(ze(Be),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,d=o.rendering,d===null)if(r)Ir(o,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Cs(e),d!==null){for(t.flags|=128,Ir(o,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ie(Be,Be.current&1|2),t.child}e=e.sibling}o.tail!==null&&We()>tr&&(t.flags|=128,r=!0,Ir(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cs(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Fe)return it(t),null}else 2*We()-o.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,Ir(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=We(),t.sibling=null,n=Be.current,Ie(Be,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Ao(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(kt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Xd(e,t){switch(Gl(t),t.tag){case 1:return pt(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),ze(ft),ze(lt),oo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return so(t),null;case 13:if(ze(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Be),null;case 4:return Xn(),null;case 10:return Jl(t.type._context),null;case 22:case 23:return Ao(),null;case 24:return null;default:return null}}var Is=!1,at=!1,Zd=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function No(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var Eu=!1;function Jd(e,t){if(Fl=ts,e=na(),_l(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,m=-1,y=-1,_=0,A=0,B=e,F=null;t:for(;;){for(var X;B!==n||s!==0&&B.nodeType!==3||(m=d+s),B!==o||r!==0&&B.nodeType!==3||(y=d+r),B.nodeType===3&&(d+=B.nodeValue.length),(X=B.firstChild)!==null;)F=B,B=X;for(;;){if(B===e)break t;if(F===n&&++_===s&&(m=d),F===o&&++A===r&&(y=d),(X=B.nextSibling)!==null)break;B=F,F=B.parentNode}B=X}n=m===-1||y===-1?null:{start:m,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Al={focusedElem:e,selectionRange:n},ts=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,$e=ne.memoizedState,N=t.stateNode,w=N.getSnapshotBeforeUpdate(t.elementType===t.type?re:It(t.type,re),$e);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(G){Ve(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return ne=Eu,Eu=!1,ne}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&No(t,n,o)}s=s.next}while(s!==r)}}function Ds(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mu(e){var t=e.alternate;t!==null&&(e.alternate=null,Mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Mr],delete t[Hl],delete t[Id],delete t[Dd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cu(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ps));else if(r!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}function _o(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_o(e,t,n),e=e.sibling;e!==null;)_o(e,t,n),e=e.sibling}var nt=null,Dt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Pu(e,t,n),n=n.sibling}function Pu(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:at||Jn(n,t);case 6:var r=nt,s=Dt;nt=null,fn(e,t,n),nt=r,Dt=s,nt!==null&&(Dt?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Dt?(e=nt,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),hr(e)):Ul(nt,n.stateNode));break;case 4:r=nt,s=Dt,nt=n.stateNode.containerInfo,Dt=!0,fn(e,t,n),nt=r,Dt=s;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,d=o.destroy;o=o.tag,d!==void 0&&((o&2)!==0||(o&4)!==0)&&No(n,t,d),s=s.next}while(s!==r)}fn(e,t,n);break;case 1:if(!at&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Ve(n,t,m)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,fn(e,t,n),at=r):fn(e,t,n);break;default:fn(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zd),t.forEach(function(r){var s=uf.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:nt=m.stateNode,Dt=!1;break e;case 3:nt=m.stateNode.containerInfo,Dt=!0;break e;case 4:nt=m.stateNode.containerInfo,Dt=!0;break e}m=m.return}if(nt===null)throw Error(i(160));Pu(o,d,s),nt=null,Dt=!1;var y=s.alternate;y!==null&&(y.return=null),s.return=null}catch(_){Ve(s,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_u(t,e),t=t.sibling}function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Ht(e),r&4){try{Dr(3,e,e.return),Ds(3,e)}catch(re){Ve(e,e.return,re)}try{Dr(5,e,e.return)}catch(re){Ve(e,e.return,re)}}break;case 1:zt(t,e),Ht(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(zt(t,e),Ht(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var s=e.stateNode;try{rr(s,"")}catch(re){Ve(e,e.return,re)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,m=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{m==="input"&&o.type==="radio"&&o.name!=null&&ye(s,o),ol(m,d);var _=ol(m,o);for(d=0;d<y.length;d+=2){var A=y[d],B=y[d+1];A==="style"?fi(s,B):A==="dangerouslySetInnerHTML"?xn(s,B):A==="children"?rr(s,B):te(s,A,B,_)}switch(m){case"input":xe(s,o);break;case"textarea":Ee(s,o);break;case"select":var F=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var X=o.value;X!=null?Le(s,!!o.multiple,X,!1):F!==!!o.multiple&&(o.defaultValue!=null?Le(s,!!o.multiple,o.defaultValue,!0):Le(s,!!o.multiple,o.multiple?[]:"",!1))}s[Mr]=o}catch(re){Ve(e,e.return,re)}}break;case 6:if(zt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(re){Ve(e,e.return,re)}}break;case 3:if(zt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(re){Ve(e,e.return,re)}break;case 4:zt(t,e),Ht(e);break;case 13:zt(t,e),Ht(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Oo=We())),r&4&&Tu(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(at=(_=at)||A,zt(t,e),at=_):zt(t,e),Ht(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!A&&(e.mode&1)!==0)for(ee=e,A=e.child;A!==null;){for(B=ee=A;ee!==null;){switch(F=ee,X=F.child,F.tag){case 0:case 11:case 14:case 15:Dr(4,F,F.return);break;case 1:Jn(F,F.return);var ne=F.stateNode;if(typeof ne.componentWillUnmount=="function"){r=F,n=F.return;try{t=r,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(re){Ve(r,n,re)}}break;case 5:Jn(F,F.return);break;case 22:if(F.memoizedState!==null){Ou(B);continue}}X!==null?(X.return=F,ee=X):Ou(B)}A=A.sibling}e:for(A=null,B=e;;){if(B.tag===5){if(A===null){A=B;try{s=B.stateNode,_?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(m=B.stateNode,y=B.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,m.style.display=di("display",d))}catch(re){Ve(e,e.return,re)}}}else if(B.tag===6){if(A===null)try{B.stateNode.nodeValue=_?"":B.memoizedProps}catch(re){Ve(e,e.return,re)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;A===B&&(A=null),B=B.return}A===B&&(A=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:zt(t,e),Ht(e),r&4&&Tu(e);break;case 21:break;default:zt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cu(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rr(s,""),r.flags&=-33);var o=Nu(e);_o(e,o,s);break;case 3:case 4:var d=r.stateNode.containerInfo,m=Nu(e);To(e,m,d);break;default:throw Error(i(161))}}catch(y){Ve(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e,t,n){ee=e,Lu(e)}function Lu(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var s=ee,o=s.child;if(s.tag===22&&r){var d=s.memoizedState!==null||Is;if(!d){var m=s.alternate,y=m!==null&&m.memoizedState!==null||at;m=Is;var _=at;if(Is=d,(at=y)&&!_)for(ee=s;ee!==null;)d=ee,y=d.child,d.tag===22&&d.memoizedState!==null?bu(s):y!==null?(y.return=d,ee=y):bu(s);for(;o!==null;)ee=o,Lu(o),o=o.sibling;ee=s,Is=m,at=_}Ru(e)}else(s.subtreeFlags&8772)!==0&&o!==null?(o.return=s,ee=o):Ru(e)}}function Ru(e){for(;ee!==null;){var t=ee;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||Ds(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Oa(t,o,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oa(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var A=_.memoizedState;if(A!==null){var B=A.dehydrated;B!==null&&hr(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}at||t.flags&512&&Po(t)}catch(F){Ve(t,t.return,F)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Ou(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function bu(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ds(4,t)}catch(y){Ve(t,n,y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(y){Ve(t,s,y)}}var o=t.return;try{Po(t)}catch(y){Ve(t,o,y)}break;case 5:var d=t.return;try{Po(t)}catch(y){Ve(t,d,y)}}}catch(y){Ve(t,t.return,y)}if(t===e){ee=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ee=m;break}ee=t.return}}var tf=Math.ceil,zs=V.ReactCurrentDispatcher,Lo=V.ReactCurrentOwner,Tt=V.ReactCurrentBatchConfig,Ne=0,Je=null,Qe=null,rt=0,kt=0,er=on(0),Ye=0,zr=null,Pn=0,Fs=0,Ro=0,Fr=null,mt=null,Oo=0,tr=1/0,Zt=null,As=!1,bo=null,pn=null,qs=!1,hn=null,Bs=0,Ar=0,Io=null,Us=-1,Hs=0;function ct(){return(Ne&6)!==0?We():Us!==-1?Us:Us=We()}function mn(e){return(e.mode&1)===0?1:(Ne&2)!==0&&rt!==0?rt&-rt:Fd.transition!==null?(Hs===0&&(Hs=Ni()),Hs):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Di(e.type)),e)}function Ft(e,t,n,r){if(50<Ar)throw Ar=0,Io=null,Error(i(185));ur(e,n,r),((Ne&2)===0||e!==Je)&&(e===Je&&((Ne&2)===0&&(Fs|=n),Ye===4&&vn(e,rt)),vt(e,r),n===1&&Ne===0&&(t.mode&1)===0&&(tr=We()+500,gs&&un()))}function vt(e,t){var n=e.callbackNode;Fc(e,t);var r=Zr(e,e===Je?rt:0);if(r===0)n!==null&&Ei(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ei(n),t===1)e.tag===0?zd(Du.bind(null,e)):Sa(Du.bind(null,e)),Od(function(){(Ne&6)===0&&un()}),n=null;else{switch(Pi(r)){case 1:n=pl;break;case 4:n=Mi;break;case 16:n=Qr;break;case 536870912:n=Ci;break;default:n=Qr}n=Vu(n,Iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iu(e,t){if(Us=-1,Hs=0,(Ne&6)!==0)throw Error(i(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var r=Zr(e,e===Je?rt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Vs(e,r);else{t=r;var s=Ne;Ne|=2;var o=Fu();(Je!==e||rt!==t)&&(Zt=null,tr=We()+500,_n(e,t));do try{sf();break}catch(m){zu(e,m)}while(!0);Zl(),zs.current=o,Ne=s,Qe!==null?t=0:(Je=null,rt=0,t=Ye)}if(t!==0){if(t===2&&(s=hl(e),s!==0&&(r=s,t=Do(e,s))),t===1)throw n=zr,_n(e,0),vn(e,r),vt(e,We()),n;if(t===6)vn(e,r);else{if(s=e.current.alternate,(r&30)===0&&!nf(s)&&(t=Vs(e,r),t===2&&(o=hl(e),o!==0&&(r=o,t=Do(e,o))),t===1))throw n=zr,_n(e,0),vn(e,r),vt(e,We()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:Ln(e,mt,Zt);break;case 3:if(vn(e,r),(r&130023424)===r&&(t=Oo+500-We(),10<t)){if(Zr(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bl(Ln.bind(null,e,mt,Zt),t);break}Ln(e,mt,Zt);break;case 4:if(vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var d=31-Rt(r);o=1<<d,d=t[d],d>s&&(s=d),r&=~o}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tf(r/1960))-r,10<r){e.timeoutHandle=Bl(Ln.bind(null,e,mt,Zt),r);break}Ln(e,mt,Zt);break;case 5:Ln(e,mt,Zt);break;default:throw Error(i(329))}}}return vt(e,We()),e.callbackNode===n?Iu.bind(null,e):null}function Do(e,t){var n=Fr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Vs(e,t),e!==2&&(t=mt,mt=n,t!==null&&zo(t)),e}function zo(e){mt===null?mt=e:mt.push.apply(mt,e)}function nf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ot(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~Ro,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if((Ne&6)!==0)throw Error(i(327));nr();var t=Zr(e,0);if((t&1)===0)return vt(e,We()),null;var n=Vs(e,t);if(e.tag!==0&&n===2){var r=hl(e);r!==0&&(t=r,n=Do(e,r))}if(n===1)throw n=zr,_n(e,0),vn(e,t),vt(e,We()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,mt,Zt),vt(e,We()),null}function Fo(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(tr=We()+500,gs&&un())}}function Tn(e){hn!==null&&hn.tag===0&&(Ne&6)===0&&nr();var t=Ne;Ne|=1;var n=Tt.transition,r=Oe;try{if(Tt.transition=null,Oe=1,e)return e()}finally{Oe=r,Tt.transition=n,Ne=t,(Ne&6)===0&&un()}}function Ao(){kt=er.current,ze(er)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rd(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ms();break;case 3:Xn(),ze(ft),ze(lt),oo();break;case 5:so(r);break;case 4:Xn();break;case 13:ze(Be);break;case 19:ze(Be);break;case 10:Jl(r.type._context);break;case 22:case 23:Ao()}n=n.return}if(Je=e,Qe=e=gn(e.current,null),rt=kt=t,Ye=0,zr=null,Ro=Fs=Pn=0,mt=Fr=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var d=o.next;o.next=s,r.next=d}n.pending=r}Mn=null}return e}function zu(e,t){do{var n=Qe;try{if(Zl(),Ns.current=Ls,Ps){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ps=!1}if(Nn=0,Ze=Ke=Ue=null,Lr=!1,Rr=0,Lo.current=null,n===null||n.return===null){Ye=1,zr=t,Qe=null;break}e:{var o=e,d=n.return,m=n,y=t;if(t=rt,m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var _=y,A=m,B=A.tag;if((A.mode&1)===0&&(B===0||B===11||B===15)){var F=A.alternate;F?(A.updateQueue=F.updateQueue,A.memoizedState=F.memoizedState,A.lanes=F.lanes):(A.updateQueue=null,A.memoizedState=null)}var X=au(d);if(X!==null){X.flags&=-257,uu(X,d,m,o,t),X.mode&1&&iu(o,_,t),t=X,y=_;var ne=t.updateQueue;if(ne===null){var re=new Set;re.add(y),t.updateQueue=re}else ne.add(y);break e}else{if((t&1)===0){iu(o,_,t),qo();break e}y=Error(i(426))}}else if(Fe&&m.mode&1){var $e=au(d);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),uu($e,d,m,o,t),Yl(Zn(y,m));break e}}o=y=Zn(y,m),Ye!==4&&(Ye=2),Fr===null?Fr=[o]:Fr.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var N=lu(o,y,t);Ra(o,N);break e;case 1:m=y;var w=o.type,P=o.stateNode;if((o.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(pn===null||!pn.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=ou(o,m,t);Ra(o,G);break e}}o=o.return}while(o!==null)}qu(n)}catch(se){t=se,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Fu(){var e=zs.current;return zs.current=Ls,e===null?Ls:e}function qo(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||(Pn&268435455)===0&&(Fs&268435455)===0||vn(Je,rt)}function Vs(e,t){var n=Ne;Ne|=2;var r=Fu();(Je!==e||rt!==t)&&(Zt=null,_n(e,t));do try{rf();break}catch(s){zu(e,s)}while(!0);if(Zl(),Ne=n,zs.current=r,Qe!==null)throw Error(i(261));return Je=null,rt=0,Ye}function rf(){for(;Qe!==null;)Au(Qe)}function sf(){for(;Qe!==null&&!Tc();)Au(Qe)}function Au(e){var t=Hu(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?qu(e):Qe=t,Lo.current=null}function qu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Yd(n,t,kt),n!==null){Qe=n;return}}else{if(n=Xd(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ye===0&&(Ye=5)}function Ln(e,t,n){var r=Oe,s=Tt.transition;try{Tt.transition=null,Oe=1,lf(e,t,n,r)}finally{Tt.transition=s,Oe=r}return null}function lf(e,t,n,r){do nr();while(hn!==null);if((Ne&6)!==0)throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ac(e,o),e===Je&&(Qe=Je=null,rt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||qs||(qs=!0,Vu(Qr,function(){return nr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Tt.transition,Tt.transition=null;var d=Oe;Oe=1;var m=Ne;Ne|=4,Lo.current=null,Jd(e,n),_u(n,e),Md(Al),ts=!!Fl,Al=Fl=null,e.current=n,ef(n),_c(),Ne=m,Oe=d,Tt.transition=o}else e.current=n;if(qs&&(qs=!1,hn=e,Bs=s),o=e.pendingLanes,o===0&&(pn=null),Oc(n.stateNode),vt(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(As)throw As=!1,e=bo,bo=null,e;return(Bs&1)!==0&&e.tag!==0&&nr(),o=e.pendingLanes,(o&1)!==0?e===Io?Ar++:(Ar=0,Io=e):Ar=0,un(),null}function nr(){if(hn!==null){var e=Pi(Bs),t=Tt.transition,n=Oe;try{if(Tt.transition=null,Oe=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,Bs=0,(Ne&6)!==0)throw Error(i(331));var s=Ne;for(Ne|=4,ee=e.current;ee!==null;){var o=ee,d=o.child;if((ee.flags&16)!==0){var m=o.deletions;if(m!==null){for(var y=0;y<m.length;y++){var _=m[y];for(ee=_;ee!==null;){var A=ee;switch(A.tag){case 0:case 11:case 15:Dr(8,A,o)}var B=A.child;if(B!==null)B.return=A,ee=B;else for(;ee!==null;){A=ee;var F=A.sibling,X=A.return;if(Mu(A),A===_){ee=null;break}if(F!==null){F.return=X,ee=F;break}ee=X}}}var ne=o.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var $e=re.sibling;re.sibling=null,re=$e}while(re!==null)}}ee=o}}if((o.subtreeFlags&2064)!==0&&d!==null)d.return=o,ee=d;else e:for(;ee!==null;){if(o=ee,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Dr(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,ee=N;break e}ee=o.return}}var w=e.current;for(ee=w;ee!==null;){d=ee;var P=d.child;if((d.subtreeFlags&2064)!==0&&P!==null)P.return=d,ee=P;else e:for(d=w;ee!==null;){if(m=ee,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Ds(9,m)}}catch(se){Ve(m,m.return,se)}if(m===d){ee=null;break e}var G=m.sibling;if(G!==null){G.return=m.return,ee=G;break e}ee=m.return}}if(Ne=s,un(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Kr,e)}catch{}r=!0}return r}finally{Oe=n,Tt.transition=t}}return!1}function Bu(e,t,n){t=Zn(n,t),t=lu(e,t,1),e=dn(e,t,1),t=ct(),e!==null&&(ur(e,1,t),vt(e,t))}function Ve(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Zn(n,e),e=ou(t,e,1),t=dn(t,e,1),e=ct(),t!==null&&(ur(t,1,e),vt(t,e));break}}t=t.return}}function of(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(rt&n)===n&&(Ye===4||Ye===3&&(rt&130023424)===rt&&500>We()-Oo?_n(e,0):Ro|=n),vt(e,t)}function Uu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Xr,Xr<<=1,(Xr&130023424)===0&&(Xr=4194304)));var n=ct();e=Kt(e,t),e!==null&&(ur(e,t,n),vt(e,n))}function af(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uu(e,n)}function uf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}r!==null&&r.delete(t),Uu(e,n)}var Hu;Hu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ht=!1,Kd(e,t,n);ht=(e.flags&131072)!==0}else ht=!1,Fe&&(t.flags&1048576)!==0&&ka(t,xs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bs(e,t),e=t.pendingProps;var s=Vn(t,lt.current);Yn(t,n),s=uo(null,t,r,e,s,n);var o=co();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(o=!0,vs(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,no(t),s.updater=Rs,t.stateNode=s,s._reactInternals=t,go(t,r,e,n),t=So(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&$l(t),ut(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=df(r),e=It(r,e),s){case 0:t=wo(null,t,r,e,n);break e;case 1:t=mu(null,t,r,e,n);break e;case 11:t=cu(null,t,r,e,n);break e;case 14:t=du(null,t,r,It(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:It(r,s),wo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:It(r,s),mu(e,t,r,s,n);case 3:e:{if(vu(t),e===null)throw Error(i(387));r=t.pendingProps,o=t.memoizedState,s=o.element,La(e,t),Ms(t,r,null,n);var d=t.memoizedState;if(r=d.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zn(Error(i(423)),t),t=gu(e,t,r,n,s);break e}else if(r!==s){s=Zn(Error(i(424)),t),t=gu(e,t,r,n,s);break e}else for(St=ln(t.stateNode.containerInfo.firstChild),wt=t,Fe=!0,bt=null,n=Ta(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===s){t=Xt(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return ba(t),e===null&&Kl(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,d=s.children,ql(r,s)?d=null:o!==null&&ql(r,o)&&(t.flags|=32),hu(e,t),ut(e,t,d,n),t.child;case 6:return e===null&&Kl(t),null;case 13:return yu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:It(r,s),cu(e,t,r,s,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,d=s.value,Ie(ks,r._currentValue),r._currentValue=d,o!==null)if(Ot(o.value,d)){if(o.children===s.children&&!ft.current){t=Xt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var m=o.dependencies;if(m!==null){d=o.child;for(var y=m.firstContext;y!==null;){if(y.context===r){if(o.tag===1){y=Yt(-1,n&-n),y.tag=2;var _=o.updateQueue;if(_!==null){_=_.shared;var A=_.pending;A===null?y.next=y:(y.next=A.next,A.next=y),_.pending=y}}o.lanes|=n,y=o.alternate,y!==null&&(y.lanes|=n),eo(o.return,n,t),m.lanes|=n;break}y=y.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(i(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),eo(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}ut(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Yn(t,n),s=Nt(s),r=r(s),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,s=It(r,t.pendingProps),s=It(r.type,s),du(e,t,r,s,n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:It(r,s),bs(e,t),t.tag=1,pt(r)?(e=!0,vs(t)):e=!1,Yn(t,n),ru(t,r,s),go(t,r,s,n),So(null,t,r,!0,e,n);case 19:return wu(e,t,n);case 22:return pu(e,t,n)}throw Error(i(156,t.tag))};function Vu(e,t){return ji(e,t)}function cf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new cf(e,t,n,r)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function df(e){if(typeof e=="function")return Bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===ae)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,s,o){var d=2;if(r=e,typeof e=="function")Bo(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case z:return Rn(n.children,s,o,t);case C:d=8,s|=8;break;case O:return e=_t(12,n,t,s|2),e.elementType=O,e.lanes=o,e;case we:return e=_t(13,n,t,s),e.elementType=we,e.lanes=o,e;case oe:return e=_t(19,n,t,s),e.elementType=oe,e.lanes=o,e;case pe:return $s(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:d=10;break e;case Z:d=9;break e;case me:d=11;break e;case ae:d=14;break e;case Te:d=16,r=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=_t(d,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Rn(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function $s(e,t,n,r){return e=_t(22,e,r,t),e.elementType=pe,e.lanes=n,e.stateNode={isHidden:!1},e}function Uo(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ff(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vo(e,t,n,r,s,o,d,m,y){return e=new ff(e,t,n,m,y),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function pf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e){if(!e)return an;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(pt(n))return xa(e,n,t)}return t}function $u(e,t,n,r,s,o,d,m,y){return e=Vo(n,r,!0,e,s,o,d,m,y),e.context=Wu(null),n=e.current,r=ct(),s=mn(n),o=Yt(r,s),o.callback=t??null,dn(n,o,s),e.current.lanes=s,ur(e,s,r),vt(e,r),e}function Gs(e,t,n,r){var s=t.current,o=ct(),d=mn(s);return n=Wu(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(o,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(s,t,d),e!==null&&(Ft(e,s,d,o),Es(e,s,d)),d}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function hf(){return null}var Qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function $o(e){this._internalRoot=e}Ks.prototype.render=$o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Gs(e,t,null,null)},Ks.prototype.unmount=$o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){Gs(null,e,null,null)}),t[Wt]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Li();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&bi(e)}};function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function mf(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var _=Qs(d);o.call(_)}}var d=$u(t,r,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=d,e[Wt]=d.current,jr(e.nodeType===8?e.parentNode:e),Tn(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var m=r;r=function(){var _=Qs(y);m.call(_)}}var y=Vo(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=y,e[Wt]=y.current,jr(e.nodeType===8?e.parentNode:e),Tn(function(){Gs(t,y,n,r)}),y}function Xs(e,t,n,r,s){var o=n._reactRootContainer;if(o){var d=o;if(typeof s=="function"){var m=s;s=function(){var y=Qs(d);m.call(y)}}Gs(t,d,e,s)}else d=mf(n,t,e,s,r);return Qs(d)}Ti=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(vl(t,n|1),vt(t,We()),(Ne&6)===0&&(tr=We()+500,un()))}break;case 13:Tn(function(){var r=Kt(e,1);if(r!==null){var s=ct();Ft(r,e,1,s)}}),Wo(e,1)}},gl=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=ct();Ft(t,e,134217728,n)}Wo(e,134217728)}},_i=function(e){if(e.tag===13){var t=mn(e),n=Kt(e,t);if(n!==null){var r=ct();Ft(n,e,t,r)}Wo(e,t)}},Li=function(){return Oe},Ri=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}},ul=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hs(r);if(!s)throw Error(i(90));He(r),xe(r,s)}}}break;case"textarea":Ee(e,n);break;case"select":t=n.value,t!=null&&Le(e,!!n.multiple,t,!1)}},vi=Fo,gi=Tn;var vf={usingClientEntryPoint:!1,Events:[Cr,Un,hs,hi,mi,Fo]},qr={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gf={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Si(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||hf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Kr=Zs.inject(gf),At=Zs}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf,gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(t))throw Error(i(200));return pf(e,t,null,n)},gt.createRoot=function(e,t){if(!Go(e))throw Error(i(299));var n=!1,r="",s=Qu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vo(e,1,!1,null,null,n,!1,r,s),e[Wt]=t.current,jr(e.nodeType===8?e.parentNode:e),new $o(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Si(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return Tn(e)},gt.hydrate=function(e,t,n){if(!Ys(t))throw Error(i(200));return Xs(null,e,t,!0,n)},gt.hydrateRoot=function(e,t,n){if(!Go(e))throw Error(i(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",d=Qu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=$u(t,null,e,1,n??null,s,!1,o,d),e[Wt]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ks(t)},gt.render=function(e,t,n){if(!Ys(t))throw Error(i(200));return Xs(null,e,t,!1,n)},gt.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(i(40));return e._reactRootContainer?(Tn(function(){Xs(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},gt.unstable_batchedUpdates=Fo,gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Xs(e,t,n,!1,r)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var rc;function Mf(){if(rc)return Yo.exports;rc=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Yo.exports=Ef(),Yo.exports}var sc;function Cf(){if(sc)return Js;sc=1;var u=Mf();return Js.createRoot=u.createRoot,Js.hydrateRoot=u.hydrateRoot,Js}var Nf=Cf(),W=Wr();const yt=yc(W),U={osc1:{wave:"sawtooth",detune:0,detuneFine:0,octave:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},sampler:{id:null,name:"Empty",dataUrl:null,rootMidi:60,loop:!0,durationSec:0,trimStartSec:0,trimEndSec:0},engineMode:"classic",macro:{model:"va",harmonics:.6,timbre:.5,morph:.5,level:1},effects:{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}},lfo1:{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"},lfo2:{enabled:!1,wave:"triangle",rateHz:.5,amount:.4,dest:"filter"},arp:{enabled:!1,rateHz:8,bpmSync:!1,bpm:120,division:"1/8",gate:.6,chordSource:"preset",mode:"up",octaves:1,chord:"none",latch:!1,swingPct:0,repeats:1,patternLen:0},sequencer:{enabled:!1,playing:!1,bpm:120,division:"1/16",swingPct:0,gate:.6,rootMidi:60,length:16,steps:Array.from({length:16},()=>({on:!1,offset:0,velocity:1}))},expression:{x:"filter.cutoff",y:"master.gain"}},st=(u,a)=>Number.isFinite(u)?u:a,el=(u,a)=>u.patch[a]??U[a],tl=u=>u.patch.macro??U.macro,nl={"filter.cutoff":{getBase:u=>st(u.patch.filter.cutoff,U.filter.cutoff),range:(u,a)=>{const i=Re(a*.25,80,12e3),c=Re(a*4,i+20,14e3);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({filter:{cutoff:a}},{fromExpression:!0})},"filter.q":{getBase:u=>st(u.patch.filter.q,U.filter.q),range:(u,a)=>{const i=Re(a*.5,.1,20),c=Re(a*2.5,i+.1,20);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({filter:{q:a}},{fromExpression:!0})},"master.gain":{getBase:u=>st(u.patch.master.gain,U.master.gain),range:(u,a)=>{const i=Re(a*.4,.01,1),c=Re(a*1.6,i+.01,1);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({master:{gain:a}},{fromExpression:!0})},mix:{getBase:u=>st(u.patch.mix,U.mix),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({mix:Re(a,0,1)},{fromExpression:!0})},"osc1.detune":{getBase:u=>st(u.patch.osc1.detune,U.osc1.detune),range:(u,a)=>{const i=Re(a-120,-2400,2400),c=Re(a+120,i+1,2400);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({osc1:{detune:a}},{fromExpression:!0})},"osc2.detune":{getBase:u=>st(u.patch.osc2.detune,U.osc2.detune),range:(u,a)=>{const i=Re(a-120,-2400,2400),c=Re(a+120,i+1,2400);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({osc2:{detune:a}},{fromExpression:!0})},"fm.amount":{getBase:u=>st(u.patch.fm.amount,U.fm.amount),range:(u,a)=>{const i=Re(a*.5,0,4e3),c=Re(Math.max(a+400,400),i+10,4e3);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({fm:{amount:Re(a,0,4e3)}},{fromExpression:!0})},"envelope.attack":{getBase:u=>st(u.patch.envelope.attack,U.envelope.attack),range:(u,a)=>{const i=Re(a*.2,.001,4),c=Re(a*3,i+.01,4);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({envelope:{attack:a}},{fromExpression:!0})},"envelope.release":{getBase:u=>st(u.patch.envelope.release,U.envelope.release),range:(u,a)=>{const i=Re(a*.5,.03,6),c=Re(a*3,i+.05,6);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({envelope:{release:a}},{fromExpression:!0})},"macro.harmonics":{getBase:u=>st(tl(u).harmonics,U.macro.harmonics),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{harmonics:Re(a,0,1)}},{fromExpression:!0})},"macro.timbre":{getBase:u=>st(tl(u).timbre,U.macro.timbre),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{timbre:Re(a,0,1)}},{fromExpression:!0})},"macro.morph":{getBase:u=>st(tl(u).morph,U.macro.morph),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{morph:Re(a,0,1)}},{fromExpression:!0})},"macro.level":{getBase:u=>st(tl(u).level,U.macro.level),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{level:Re(a,0,1)}},{fromExpression:!0})},"lfo1.rateHz":{getBase:u=>st(el(u,"lfo1").rateHz,U.lfo1.rateHz),range:(u,a)=>{const i=Re(a*.25,.05,30),c=Re(a*4,i+.05,40);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({lfo1:{rateHz:a}},{fromExpression:!0})},"lfo1.amount":{getBase:u=>st(el(u,"lfo1").amount,U.lfo1.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo1:{amount:Re(a,0,1)}},{fromExpression:!0})},"lfo2.rateHz":{getBase:u=>st(el(u,"lfo2").rateHz,U.lfo2.rateHz),range:(u,a)=>{const i=Re(a*.25,.02,20),c=Re(a*4,i+.05,30);return{min:i,max:c}},apply:(u,a)=>u.applyPatch({lfo2:{rateHz:a}},{fromExpression:!0})},"lfo2.amount":{getBase:u=>st(el(u,"lfo2").amount,U.lfo2.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo2:{amount:Re(a,0,1)}},{fromExpression:!0})}},Jo=["x","y"],Re=(u,a,i)=>Math.min(i,Math.max(a,u));function Pf(u){const a=u.sampleRate*1,i=u.createBuffer(1,a,u.sampleRate),c=i.getChannelData(0);for(let p=0;p<a;p++)c[p]=Math.random()*2-1;return i}class ai{ctx;master;filter;analyser;noiseBuffer;activeVoices=new Map;fxInput;fxOutput;currentFxTap=null;lfos;expression2D={active:!1,x:.5,y:.5};expressionAxisTargets={x:U.expression.x,y:U.expression.y};expressionSnapshot={x:null,y:null};expressionApplying=!1;samplerBuffer=null;samplerMeta={...U.sampler};samplerLoadToken=0;patch;arpHeld=new Set;arpIndex=0;arpTimer=null;arpLastNote=null;arpBypass=!1;arpPhase=0;arpRepeatCounter=0;arpCurrentStepMs=0;seqTimer=null;seqPhase=0;seqCurrentStepMs=0;seqStepIndex=0;seqLastNote=null;constructor(a){this.ctx=a??new(window.AudioContext||window.webkitAudioContext),this.master=this.ctx.createGain(),this.filter=this.ctx.createBiquadFilter(),this.analyser=this.ctx.createAnalyser(),this.fxInput=this.ctx.createGain(),this.fxOutput=this.ctx.createGain(),this.filter.connect(this.fxInput),this.fxInput.connect(this.fxOutput),this.fxOutput.connect(this.master),this.master.connect(this.ctx.destination);try{this.filter.connect(this.analyser)}catch{}this.analyser.smoothingTimeConstant=0,this.lfos=[];for(let i=0;i<2;i++){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=5;const p=this.ctx.createGain();p.gain.value=0,c.connect(p),c.start(),this.lfos.push({osc:c,gain:p,dest:"none"})}this.patch={...U},this.applyPatch(),this.samplerMeta=this.normalizeSamplerMeta(this.patch.sampler,null)}get audioContext(){return this.ctx}getAnalyser(){return this.analyser}getWaveform(){const a=this.analyser.fftSize,i=new Uint8Array(a);return this.analyser.getByteTimeDomainData(i),i}async resume(){this.ctx.state!=="running"&&await this.ctx.resume()}normalizeSamplerMeta(a,i){const c=i?.duration??(Number.isFinite(a.durationSec)?a.durationSec:0);if(!(c>0))return{...a,durationSec:0,trimStartSec:0,trimEndSec:0};const p=.005,f=Math.max(0,c-p),v=Number(a.trimStartSec),x=Re(Number.isFinite(v)?v:0,0,f),h=Number(a.trimEndSec);let g=Number.isFinite(h)?h:c;return g=Re(g,x+p,c),g-x<p&&(g=Math.min(c,x+p)),{...a,durationSec:c,trimStartSec:x,trimEndSec:g}}async updateSamplerBuffer(a){const i=this.samplerMeta.id===a.id&&this.samplerMeta.dataUrl===a.dataUrl;if(this.samplerMeta=this.normalizeSamplerMeta({...a},i?this.samplerBuffer:null),!a.dataUrl){this.samplerBuffer=null,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,null);return}if(i&&this.samplerBuffer)return;const c=++this.samplerLoadToken;try{const f=await(await fetch(a.dataUrl)).arrayBuffer(),v=await this.ctx.decodeAudioData(f.slice(0));c===this.samplerLoadToken&&(this.samplerBuffer=v,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,v))}catch(p){c===this.samplerLoadToken&&(this.samplerBuffer=null,this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,null)),console.warn("Failed to decode sampler buffer",p)}}getSamplerBaseFrequency(){const a=Number.isFinite(this.samplerMeta.rootMidi)?this.samplerMeta.rootMidi:60;return 440*Math.pow(2,(a-69)/12)}getDetuneCents(a){if(a==="osc1"){const i=this.patch.osc1.detune||0,c=this.patch.osc1.detuneFine??0;return i+c}return this.patch.osc2.detune||0}createSamplerSource(a,i){if(!this.samplerBuffer)return null;this.samplerMeta=this.normalizeSamplerMeta(this.samplerMeta,this.samplerBuffer);const c=this.ctx.createBufferSource();c.buffer=this.samplerBuffer;const p=this.samplerMeta.trimStartSec??0,f=this.samplerMeta.trimEndSec??this.samplerBuffer.duration,v=Math.max(.005,this.samplerBuffer.duration-p),x=Re(f-p,.005,v),h=!!this.samplerMeta.loop&&x>.01;c.loop=h,h&&(c.loopStart=p,c.loopEnd=p+x);const g=this.getSamplerBaseFrequency(),M=this.getDetuneCents(i),k=Math.pow(2,M/1200),S=g>0?a/g*k:k;return c.playbackRate.setValueAtTime(S,this.ctx.currentTime),h?c.start(0,p):c.start(0,p,x),c._autoStarted=!0,c}applyPatch(a={},i={}){const{fromExpression:c=!1}=i,p=this.patch,f={...this.patch,...a,osc1:{...this.patch.osc1,...a.osc1??{}},osc2:{...this.patch.osc2,...a.osc2??{}},fm:{...this.patch.fm,...a.fm??{}},sub:{...this.patch.sub,...a.sub??{}},ring:{...this.patch.ring,...a.ring??{}},filter:{...this.patch.filter,...a.filter??{}},envelope:{...this.patch.envelope,...a.envelope??{}},master:{...this.patch.master,...a.master??{}},mix:a.mix!=null?a.mix:this.patch.mix,engineMode:a.engineMode??this.patch.engineMode??"classic",sampler:{...this.patch.sampler??U.sampler,...a.sampler??{}},macro:{...this.patch.macro??U.macro,...a.macro??{}},effects:{...this.patch.effects??U.effects,...a.effects??{}},lfo1:{...this.patch.lfo1??U.lfo1,...a.lfo1??{}},lfo2:{...this.patch.lfo2??U.lfo2,...a.lfo2??{}},arp:{...this.patch.arp??U.arp,...a.arp??{}},sequencer:{...this.patch.sequencer??U.sequencer,...a.sequencer??{}},expression:{...this.patch.expression??U.expression,...a.expression??{}}};if(this.patch=f,a.sampler!==void 0&&this.updateSamplerBuffer(f.sampler),this.configureExpressionRouting(f.expression),f.master.gain!==p.master.gain&&this.master.gain.setTargetAtTime(f.master.gain,this.ctx.currentTime,.01),f.filter.type!==p.filter.type&&(this.filter.type=f.filter.type),f.filter.q!==p.filter.q&&this.filter.Q.setTargetAtTime(f.filter.q,this.ctx.currentTime,.02),f.filter.cutoff!==p.filter.cutoff&&this.filter.frequency.setTargetAtTime(f.filter.cutoff,this.ctx.currentTime,.015),this.noiseBuffer||(this.noiseBuffer=Pf(this.ctx)),a.effects!==void 0&&this.buildFxChain(),a.lfo1!==void 0||a.lfo2!==void 0||a.master?.gain!==void 0){const v=[this.patch.lfo1,this.patch.lfo2];for(let x=0;x<this.lfos.length;x++){const h=this.lfos[x],g=v[x];h.osc.type=g.wave,h.osc.frequency.setValueAtTime(Math.max(.01,g.rateHz),this.ctx.currentTime);try{h.gain.disconnect()}catch{}if(h.dest="none",h.gain.gain.value=0,g.enabled)if(g.dest==="filter")h.dest="filter",h.gain.gain.value=Math.max(0,g.amount)*2e3,h.gain.connect(this.filter.frequency);else if(g.dest==="amp"){h.dest="amp";const M=this.patch.master.gain;h.gain.gain.value=Math.max(0,g.amount)*Math.max(0,M)*.8,h.gain.connect(this.master.gain)}else g.dest==="pitch"&&(h.dest="pitch",h.gain.gain.value=Math.max(0,g.amount)*50)}}if(a.arp!==void 0&&this.updateArpScheduler({forceRestart:!0}),a.sequencer!==void 0&&this.updateSeqScheduler(),a.osc1?.detune!==void 0||a.osc1?.detuneFine!==void 0){const v=this.ctx.currentTime,x=(f.osc1.detune||0)+(f.osc1.detuneFine??0);for(const h of this.activeVoices.values())if(h.osc1Detune)try{h.osc1Detune.setTargetAtTime(x,v,.01)}catch{}}if(a.osc2?.detune!==void 0){const v=this.ctx.currentTime;for(const x of this.activeVoices.values())if(x.osc2Detune)try{x.osc2Detune.setTargetAtTime(f.osc2.detune||0,v,.01)}catch{}}this.expression2D.active&&!c&&this.applyExpression2D()}buildFxChain(){try{this.fxInput.disconnect()}catch{}if(this.currentFxTap){try{this.currentFxTap.disconnect(this.fxOutput)}catch{}this.currentFxTap=null}let a=this.fxInput;const i=this.patch.effects;i?.delay?.enabled&&(a=this.applyDelayEffect(a,i.delay)),i?.reverb?.enabled&&(a=this.applyReverbEffect(a,i.reverb)),a.connect(this.fxOutput),this.currentFxTap=a}clamp01(a){return Math.min(1,Math.max(0,a))}setExpression2D(a,i){const c=this.clamp01(a),p=this.clamp01(i);this.expression2D.active||this.captureExpressionBase(),this.expression2D={active:!0,x:c,y:p},this.applyExpression2D()}clearExpression2D(){if(this.expression2D.active){this.expressionApplying=!0;try{for(const a of Jo)this.resetExpressionAxis(a)}finally{this.expressionApplying=!1,this.expression2D={active:!1,x:.5,y:.5},this.expressionSnapshot={x:null,y:null}}}}configureExpressionRouting(a=this.patch.expression??U.expression){const i=U.expression??{x:"filter.cutoff",y:"master.gain"};for(const c of Jo){const p=a?.[c]??i[c],f=nl[p]?p:i[c];(this.expressionAxisTargets[c]!==f||!this.expression2D.active)&&(this.expressionSnapshot[c]=null),this.expressionAxisTargets[c]=f}}captureExpressionBase(){for(const a of Jo){const i=this.expressionAxisTargets[a],c=nl[i];if(!c)continue;const p=c.getBase(this);this.expressionSnapshot[a]=Number.isFinite(p)?p:0}}applyExpressionAxis(a,i){const c=this.expressionAxisTargets[a],p=nl[c];if(!p)return;let f=this.expressionSnapshot[a];(f==null||Number.isNaN(f))&&(f=p.getBase(this),this.expressionSnapshot[a]=f);const{min:v,max:x}=p.range(this,f),h=x-v,g=h<=0?f:v+h*this.clamp01(i);p.apply(this,g)}resetExpressionAxis(a){const i=this.expressionSnapshot[a],c=this.expressionAxisTargets[a],p=nl[c];p&&i!=null&&Number.isFinite(i)&&p.apply(this,i),this.expressionSnapshot[a]=null}applyExpression2D(){if(!(!this.expression2D.active||this.expressionApplying)){this.expressionApplying=!0;try{this.applyExpressionAxis("x",this.expression2D.x),this.applyExpressionAxis("y",this.expression2D.y)}finally{this.expressionApplying=!1}}}applyDelayEffect(a,i){const c=this.clamp01(i.mix),p=Math.max(0,Math.min(1.5,i.time)),f=Math.max(0,Math.min(.95,i.feedback)),v=this.ctx.createDelay(2);v.delayTime.value=p;const x=this.ctx.createGain();x.gain.value=f,v.connect(x),x.connect(v);const h=this.ctx.createGain();h.gain.value=1-c;const g=this.ctx.createGain();g.gain.value=c;const M=this.ctx.createGain();return a.connect(h),a.connect(v),v.connect(g),h.connect(M),g.connect(M),M}makeImpulse(a,i){const c=Math.max(1,Math.floor(this.ctx.sampleRate*Math.max(.05,a))),p=this.ctx.createBuffer(2,c,this.ctx.sampleRate);for(let f=0;f<p.numberOfChannels;f++){const v=p.getChannelData(f);for(let x=0;x<c;x++){const h=x/c;v[x]=(Math.random()*2-1)*Math.pow(1-h,2+i*6)}}return p}applyReverbEffect(a,i){const c=this.clamp01(i.mix),p=.1+this.clamp01(i.size)*3,f=this.clamp01(i.decay),v=this.ctx.createConvolver();v.normalize=!0,v.buffer=this.makeImpulse(p,f);const x=this.ctx.createGain();x.gain.value=1-c;const h=this.ctx.createGain();h.gain.value=c;const g=this.ctx.createGain();return a.connect(x),a.connect(v),v.connect(h),x.connect(g),h.connect(g),g}makeWavefolderCurve(a,i,c=2048){const p=new Float32Array(c),f=Math.max(1e-4,a)*6,v=(i-.5)*2;for(let x=0;x<c;x++){let h=x/(c-1)*2-1;h+=v*.5;const g=Math.tanh(f*h)/Math.tanh(f);p[x]=g}return p}createMacroSuperSaw(a,i){const p=this.ctx.createGain(),f=this.ctx.createBiquadFilter();f.type="lowpass",f.frequency.value=800+i.timbre*12e3,f.Q.value=.3;const v=0+i.harmonics*30,x=[-1,-.6,-.2,.2,.6,1],h=[];for(let M=0;M<6;M++){const k=this.ctx.createOscillator();k.type="sawtooth",k.frequency.value=a,k.detune.value=x[M]*v;const S=this.ctx.createGain();S.gain.value=1/6;const b=this.ctx.createStereoPanner(),T=(i.morph-.5)*2,L=x[M]/Math.max(1,Math.max(...x.map(Math.abs)))*T;b.pan.value=L,k.connect(S).connect(b).connect(p),h.push({osc:k,pan:b}),k.start()}p.connect(f);const g=this.ctx.createGain();return g.gain.value=i.level,f.connect(g),{output:g,stop:M=>h.forEach(({osc:k})=>k.stop(M)),pitched:h.map(M=>M.osc)}}createMacroWavetable(a,i){const c=["sine","triangle","sawtooth","square"],p=Math.min(3,Math.max(0,Math.floor(i.morph*3.00001))),f=Math.min(1,Math.max(0,i.morph*3-p)),v=(S,b)=>{const T=this.ctx.createOscillator();T.type=S,T.frequency.value=a;const L=this.ctx.createGain();return L.gain.value=b,T.connect(L),{osc:T,g:L}},x=v(c[p],p===3?1:1-f),h=p<3?v(c[p+1],f):null,g=this.ctx.createBiquadFilter();g.type="lowpass",g.frequency.value=800+i.harmonics*15e3,g.Q.value=.1+i.timbre*.6;const M=this.ctx.createGain();M.gain.value=i.level,x.g.connect(g),h&&h.g.connect(g),g.connect(M),x.osc.start(),h&&h.osc.start();const k=[x.osc];return h&&k.push(h.osc),{output:M,stop:S=>{x.osc.stop(S),h&&h.osc.stop(S)},pitched:k}}createMacroHarmonic(a,i){const f=Math.round(2+i.harmonics*14),v=.5+(1-i.timbre)*2,x=(i.morph-.5)*2,h=this.ctx.createGain(),g=[];for(let S=1;S<=f;S++){const b=this.ctx.createOscillator();b.type="sine",b.frequency.value=a*S;let T=1/Math.pow(S,v);const R=S%2===0?Math.max(.1,(x+1)/2):Math.max(.1,(1-x)/2);T*=R;const I=this.ctx.createGain();I.gain.value=T,b.connect(I).connect(h),b.start(),g.push(b)}const M=this.ctx.createBiquadFilter();M.type="lowpass",M.frequency.value=1e3+i.timbre*15e3,M.Q.value=.2;const k=this.ctx.createGain();return k.gain.value=i.level,h.connect(M).connect(k),{output:k,stop:S=>{for(const b of g)b.stop(S)},pitched:g}}createMacroChord(a,i){const c=[[0,4,7],[0,3,7],[0,5,7],[0,2,7],[0,4,7,10],[0,3,7,10],[0,4,7,11],[0,3,6,9],[0,4,8],[-12,0,7,12]],p=Math.max(0,Math.min(c.length-1,Math.floor(i.harmonics*c.length))),f=c[p],v=(i.morph-.5)*2,x=this.ctx.createGain(),h=this.ctx.createBiquadFilter();h.type="lowpass",h.frequency.value=900+i.timbre*15e3,h.Q.value=.3;const g=this.ctx.createGain();g.gain.value=i.level;const M=[],k=[-1,-.3,.3,1];return f.forEach((S,b)=>{const T=this.ctx.createOscillator();T.type="sawtooth";const L=440*Math.pow(2,Math.log2(a/440)+S/12);T.frequency.value=L;const R=k[b%k.length]*v*15;T.detune.value=R;const I=this.ctx.createGain();I.gain.value=1/f.length;const H=this.ctx.createStereoPanner();H.pan.value=k[b%k.length]*v,T.connect(I).connect(H).connect(x),T.start(),M.push(T)}),x.connect(h).connect(g),{output:g,stop:S=>{for(const b of M)b.stop(S)},pitched:M}}createMacroPWM(a,i){const c=this.ctx.createOscillator();c.type="sawtooth",c.frequency.value=a;const p=this.ctx.createGain();p.gain.value=1;const f=this.ctx.createConstantSource(),v=(i.morph-.5)*1.6;f.offset.value=v,f.start(),c.connect(p),f.connect(p);const x=this.ctx.createWaveShaper(),h=1+i.harmonics*24,g=2048,M=new Float32Array(g);for(let b=0;b<g;b++){const T=b/(g-1)*2-1;M[b]=Math.tanh(h*T)}x.curve=M,x.oversample="4x";const k=this.ctx.createBiquadFilter();k.type="lowpass",k.frequency.value=2e3+i.timbre*14e3,k.Q.value=.2;const S=this.ctx.createGain();return S.gain.value=i.level,p.connect(x).connect(k).connect(S),c.start(),{output:S,stop:b=>{c.stop(b),f.stop(b)},pitched:[c]}}createMacroFM2Op(a,i){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=a;const p=this.ctx.createOscillator();p.type="sine";const f=.25+i.harmonics*7.75;p.frequency.value=a*f;const v=this.ctx.createGain();v.gain.value=Math.max(0,i.timbre)*a*2,p.connect(v).connect(c.frequency);const x=this.ctx.createBiquadFilter();x.type="lowpass",x.frequency.value=1e3+i.morph*15e3,x.Q.value=.1;const h=this.ctx.createGain();return h.gain.value=i.level,c.connect(x).connect(h),c.start(),p.start(),{output:h,stop:g=>{c.stop(g),p.stop(g)},pitched:[c]}}createMacroVA(a,i){const c=this.ctx.createOscillator(),p=this.ctx.createOscillator();c.type="sawtooth",p.type="triangle",c.frequency.value=a,p.frequency.value=a;const f=this.ctx.createGain(),v=this.ctx.createGain();f.gain.value=1-i.timbre,v.gain.value=i.timbre;const x=this.ctx.createGain(),h=this.ctx.createBiquadFilter();return h.type="lowpass",h.frequency.value=1e3+i.harmonics*15e3,h.Q.value=.5,p.connect(f).connect(x),c.connect(v).connect(x),x.connect(h),p.start(),c.start(),{output:h,stop:g=>{p.stop(g),c.stop(g)},pitched:[p,c]}}createMacroFold(a,i){const c=this.ctx.createOscillator();c.type="sine",c.frequency.value=a;const p=this.ctx.createGain(),f=this.ctx.createWaveShaper(),v=this.ctx.createGain(),x=.2+i.harmonics*1.6,h=i.morph;f.curve=this.makeWavefolderCurve(x,h),f.oversample="4x",p.gain.value=1,v.gain.value=i.level;const g=this.ctx.createBiquadFilter();return g.type="lowpass",g.frequency.value=4e3+i.timbre*16e3,g.Q.value=.2,c.connect(p).connect(f).connect(g).connect(v),c.start(),{output:v,stop:M=>c.stop(M),pitched:[c]}}createMacroPluck(a,i){const c=this.ctx.createGain(),p=this.ctx.createBufferSource(),f=Math.floor(this.ctx.sampleRate*.02),v=this.ctx.createBuffer(1,f,this.ctx.sampleRate),x=v.getChannelData(0);for(let b=0;b<f;b++)x[b]=(Math.random()*2-1)*(1-b/f);p.buffer=v,p.loop=!1;const h=1/Math.max(20,a),g=this.ctx.createDelay(1);g.delayTime.value=h;const M=this.ctx.createGain();M.gain.value=.85+i.harmonics*.14;const k=this.ctx.createBiquadFilter();k.type="lowpass",k.frequency.value=1e3+i.timbre*8e3,k.Q.value=0;const S=this.ctx.createBiquadFilter();return S.type="highpass",S.frequency.value=50+i.morph*400,p.connect(S).connect(g).connect(c),g.connect(k).connect(M).connect(g),c.gain.value=i.level,p.start(),{output:c,stop:b=>{},pitched:[]}}makeVoice(a){const i=this.ctx.currentTime,c=this.patch.envelope,p=this.ctx.createGain();p.gain.value=0,p.connect(this.filter);const f=this.activeVoices.size,x=.65/Math.max(1,Math.sqrt(f+1)),g=(C=>{const O=Number(C??0);return Number.isFinite(O)?Math.max(-3,Math.min(3,Math.round(O))):0})(this.patch.osc1.octave),M=a*Math.pow(2,g),k=this.patch.engineMode??"classic";if(k==="macro"&&this.patch.macro){const C=this.patch.macro;let O;switch(C.model){case"fold":O=this.createMacroFold(a,C);break;case"pluck":O=this.createMacroPluck(a,C);break;case"supersaw":O=this.createMacroSuperSaw(a,C);break;case"pwm":O=this.createMacroPWM(a,C);break;case"fm2op":O=this.createMacroFM2Op(a,C);break;case"wavetable":O=this.createMacroWavetable(a,C);break;case"harmonic":O=this.createMacroHarmonic(a,C);break;case"chord":O=this.createMacroChord(a,C);break;case"va":default:O=this.createMacroVA(a,C);break}O.output.connect(p);const J=[];if(O.pitched&&O.pitched.length)for(const we of O.pitched)for(const oe of this.lfos)oe.dest==="pitch"&&this.patch[this.lfos.indexOf(oe)===0?"lfo1":"lfo2"]?.enabled&&(oe.gain.connect(we.detune),J.push({g:oe.gain,p:we.detune}));const Z=p.gain;return Z.cancelScheduledValues(i),Z.setValueAtTime(0,i),Z.linearRampToValueAtTime(x,i+Math.max(.001,c.attack)),Z.linearRampToValueAtTime(c.sustain*x,i+c.attack+Math.max(.001,c.decay)),{stop:we=>{const oe=Math.max(this.ctx.currentTime,we);Z.cancelScheduledValues(oe),Z.setValueAtTime(Z.value,oe),Z.linearRampToValueAtTime(0,oe+Math.max(.001,c.release)),O.stop(oe+c.release+.05);for(const ae of J)try{ae.g.disconnect(ae.p)}catch{}}}}if(k==="sampler"){const C=[],O=this.createSamplerSource(M,"osc1");O&&(O.connect(p),C.push(O));const J=[];if(this.patch.sub.enabled){const Z=this.ctx.createOscillator();Z.type=this.patch.sub.wave||"square";const me=a/Math.pow(2,Math.max(1,Math.min(2,this.patch.sub.octave)));Z.frequency.setValueAtTime(me,i);const we=this.ctx.createGain();we.gain.value=Math.max(0,Math.min(1,this.patch.sub.level)),Z.connect(we),we.connect(p),C.push(Z);for(const oe of this.lfos)oe.dest==="pitch"&&this.patch[this.lfos.indexOf(oe)===0?"lfo1":"lfo2"]?.enabled&&(oe.gain.connect(Z.detune),J.push({g:oe.gain,p:Z.detune}))}if(C.length){const Z=p.gain;Z.cancelScheduledValues(i),Z.setValueAtTime(0,i),Z.linearRampToValueAtTime(x,i+Math.max(.001,c.attack)),Z.linearRampToValueAtTime(c.sustain*x,i+c.attack+Math.max(.001,c.decay));for(const we of C)"start"in we&&!we._autoStarted&&we.start();return{stop:we=>{const oe=Math.max(this.ctx.currentTime,we);Z.cancelScheduledValues(oe),Z.setValueAtTime(Z.value,oe),Z.linearRampToValueAtTime(0,oe+Math.max(.001,c.release));for(const ae of C)"stop"in ae&&ae.stop(oe+c.release+.05);for(const ae of J)try{ae.g.disconnect(ae.p)}catch{}}}}for(const Z of J)try{Z.g.disconnect(Z.p)}catch{}}const S=this.ctx.createGain(),b=this.ctx.createGain(),T=Math.max(0,Math.min(1,this.patch.mix));S.gain.value=1-T,b.gain.value=T;const L=this.ctx.createGain();L.gain.value=1,S.connect(L),b.connect(L),L.connect(p);const R=[];let I=null,H=null,te=null;const V=[];{let C=null;if(this.patch.osc1.wave==="noise"){const O=this.ctx.createBufferSource();O.buffer=this.noiseBuffer,O.loop=!0,C=O}else if(this.patch.osc1.wave==="sample")C=this.createSamplerSource(M,"osc1");else{const O=this.ctx.createOscillator();O.type=this.patch.osc1.wave,O.frequency.setValueAtTime(M,i);const J=this.patch.osc1.detuneFine??0;O.detune.value=(this.patch.osc1.detune||0)+J,C=O,I=O}if(C&&(C.connect(S),R.push(C),te=C),C&&this.patch.fm.enabled&&"frequency"in C){const O=C,J=this.ctx.createOscillator();J.type=this.patch.osc2.wave;const Z=Math.max(.01,this.patch.fm.ratio||1);J.frequency.setValueAtTime(a*Z,i),J.detune.value=this.patch.osc2.detune||0;const me=this.ctx.createGain();me.gain.value=Math.max(0,this.patch.fm.amount||0),J.connect(me),me.connect(O.frequency),R.push(J)}if(C&&"detune"in C)for(const O of this.lfos)O.dest==="pitch"&&this.patch[this.lfos.indexOf(O)===0?"lfo1":"lfo2"]?.enabled&&(O.gain.connect(C.detune),V.push({g:O.gain,p:C.detune}))}{let C=null;if(this.patch.osc2.wave==="noise"){const O=this.ctx.createBufferSource();O.buffer=this.noiseBuffer,O.loop=!0,C=O}else if(this.patch.osc2.wave==="sample")C=this.createSamplerSource(a,"osc2");else{const O=this.ctx.createOscillator();O.type=this.patch.osc2.wave,O.frequency.setValueAtTime(a,i),O.detune.value=this.patch.osc2.detune,C=O,H=O}if(C&&(C.connect(b),R.push(C)),this.patch.ring.enabled&&te&&C){const O=this.ctx.createGain();O.gain.value=0,te.connect(O);const J=this.ctx.createGain();J.gain.value=1,C.connect(J),J.connect(O.gain);const Z=Math.max(0,Math.min(1,this.patch.ring.amount));L.gain.value=1-Z;const me=this.ctx.createGain();me.gain.value=Z,O.connect(me),me.connect(p)}if(C&&"detune"in C)for(const O of this.lfos)O.dest==="pitch"&&this.patch[this.lfos.indexOf(O)===0?"lfo1":"lfo2"]?.enabled&&(O.gain.connect(C.detune),V.push({g:O.gain,p:C.detune}))}const K=p.gain;K.cancelScheduledValues(i),K.setValueAtTime(0,i),K.linearRampToValueAtTime(x,i+Math.max(.001,c.attack)),K.linearRampToValueAtTime(c.sustain*x,i+c.attack+Math.max(.001,c.decay));for(const C of R)"start"in C&&!C._autoStarted&&C.start();if(this.patch.sub.enabled){const C=this.ctx.createOscillator();C.type=this.patch.sub.wave||"square";const O=a/Math.pow(2,Math.max(1,Math.min(2,this.patch.sub.octave)));C.frequency.setValueAtTime(O,i);const J=this.ctx.createGain();J.gain.value=Math.max(0,Math.min(1,this.patch.sub.level)),C.connect(J),J.connect(p),R.push(C);for(const Z of this.lfos)Z.dest==="pitch"&&this.patch[this.lfos.indexOf(Z)===0?"lfo1":"lfo2"]?.enabled&&(Z.gain.connect(C.detune),V.push({g:Z.gain,p:C.detune}))}const z={stop:C=>{const O=Math.max(this.ctx.currentTime,C);K.cancelScheduledValues(O),K.setValueAtTime(K.value,O),K.linearRampToValueAtTime(0,O+Math.max(.001,c.release));for(const J of R)"stop"in J&&J.stop(O+c.release+.05);for(const J of V)try{J.g.disconnect(J.p)}catch{}}};return I&&(z.osc1Detune=I.detune),H&&(z.osc2Detune=H.detune),z}allNotesOff(){const a=this.ctx.currentTime;for(const i of this.activeVoices.values())i.stop(a);this.activeVoices.clear()}getArpChordOffsets(){const a=this.patch.arp??U.arp;if((a.chordSource??"preset")==="sequencer"){const p=this.patch.sequencer??U.sequencer,f=p.steps??[],v=Math.max(1,Math.min(f.length,p.length)),x=new Set;for(let h=0;h<v;h++){const g=f[h];if(g?.on){const M=Math.round(g.offset??0);Number.isFinite(M)&&x.add(M)}}return x.size>0?Array.from(x).sort((h,g)=>h-g):[0]}switch(a.chord??U.arp.chord??"none"){case"power":return[0,7];case"major":return[0,4,7];case"minor":return[0,3,7];case"sus2":return[0,2,7];case"sus4":return[0,5,7];case"maj7":return[0,4,7,11];case"min7":return[0,3,7,10];default:return[0]}}buildArpPool(){if(this.arpHeld.size===0)return[];const a=this.patch.arp?.mode??"up",i=a==="asplayed"?Array.from(this.arpHeld.values()):Array.from(this.arpHeld.values()).sort((v,x)=>v-x),c=Math.max(1,Math.min(4,this.patch.arp?.octaves??1)),p=[],f=this.getArpChordOffsets();for(let v=0;v<c;v++)for(const x of i){const h=x+v*12;for(const g of f){const M=h+g;M<0||M>127||p.push(M)}}if(a==="down")return p.slice().sort((v,x)=>x-v);if(a==="random")return p.slice().sort(()=>Math.random()-.5);if(a==="updown"){const v=p.slice().sort((h,g)=>h-g),x=v.slice().reverse().slice(1,-1);return v.concat(x)}return p}updateArpScheduler(a={}){const{forceRestart:i=!1}=a;if(!!this.patch.arp?.enabled&&this.arpHeld.size>0){const p=i||this.arpTimer==null;if(p&&this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),p){this.arpPhase=0,this.arpRepeatCounter=0;const f=this.getArpStepMs(),v=this.computeArpAlignmentDelay(f);this.scheduleNextArpTick(v)}}else{if(this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const p=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(p)}finally{this.arpBypass=!1}this.arpLastNote=null}this.arpIndex=0,this.arpRepeatCounter=0}}computeArpAlignmentDelay(a){if(!(a>0))return 0;const c=this.ctx.currentTime*1e3%a;return c<1?0:a-c}scheduleNextArpTick(a){const i=this.getArpStepMs();let c=0;if(this.patch.arp?.bpmSync){const x=this.patch.arp?.division,h=Math.max(0,Math.min(1,this.patch.arp?.swingPct??0));x==="1/8"?c=h:x==="1/16"?c=h*.5:c=0}const p=this.arpPhase===0?1+c*.5:1-c*.5,f=i*p,v=a??f;this.arpCurrentStepMs=f,this.arpTimer=setTimeout(()=>{if(!this.patch.arp?.enabled||this.arpHeld.size===0){this.updateArpScheduler();return}this.arpTick(),this.arpPhase=this.arpPhase?0:1,this.scheduleNextArpTick()},Math.max(0,v))}getArpStepMs(){const a=this.patch.arp;if(a?.bpmSync){const c=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division||"1/8",f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return c*f}else return 1e3/Math.max(.1,a?.rateHz??8)}arpTick(){let a=this.buildArpPool();if(a.length===0){if(this.arpLastNote!=null){const g=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(g)}finally{this.arpBypass=!1}this.arpLastNote=null}return}const i=Math.max(0,this.patch.arp?.patternLen??0);i>0&&a.length>i&&(a=a.slice(0,i)),this.arpIndex>=a.length&&(this.arpIndex=0);const c=a[this.arpIndex++],p=Math.max(1,Math.min(8,this.patch.arp?.repeats??1));this.arpRepeatCounter<p-1?(this.arpIndex=(this.arpIndex-1+a.length)%a.length,this.arpRepeatCounter++):this.arpRepeatCounter=0,this.arpLastNote!=null&&(this.patch.arp?.gate??.6)>=1,this.arpBypass=!0;try{this.noteOn(c)}finally{this.arpBypass=!1}this.arpLastNote=c;const f=this.arpCurrentStepMs||this.getArpStepMs(),v=Math.max(.05,Math.min(1,this.patch.arp?.gate??.6)),x=f*v,h=c;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(h)}finally{this.arpBypass=!1}},x)}getArpStatus(){const a=!!this.patch.arp?.enabled;let i=0,c=0;if(a){const p=this.buildArpPool().length,f=Math.max(0,this.patch.arp?.patternLen??0);if(i=f>0?Math.min(f,p):p,i<=0&&(i=0),i>0){const v=(this.arpIndex-1+i)%i;c=v<0?0:v}}return{enabled:a,stepIndex:c,length:i}}getSeqStepMs(){const a=this.patch.sequencer,c=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division,f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return c*f}updateSeqScheduler(){const a=this.patch.sequencer;if(!!a.enabled&&!!a.playing)this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqPhase=0,this.seqStepIndex=0,this.scheduleNextSeqTick();else if(this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqLastNote!=null){const c=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(c)}finally{this.arpBypass=!1}this.seqLastNote=null}}scheduleNextSeqTick(){const a=this.getSeqStepMs(),i=this.patch.sequencer?.division;let c=Math.max(0,Math.min(1,this.patch.sequencer?.swingPct??0));i==="1/16"&&(c*=.5),i==="1/8"&&(c=c),(i==="1/4"||i?.endsWith("T"))&&(c=0);const p=this.seqPhase===0?1+c*.5:1-c*.5,f=a*p;this.seqCurrentStepMs=f,this.seqTimer=setTimeout(()=>{if(!this.patch.sequencer?.enabled||!this.patch.sequencer?.playing){this.updateSeqScheduler();return}this.seqTick(),this.seqPhase=this.seqPhase?0:1,this.scheduleNextSeqTick()},f)}seqTick(){const a=this.patch.sequencer,i=Math.max(1,Math.min(a.steps.length,a.length)),c=this.seqStepIndex%i,p=a.steps[c]||{on:!1,offset:0};if(this.seqStepIndex=(this.seqStepIndex+1)%i,this.seqLastNote!=null&&(a.gate??.6)>=1){const f=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}this.seqLastNote=null}if(p.on){const f=Math.round((a.rootMidi||60)+(p.offset||0));this.arpBypass=!0;try{this.noteOn(f)}finally{this.arpBypass=!1}this.seqLastNote=f;const v=Math.max(.05,Math.min(1,a.gate??.6)),x=(this.seqCurrentStepMs||this.getSeqStepMs())*v;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}},x)}}getSequencerStatus(){const a=this.patch.sequencer,i=!!a.enabled&&!!a.playing,c=Math.max(0,Math.min(a.steps.length,a.length)),p=i&&c>0?(this.seqStepIndex+c-1)%c:0;return{enabled:i,stepIndex:p,length:c}}previewNote(a,i=150){this.arpBypass=!0;try{this.noteOn(a)}finally{this.arpBypass=!1}setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}},Math.max(20,i))}noteOn(a){if(this.patch.arp?.enabled&&!this.arpBypass){this.arpHeld.add(a),this.updateArpScheduler();return}const i=440*Math.pow(2,(a-69)/12),c=this.makeVoice(i);this.activeVoices.set(a,c)}noteOff(a){if(this.patch.arp?.enabled&&!this.arpBypass){if(this.patch.arp?.latch||(this.arpHeld.delete(a),this.arpHeld.size===0&&this.updateArpScheduler()),this.arpLastNote===a){const c=this.activeVoices.get(a);c&&c.stop(this.ctx.currentTime),this.activeVoices.delete(a),this.arpLastNote===a&&(this.arpLastNote=null)}return}const i=this.activeVoices.get(a);i&&(i.stop(this.ctx.currentTime),this.activeVoices.delete(a))}arpClear(){if(this.arpHeld.clear(),this.arpIndex=0,this.arpTimer!=null&&(clearInterval(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const a=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}this.arpLastNote=null}}}const Tf={},lc=u=>{let a;const i=new Set,c=(M,k)=>{const S=typeof M=="function"?M(a):M;if(!Object.is(S,a)){const b=a;a=k??(typeof S!="object"||S===null)?S:Object.assign({},a,S),i.forEach(T=>T(a,b))}},p=()=>a,h={setState:c,getState:p,getInitialState:()=>g,subscribe:M=>(i.add(M),()=>i.delete(M)),destroy:()=>{(Tf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=a=u(c,p,h);return h},_f=u=>u?lc(u):lc;var ei={exports:{}},ti={},ni={exports:{}},ri={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc;function Lf(){if(oc)return ri;oc=1;var u=Wr();function a(k,S){return k===S&&(k!==0||1/k===1/S)||k!==k&&S!==S}var i=typeof Object.is=="function"?Object.is:a,c=u.useState,p=u.useEffect,f=u.useLayoutEffect,v=u.useDebugValue;function x(k,S){var b=S(),T=c({inst:{value:b,getSnapshot:S}}),L=T[0].inst,R=T[1];return f(function(){L.value=b,L.getSnapshot=S,h(L)&&R({inst:L})},[k,b,S]),p(function(){return h(L)&&R({inst:L}),k(function(){h(L)&&R({inst:L})})},[k]),v(b),b}function h(k){var S=k.getSnapshot;k=k.value;try{var b=S();return!i(k,b)}catch{return!0}}function g(k,S){return S()}var M=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:x;return ri.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:M,ri}var ic;function Rf(){return ic||(ic=1,ni.exports=Lf()),ni.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac;function Of(){if(ac)return ti;ac=1;var u=Wr(),a=Rf();function i(g,M){return g===M&&(g!==0||1/g===1/M)||g!==g&&M!==M}var c=typeof Object.is=="function"?Object.is:i,p=a.useSyncExternalStore,f=u.useRef,v=u.useEffect,x=u.useMemo,h=u.useDebugValue;return ti.useSyncExternalStoreWithSelector=function(g,M,k,S,b){var T=f(null);if(T.current===null){var L={hasValue:!1,value:null};T.current=L}else L=T.current;T=x(function(){function I(E){if(!H){if(H=!0,te=E,E=S(E),b!==void 0&&L.hasValue){var z=L.value;if(b(z,E))return V=z}return V=E}if(z=V,c(te,E))return z;var C=S(E);return b!==void 0&&b(z,C)?z:(te=E,V=C)}var H=!1,te,V,K=k===void 0?null:k;return[function(){return I(M())},K===null?void 0:function(){return I(K())}]},[M,k,S,b]);var R=p(g,T[0],T[1]);return v(function(){L.hasValue=!0,L.value=R},[R]),h(R),R},ti}var uc;function bf(){return uc||(uc=1,ei.exports=Of()),ei.exports}var If=bf();const Df=yc(If),xc={},{useDebugValue:zf}=yt,{useSyncExternalStoreWithSelector:Ff}=Df;let cc=!1;const Af=u=>u;function qf(u,a=Af,i){(xc?"production":void 0)!=="production"&&i&&!cc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cc=!0);const c=Ff(u.subscribe,u.getState,u.getServerState||u.getInitialState,a,i);return zf(c),c}const Bf=u=>{(xc?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof u=="function"?_f(u):u,i=(c,p)=>qf(a,c,p);return Object.assign(i,a),i},Uf=u=>Bf,Hf={};function Vf(u,a){let i;try{i=u()}catch{return}return{getItem:p=>{var f;const v=h=>h===null?null:JSON.parse(h,void 0),x=(f=i.getItem(p))!=null?f:null;return x instanceof Promise?x.then(v):v(x)},setItem:(p,f)=>i.setItem(p,JSON.stringify(f,void 0)),removeItem:p=>i.removeItem(p)}}const Vr=u=>a=>{try{const i=u(a);return i instanceof Promise?i:{then(c){return Vr(c)(i)},catch(c){return this}}}catch(i){return{then(c){return this},catch(c){return Vr(c)(i)}}}},Wf=(u,a)=>(i,c,p)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:R=>R,version:0,merge:(R,I)=>({...I,...R}),...a},v=!1;const x=new Set,h=new Set;let g;try{g=f.getStorage()}catch{}if(!g)return u((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...R)},c,p);const M=Vr(f.serialize),k=()=>{const R=f.partialize({...c()});let I;const H=M({state:R,version:f.version}).then(te=>g.setItem(f.name,te)).catch(te=>{I=te});if(I)throw I;return H},S=p.setState;p.setState=(R,I)=>{S(R,I),k()};const b=u((...R)=>{i(...R),k()},c,p);let T;const L=()=>{var R;if(!g)return;v=!1,x.forEach(H=>H(c()));const I=((R=f.onRehydrateStorage)==null?void 0:R.call(f,c()))||void 0;return Vr(g.getItem.bind(g))(f.name).then(H=>{if(H)return f.deserialize(H)}).then(H=>{if(H)if(typeof H.version=="number"&&H.version!==f.version){if(f.migrate)return f.migrate(H.state,H.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return H.state}).then(H=>{var te;return T=f.merge(H,(te=c())!=null?te:b),i(T,!0),k()}).then(()=>{I?.(T,void 0),v=!0,h.forEach(H=>H(T))}).catch(H=>{I?.(void 0,H)})};return p.persist={setOptions:R=>{f={...f,...R},R.getStorage&&(g=R.getStorage())},clearStorage:()=>{g?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>L(),hasHydrated:()=>v,onHydrate:R=>(x.add(R),()=>{x.delete(R)}),onFinishHydration:R=>(h.add(R),()=>{h.delete(R)})},L(),T||b},$f=(u,a)=>(i,c,p)=>{let f={storage:Vf(()=>localStorage),partialize:L=>L,version:0,merge:(L,R)=>({...R,...L}),...a},v=!1;const x=new Set,h=new Set;let g=f.storage;if(!g)return u((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...L)},c,p);const M=()=>{const L=f.partialize({...c()});return g.setItem(f.name,{state:L,version:f.version})},k=p.setState;p.setState=(L,R)=>{k(L,R),M()};const S=u((...L)=>{i(...L),M()},c,p);p.getInitialState=()=>S;let b;const T=()=>{var L,R;if(!g)return;v=!1,x.forEach(H=>{var te;return H((te=c())!=null?te:S)});const I=((R=f.onRehydrateStorage)==null?void 0:R.call(f,(L=c())!=null?L:S))||void 0;return Vr(g.getItem.bind(g))(f.name).then(H=>{if(H)if(typeof H.version=="number"&&H.version!==f.version){if(f.migrate)return[!0,f.migrate(H.state,H.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,H.state];return[!1,void 0]}).then(H=>{var te;const[V,K]=H;if(b=f.merge(K,(te=c())!=null?te:S),i(b,!0),V)return M()}).then(()=>{I?.(b,void 0),b=c(),v=!0,h.forEach(H=>H(b))}).catch(H=>{I?.(void 0,H)})};return p.persist={setOptions:L=>{f={...f,...L},L.storage&&(g=L.storage)},clearStorage:()=>{g?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>T(),hasHydrated:()=>v,onHydrate:L=>(x.add(L),()=>{x.delete(L)}),onFinishHydration:L=>(h.add(L),()=>{h.delete(L)})},f.skipHydration||T(),b||S},Gf=(u,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((Hf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Wf(u,a)):$f(u,a),Qf=Gf,Y=Uf()(Qf((u,a)=>({engine:null,patch:U,samplerLibrary:[],layoutOrder:[],oscilloscope:{fftSize:4096},tempo:110,transport:{tempo:110,playing:!1,tick:0},midi:{supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]},setEngine:i=>u({engine:i}),updatePatch:i=>{const c={...a().patch,...i,osc1:{...a().patch.osc1,...i.osc1},osc2:{...a().patch.osc2,...i.osc2},fm:{...a().patch.fm,...i.fm},sub:{...a().patch.sub,...i.sub},ring:{...a().patch.ring,...i.ring},filter:{...a().patch.filter,...i.filter},envelope:{...a().patch.envelope,...i.envelope},master:{...a().patch.master,...i.master},sampler:{...a().patch.sampler,...i.sampler},macro:{...a().patch.macro||U.macro,...i.macro},effects:{...a().patch.effects||U.effects,...i.effects},lfo1:{...a().patch.lfo1||U.lfo1,...i.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...i.lfo2},arp:{...a().patch.arp||U.arp,...i.arp},sequencer:{...a().patch.sequencer||U.sequencer,...i.sequencer},mix:i.mix!=null?i.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...i.expression}};a().engine?.applyPatch(i),u({patch:c})},setLayoutOrder:i=>u({layoutOrder:i}),setTempo:i=>u(c=>({tempo:i,transport:{...c.transport,tempo:i}})),setTransportPlaying:i=>u(c=>({transport:{...c.transport,playing:i,tick:0}})),bumpTransportTick:()=>u(i=>({transport:{...i.transport,tick:i.transport.tick+1}})),importPatch:i=>{const c=JSON.parse(i),p={...a().patch,...c,osc1:{...a().patch.osc1,...c.osc1},osc2:{...a().patch.osc2,...c.osc2},fm:{...a().patch.fm,...c.fm},sub:{...a().patch.sub,...c.sub},ring:{...a().patch.ring,...c.ring},filter:{...a().patch.filter,...c.filter},envelope:{...a().patch.envelope,...c.envelope},master:{...a().patch.master,...c.master},sampler:{...a().patch.sampler,...c.sampler},macro:{...a().patch.macro||U.macro,...c.macro},effects:{...a().patch.effects||U.effects,...c.effects},lfo1:{...a().patch.lfo1||U.lfo1,...c.lfo1},lfo2:{...a().patch.lfo2||U.lfo2,...c.lfo2},arp:{...a().patch.arp||U.arp,...c.arp},sequencer:{...a().patch.sequencer||U.sequencer,...c.sequencer},mix:c.mix!=null?c.mix:a().patch.mix,expression:{...a().patch.expression||U.expression,...c.expression}};a().engine?.applyPatch(p),u({patch:p})},exportPatch:()=>JSON.stringify(a().patch,null,2),setMidiSupported:i=>u(c=>({midi:{...c.midi,supported:i}})),setMidiStatus:(i,c=null)=>u(p=>({midi:{...p.midi,status:i,lastError:c}})),setMidiEnabled:i=>u(c=>({midi:{...c.midi,enabled:i}})),setMidiInputs:i=>u(c=>({midi:{...c.midi,inputs:i}})),setMidiSelectedInput:i=>u(c=>({midi:{...c.midi,selectedInputId:i}})),setMidiActiveNotes:i=>u(c=>({midi:{...c.midi,activeNotes:i}})),setOscilloscopeFftSize:i=>u(c=>({oscilloscope:{fftSize:i}})),saveSamplerSample:i=>u(c=>{const p=i.id??`sample-${Date.now()}`,f={...U.sampler,...i,id:p},v=c.samplerLibrary.filter(x=>x.id!==p).concat(f);return c.engine?.applyPatch({sampler:f}),{samplerLibrary:v,patch:{...c.patch,sampler:f}}}),deleteSamplerSample:i=>u(c=>{const p=c.samplerLibrary.filter(v=>v.id!==i);let f=c.patch;if(c.patch.sampler.id===i){const v={...U.sampler};c.engine?.applyPatch({sampler:v}),f={...c.patch,sampler:v}}return{samplerLibrary:p,patch:f}}),setSamplerFromLibrary:i=>u(c=>{const p=c.samplerLibrary.find(v=>v.id===i);if(!p)return{};const f={...U.sampler,...p};return c.engine?.applyPatch({sampler:f}),{patch:{...c.patch,sampler:f}}}),updateCurrentSampler:i=>u(c=>{const f={...{...U.sampler,...c.patch.sampler??{}},...i};c.engine?.applyPatch({sampler:f});const v=f.id?c.samplerLibrary.map(x=>x.id===f.id?{...x,...i}:x):c.samplerLibrary;return{patch:{...c.patch,sampler:f},samplerLibrary:v}}),renameSamplerSample:(i,c)=>u(p=>{const f=c.trim();if(!f)return{};let v=!1;const x=p.samplerLibrary.map(g=>g.id!==i?g:(v=!0,{...g,name:f}));if(!v)return{};let h=p.patch;if(p.patch.sampler.id===i){const g={...p.patch.sampler,name:f};p.engine?.applyPatch({sampler:g}),h={...p.patch,sampler:g}}return{samplerLibrary:x,patch:h}}),resetPatch:()=>u(i=>(i.engine?.applyPatch(U),{patch:U,samplerLibrary:i.samplerLibrary}))}),{name:"websynth-patch",partialize:u=>({patch:{...u.patch,sequencer:u.patch.sequencer?{...u.patch.sequencer,playing:!1}:u.patch.sequencer,arp:u.patch.arp?{...u.patch.arp,bpmSync:u.patch.arp.bpmSync??!0}:u.patch.arp},samplerLibrary:u.samplerLibrary,layoutOrder:u.layoutOrder,tempo:u.tempo,transport:{tempo:u.transport.tempo,playing:!1,tick:0},midi:{enabled:u.midi.enabled,selectedInputId:u.midi.selectedInputId},oscilloscope:u.oscilloscope}),version:11,migrate:(u,a)=>{const i=u?.patch;if(!i)return u;const c=i.osc1||{},{finePct:p,...f}=c,v={...U,...i,osc1:{...U.osc1,...f},osc2:{...U.osc2,...i.osc2||{}},fm:{...U.fm,...i.fm||{}},sub:{...U.sub,...i.sub||{}},ring:{...U.ring,...i.ring||{}},filter:{...U.filter,...i.filter||{}},envelope:{...U.envelope,...i.envelope||{}},master:{...U.master,...i.master||{}},sampler:{...U.sampler,...i.sampler||{}},macro:{...U.macro,...i.macro||{}},effects:{...U.effects,...i.effects||{}},lfo1:{...U.lfo1,...i.lfo1||{}},lfo2:{...U.lfo2,...i.lfo2||{}},arp:{...U.arp,...i.arp||{}},sequencer:{...U.sequencer,...i.sequencer||{}},mix:typeof i.mix=="number"?i.mix:U.mix,expression:{...U.expression,...i.expression||{}}},x=Array.isArray(u?.layoutOrder)?u.layoutOrder.filter(I=>typeof I=="string"):[],h=typeof u?.tempo=="number"?u.tempo:110,g=u?.transport,M=g?{tempo:g.tempo??h,playing:!1,tick:0}:{tempo:h,playing:!1,tick:0},k=u?.midi,S={supported:null,status:"idle",enabled:k?.enabled??!1,inputs:[],selectedInputId:k?.selectedInputId??null,lastError:null,activeNotes:[]},b=Array.isArray(u?.samplerLibrary)?u.samplerLibrary.map((I,H)=>({...U.sampler,...I??{},id:typeof I?.id=="string"?I.id:`legacy-${Date.now()}-${H}`})):[],T=[1024,2048,4096,8192],L=u?.oscilloscope?.fftSize,R=T.includes(L)?L:4096;return{...u,patch:v,samplerLibrary:b,layoutOrder:x,tempo:h,transport:M,midi:S,oscilloscope:{fftSize:R}}},onRehydrateStorage:()=>u=>{u&&(u.engine=null,(!u.oscilloscope||![1024,2048,4096,8192].includes(u.oscilloscope.fftSize))&&(u.oscilloscope={fftSize:4096}),Array.isArray(u.layoutOrder)||(u.layoutOrder=[]),typeof u.tempo!="number"&&(u.tempo=110),u.transport||(u.transport={tempo:u.tempo,playing:!1,tick:0}),u.midi?u.midi={supported:null,status:"idle",enabled:!!u.midi.enabled,inputs:[],selectedInputId:u.midi.selectedInputId??null,lastError:null,activeNotes:[]}:u.midi={supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]})}}));function Ce({value:u,min:a,max:i,step:c=.01,size:p=56,label:f,formatValue:v,onChange:x,disabled:h=!1,showValue:g=!0}){const[M,k]=W.useState(!1),S=W.useRef(null),b=W.useCallback(oe=>Math.min(i,Math.max(a,oe)),[a,i]),T=i-a,L=T===0?0:(u-a)/T,R=W.useMemo(()=>-135+L*270,[L]),I=v?v(u):Kf(u),H=oe=>{h||(oe.currentTarget.setPointerCapture(oe.pointerId),S.current={y:oe.clientY,v:u},k(!0))},te=oe=>{if(!S.current||h)return;if(oe.buttons===0){S.current=null,k(!1);try{oe.currentTarget.releasePointerCapture(oe.pointerId)}catch{}return}const Te=(S.current.y-oe.clientY)/150*T,pe=b(S.current.v+Te);x(si(pe,c))},V=oe=>{if(!h){try{oe.currentTarget.releasePointerCapture(oe.pointerId)}catch{}S.current=null,k(!1)}},K=oe=>{if(h)return;const ae=c;(oe.key==="ArrowUp"||oe.key==="ArrowRight")&&x(b(si(u+ae,ae))),(oe.key==="ArrowDown"||oe.key==="ArrowLeft")&&x(b(si(u-ae,ae)))},E=p/2-6,z=p/2,C=p/2,O=-135,J=z+Math.cos(O*Math.PI/180)*(E+6),Z=C+Math.sin(O*Math.PI/180)*(E+6),me=z+Math.cos(R*Math.PI/180)*(E-6),we=C+Math.sin(R*Math.PI/180)*(E-6);return l.jsxs("div",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:6,opacity:h?.4:1,pointerEvents:h?"none":"auto",width:p},children:[l.jsxs("svg",{width:p,height:p,onPointerDown:H,onPointerMove:te,onPointerUp:V,onKeyDown:K,role:"slider","aria-label":f,"aria-valuemin":a,"aria-valuemax":i,"aria-valuenow":u,"aria-valuetext":I,tabIndex:h?-1:0,style:{cursor:h?"default":"ns-resize",outline:M?"1px solid var(--accent)":"none",borderRadius:8},children:[l.jsx("circle",{cx:z,cy:C,r:E,fill:"#0f1217",stroke:"#2a3040"}),l.jsx("circle",{cx:z,cy:C,r:E-8,fill:"#161a22",stroke:"#202635"}),l.jsx("circle",{cx:J,cy:Z,r:2.4,fill:"#3dd973",stroke:"#12161f",strokeWidth:.8}),l.jsx("line",{x1:z,y1:C,x2:me,y2:we,stroke:"var(--accent)",strokeWidth:3,strokeLinecap:"round"})]}),(f||g)&&l.jsxs("div",{className:"knob-legend",children:[f?l.jsx("span",{className:"label",children:f}):null,g?l.jsx("span",{className:"value",children:I}):null]})]})}function si(u,a){const i=1/a;return Math.round(u*i)/i}function Kf(u){return Math.abs(u)>=100?u.toFixed(0):Math.abs(u)>=10?u.toFixed(1):u.toFixed(2)}const Yf=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Xf=Array.from({length:61},(u,a)=>{const i=36+a,c=Yf[i%12],p=Math.floor(i/12)-1;return{midi:i,label:`${c}${p}`}}),Zf=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`sample-${Date.now()}-${Math.random().toString(16).slice(2)}`,Jf=u=>{const a={...U.sampler,...u??{}},i=typeof a.durationSec=="number"&&a.durationSec>0?a.durationSec:0;if(i===0)return{...a,durationSec:0,trimStartSec:0,trimEndSec:0};const c=.005,p=Math.max(0,i-c),f=Number(a.trimStartSec),v=Math.min(Math.max(Number.isFinite(f)?f:0,0),p),x=Number(a.trimEndSec);let h=Number.isFinite(x)?x:i;return h-v<c&&(h=i),h=Math.min(Math.max(h,v+c),i),{...a,durationSec:i,trimStartSec:v,trimEndSec:h}},rl=u=>{const a=Math.max(0,u),i=Math.floor(a/60),c=Math.floor(a%60);return`${String(i).padStart(2,"0")}:${String(c).padStart(2,"0")}`};function ep(){const u=Y(q=>q.patch.sampler),a=Y(q=>q.samplerLibrary),i=Y(q=>q.saveSamplerSample),c=Y(q=>q.deleteSamplerSample),p=Y(q=>q.setSamplerFromLibrary),f=Y(q=>q.updateCurrentSampler),v=Y(q=>q.renameSamplerSample),[x,h]=W.useState(null),[g,M]=W.useState(!1),[k,S]=W.useState(!1),[b,T]=W.useState(0),[L,R]=W.useState(!1),I=W.useRef(null),H=W.useRef(null),te=W.useRef(null),V=W.useRef([]),K=W.useRef(null),E=W.useRef(null),z=W.useRef(null),[C,O]=W.useState(null),[J,Z]=W.useState(""),we=W.useMemo(()=>typeof window<"u"?typeof window.MediaRecorder<"u":!1,[])&&typeof navigator<"u"&&!!navigator.mediaDevices?.getUserMedia,oe=W.useCallback(()=>{te.current&&(te.current.getTracks().forEach(q=>{try{q.stop()}catch{}}),te.current=null),H.current=null},[]),ae=W.useCallback(async()=>{if(typeof window>"u")return null;if(!z.current)try{z.current=new AudioContext}catch(fe){return h(fe instanceof Error?fe.message:"Unable to create AudioContext"),null}const q=z.current;if(q&&q.state==="suspended")try{await q.resume()}catch{}return q},[]),Te=W.useCallback(async q=>{const fe=await ae();if(!fe)return null;try{const xe=await(await fetch(q)).arrayBuffer();return(await fe.decodeAudioData(xe.slice(0))).duration}catch(ye){return h(ye instanceof Error?ye.message:"Unable to decode audio"),null}},[ae]),pe=Jf(u),$=W.useCallback(async(q,fe)=>{M(!0),h(null);try{const ye=await Te(q);if(ye==null)return;const xe=ye>0?ye:0,Xe={id:Zf(),name:fe,dataUrl:q,recordedAt:Date.now(),durationSec:xe,trimStartSec:0,trimEndSec:xe,loop:pe.loop,rootMidi:pe.rootMidi};i(Xe)}finally{M(!1)}},[pe.loop,pe.rootMidi,Te,i]),le=W.useCallback((q,fe)=>{const ye=new FileReader;ye.onloadend=()=>{const xe=ye.result;typeof xe=="string"?$(xe,fe):h("Unable to read recording data")},ye.onerror=()=>{h("Failed to read recorded audio")},ye.readAsDataURL(q)},[$]),Q=W.useCallback(()=>{const q=H.current;if(q&&q.state!=="inactive"){try{q.stop()}catch{}S(!1),K.current=null}},[]),j=async()=>{if(!(!we||k||g)){h(null);try{const q=await navigator.mediaDevices.getUserMedia({audio:!0}),fe=window.MediaRecorder,ye=new fe(q);V.current=[],ye.ondataavailable=xe=>{xe.data&&xe.data.size>0&&V.current.push(xe.data)},ye.onerror=xe=>{const Xe=xe?.error?.message??"Recording error";h(Xe),Q()},ye.onstop=()=>{S(!1);const xe=new Blob(V.current,{type:V.current[0]?.type||"audio/webm"});if(V.current=[],oe(),xe.size>0){const Xe=new Date().toISOString().replace(/[:.]/g,"-");le(xe,`recording-${Xe}.webm`)}},ye.start(),H.current=ye,te.current=q,S(!0),K.current=performance.now(),T(0),R(!0)}catch(q){oe(),S(!1),K.current=null,h(q instanceof Error?q.message:"Microphone access denied")}}},D=W.useCallback(q=>{const fe=new FileReader;fe.onloadend=()=>{const ye=fe.result;typeof ye=="string"?$(ye,q.name):h("Unable to read file")},fe.onerror=()=>h("Unable to load file"),fe.readAsDataURL(q)},[$]),ge=q=>{const fe=q.target.files?.[0];fe&&D(fe),q.target&&(q.target.value="")};W.useEffect(()=>()=>{Q(),oe()},[oe,Q]),W.useEffect(()=>(k?(E.current!=null&&window.clearInterval(E.current),E.current=window.setInterval(()=>{if(K.current!=null){const q=(performance.now()-K.current)/1e3;T(q),R(fe=>!fe)}},500)):(E.current!=null&&(window.clearInterval(E.current),E.current=null),T(0),R(!1)),()=>{E.current!=null&&(window.clearInterval(E.current),E.current=null)}),[k]);const ue=pe.durationSec??0,Se=!!pe.dataUrl&&ue>0,ve=pe.trimStartSec??0,ke=pe.trimEndSec??ue,Me=q=>{if(!Se)return;const fe=Math.max(0,Math.min(q,ue)),xe=Math.max(fe+.005,ke);f({trimStartSec:fe,trimEndSec:Math.min(xe,ue)})},_e=q=>{if(!Se)return;const fe=Math.max(0,Math.min(q,ue)),ye=.005,xe=Math.min(ve,fe-ye),Xe=Math.max(0,Math.min(xe,ue)),jt=Math.min(ue,Math.max(fe,ye));f({trimStartSec:Math.max(Xe,0),trimEndSec:jt})},ie=W.useCallback(q=>{if(typeof window>"u"||!q.dataUrl)return;const fe=document.createElement("a");fe.href=q.dataUrl;const ye=q.dataUrl.split(";")[0]?.split(":")[1]??"audio/webm",xe=ye.includes("/")?ye.split("/")[1]:"webm",Xe=(q.name||"sample").replace(/[^a-z0-9_\-]+/gi,"_");fe.download=`${Xe}.${xe}`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},[]),Ae=W.useCallback(()=>{if(typeof window>"u"||a.length===0)return;const q=JSON.stringify(a.map(Xe=>({...Xe,recordedAt:Xe.recordedAt??null})),null,2),fe=new Blob([q],{type:"application/json"}),ye=URL.createObjectURL(fe),xe=document.createElement("a");xe.href=ye,xe.download=`sampler-library-${new Date().toISOString().replace(/[:.]/g,"-")}.json`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(ye)},[a]),He=W.useCallback(()=>{O(null),Z("")},[]),Ge=W.useCallback(()=>{if(!C)return;const q=J.trim();q&&(v(C,q),O(null),Z(""))},[C,J,v]);return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,padding:"8px 0"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsx("div",{className:"label",children:"Sampler"}),l.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("button",{type:"button",onClick:()=>I.current?.click(),disabled:g,children:g?"Loading...":"Load Sample"}),l.jsx("button",{type:"button",onClick:k?Q:j,disabled:!we||g,children:k?"Stop Recording":"Record"}),l.jsx("button",{type:"button",onClick:()=>{f({id:null,name:U.sampler.name,dataUrl:null,recordedAt:void 0,durationSec:0,trimStartSec:0,trimEndSec:0,loop:U.sampler.loop,rootMidi:U.sampler.rootMidi}),h(null)},disabled:!pe.dataUrl,children:"Clear"})]}),l.jsx("input",{ref:I,type:"file",accept:"audio/*",style:{display:"none"},onChange:ge,disabled:g})]}),k&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:L?"#ff4d4f":"#ffb3b8",boxShadow:L?"0 0 8px rgba(255,77,79,0.8)":"none",transition:"background-color 0.2s linear, box-shadow 0.2s linear"}}),l.jsxs("span",{style:{fontFamily:"monospace",fontSize:12},children:["Recording ",rl(b)]})]}),l.jsxs("div",{style:{fontSize:12,color:"var(--muted)",display:"flex",flexWrap:"wrap",gap:8},children:[l.jsxs("span",{children:[l.jsx("span",{className:"label",style:{marginRight:4},children:"Current"}),l.jsx("span",{children:pe.dataUrl?pe.name:"No sample loaded"})]}),Se&&l.jsxs("span",{children:["Length ",rl(ue),"  Window ",rl(ke-ve)]}),!we&&l.jsx("span",{children:"(Recording unsupported in this browser)"})]}),x&&l.jsx("div",{style:{color:"var(--danger, #d14343)",fontSize:12},children:x}),l.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsxs("label",{children:[l.jsx("span",{className:"label",children:"Root Note"}),l.jsx("select",{value:pe.rootMidi,onChange:q=>f({rootMidi:Number(q.target.value)}),children:Xf.map(q=>l.jsx("option",{value:q.midi,children:q.label},q.midi))})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:!!pe.loop,onChange:q=>f({loop:q.target.checked})}),"Loop playback"]})]}),Se&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsx("div",{className:"label",children:"Trim"}),l.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))"},children:[l.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:4},children:[l.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:["Start ",Math.round(ve*1e3)," ms"]}),l.jsx("input",{type:"range",min:0,max:Math.max(ue*1e3,5),step:5,value:Math.round(ve*1e3),onChange:q=>Me(Number(q.target.value)/1e3)})]}),l.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:4},children:[l.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:["End ",Math.round(ke*1e3)," ms"]}),l.jsx("input",{type:"range",min:5,max:Math.max(ue*1e3,5),step:5,value:Math.round(ke*1e3),onChange:q=>_e(Number(q.target.value)/1e3)})]})]})]}),a.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{className:"label",children:"Library"}),l.jsx("button",{type:"button",onClick:Ae,style:{fontSize:12},children:"Export Library"})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:a.map(q=>{if(!q.id)return null;const fe=q.id===pe.id,ye=C===q.id;return l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:8,padding:"6px 8px",borderRadius:6,background:fe?"rgba(255, 77, 79, 0.1)":"rgba(255,255,255,0.04)"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:160},children:[ye?l.jsx("input",{value:J,onChange:xe=>Z(xe.target.value),onKeyDown:xe=>{xe.key==="Enter"&&(xe.preventDefault(),Ge()),xe.key==="Escape"&&(xe.preventDefault(),He())},autoFocus:!0}):l.jsx("span",{style:{fontWeight:600},children:q.name||"Sample"}),l.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:[rl(q.durationSec??0)," ",fe?" Active":""]})]}),l.jsx("div",{style:{display:"flex",gap:8},children:ye?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:Ge,disabled:!J.trim(),children:"Save"}),l.jsx("button",{type:"button",onClick:He,children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(q.id),disabled:fe,children:fe?"In Use":"Use"}),l.jsx("button",{type:"button",onClick:()=>{O(q.id),Z(q.name||"")},children:"Rename"}),l.jsx("button",{type:"button",onClick:()=>ie(q),disabled:!q.dataUrl,children:"Export"}),l.jsx("button",{type:"button",onClick:()=>c(q.id),style:{color:"var(--danger, #d14343)"},children:"Delete"})]})})]},q.id)})})]})]})}function tp(){const u=Y(f=>f.patch),a=Y(f=>f.updatePatch),i=u.engineMode??"classic",c=f=>a({engineMode:f}),p=f=>{const v=u.macro??U.macro;a({macro:{...v,...f}})};return yt.useEffect(()=>{i!=="sampler"&&(u.osc1.wave==="sample"||u.osc2.wave==="sample")&&a({engineMode:"sampler"})},[i,u.osc1.wave,u.osc2.wave,a]),i==="macro"?l.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[l.jsxs("label",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{className:"label",children:"Mode"}),l.jsxs("select",{value:i,onChange:f=>c(f.target.value),children:[l.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),l.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"}),l.jsx("option",{value:"sampler",children:"Sampler (one-shot/loop)"})]})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Model"}),l.jsxs("select",{value:u.macro?.model??"va",onChange:f=>p({model:f.target.value}),children:[l.jsx("option",{value:"va",children:"VA (analog blend)"}),l.jsx("option",{value:"fold",children:"Wavefolder"}),l.jsx("option",{value:"pluck",children:"Pluck (KarplusStrong)"}),l.jsx("option",{value:"supersaw",children:"SuperSaw"}),l.jsx("option",{value:"pwm",children:"PWM"}),l.jsx("option",{value:"fm2op",children:"FM 2-Op"}),l.jsx("option",{value:"wavetable",children:"Wavetable (blend)"}),l.jsx("option",{value:"harmonic",children:"Harmonic (additive)"}),l.jsx("option",{value:"chord",children:"Chord (stack)"})]})]}),l.jsx(Ce,{label:"Harmonics",min:0,max:1,step:.001,value:u.macro?.harmonics??.6,onChange:f=>p({harmonics:f})}),l.jsx(Ce,{label:"Timbre",min:0,max:1,step:.001,value:u.macro?.timbre??.5,onChange:f=>p({timbre:f})}),l.jsx(Ce,{label:"Morph",min:0,max:1,step:.001,value:u.macro?.morph??.5,onChange:f=>p({morph:f})}),l.jsx(Ce,{label:"Level",min:0,max:1,step:.001,value:u.macro?.level??1,onChange:f=>p({level:f})})]}):i==="sampler"?l.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"1fr"},children:[l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Mode"}),l.jsxs("select",{value:i,onChange:f=>c(f.target.value),children:[l.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),l.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"}),l.jsx("option",{value:"sampler",children:"Sampler (one-shot/loop)"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx(ep,{})})]}):l.jsxs("div",{className:"controls-grid",children:[l.jsxs("label",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{className:"label",children:"Mode"}),l.jsxs("select",{value:i,onChange:f=>c(f.target.value),children:[l.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),l.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"}),l.jsx("option",{value:"sampler",children:"Sampler (one-shot/loop)"})]})]}),l.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 1"}),l.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 2"}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Wave"}),l.jsxs("select",{value:u.osc1.wave,onChange:f=>a({osc1:{...u.osc1,wave:f.target.value}}),children:[l.jsx("option",{value:"sine",children:"Sine"}),l.jsx("option",{value:"square",children:"Square"}),l.jsx("option",{value:"sawtooth",children:"Saw"}),l.jsx("option",{value:"triangle",children:"Triangle"}),l.jsx("option",{value:"noise",children:"Noise"})]})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Wave"}),l.jsxs("select",{value:u.osc2.wave,onChange:f=>a({osc2:{...u.osc2,wave:f.target.value}}),children:[l.jsx("option",{value:"sine",children:"Sine"}),l.jsx("option",{value:"square",children:"Square"}),l.jsx("option",{value:"sawtooth",children:"Saw"}),l.jsx("option",{value:"triangle",children:"Triangle"}),l.jsx("option",{value:"noise",children:"Noise"})]})]}),l.jsxs("div",{className:"osc-knob-row",style:{gridColumn:"1 / 2"},children:[l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Octave",min:-2,max:2,step:1,value:u.osc1.octave??0,onChange:f=>a({osc1:{...u.osc1,octave:Math.round(f)}}),formatValue:f=>`${Math.round(f)}`})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Detune",min:-1200,max:1200,step:1,value:u.osc1.detune,onChange:f=>a({osc1:{...u.osc1,detune:f}}),formatValue:f=>`${Math.round(f)}`})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Fine",min:-10,max:10,step:.1,value:u.osc1.detuneFine??0,onChange:f=>a({osc1:{...u.osc1,detuneFine:Number(f.toFixed(1))}}),formatValue:f=>`${f.toFixed(1)}`})})]}),l.jsx("div",{className:"osc-knob-row",style:{gridColumn:"2 / 3",justifyContent:"flex-end"},children:l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Mix",min:0,max:1,step:.01,value:u.mix,onChange:f=>a({mix:f}),formatValue:f=>`${Math.round(f*100)}%`})})}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",flexWrap:"wrap",gap:16,alignItems:"center"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[l.jsx("input",{type:"checkbox",checked:u.fm?.enabled??!1,onChange:f=>a({fm:{...u.fm,enabled:f.target.checked}})}),l.jsx("span",{className:"label",children:"FM"})]}),l.jsx(Ce,{label:"Ratio",min:.1,max:8,step:.1,value:u.fm?.ratio??2,onChange:f=>a({fm:{...u.fm,ratio:f}}),disabled:!(u.fm?.enabled??!1)}),l.jsx(Ce,{label:"Amount (Hz)",min:0,max:1e3,step:1,value:u.fm?.amount??0,onChange:f=>a({fm:{...u.fm,amount:f}}),disabled:!(u.fm?.enabled??!1)}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[l.jsx("input",{type:"checkbox",checked:u.ring?.enabled??!1,onChange:f=>a({ring:{...u.ring,enabled:f.target.checked}})}),l.jsx("span",{className:"label",children:"Ring"})]}),l.jsx(Ce,{label:"Amount",min:0,max:1,step:.01,value:u.ring?.amount??1,onChange:f=>a({ring:{...u.ring,amount:f}}),disabled:!(u.ring?.enabled??!1)})]})]})}function np(){const u=Y(p=>p.patch),a=Y(p=>p.updatePatch),i=p=>{a({filter:{...u.filter,...p}})},c=u.master.gain;return l.jsxs("div",{className:"filter-panel",children:[l.jsxs("label",{className:"filter-type",children:[l.jsx("span",{className:"label",children:"Filter Type"}),l.jsxs("select",{value:u.filter.type,onChange:p=>i({type:p.target.value}),children:[l.jsx("option",{value:"lowpass",children:"Low-pass"}),l.jsx("option",{value:"highpass",children:"High-pass"}),l.jsx("option",{value:"bandpass",children:"Band-pass"}),l.jsx("option",{value:"notch",children:"Notch"})]})]}),l.jsxs("div",{className:"filter-knobs",children:[l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Cutoff",min:40,max:8e3,step:10,value:u.filter.cutoff,onChange:p=>i({cutoff:p}),formatValue:p=>`${Math.round(p)} Hz`})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Resonance",min:.1,max:10,step:.1,value:u.filter.q,onChange:p=>i({q:p}),formatValue:p=>p.toFixed(2)})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Master",min:0,max:1,step:.01,value:c,onChange:p=>a({master:{...u.master,gain:p}}),formatValue:p=>p.toFixed(2)})})]})]})}function rp(){const u=Y(c=>c.patch),a=Y(c=>c.updatePatch),i=u.envelope;return l.jsx("div",{className:"envelope-panel",children:l.jsxs("div",{className:"envelope-knobs",children:[l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Attack",min:0,max:2,step:.01,value:i.attack,onChange:c=>a({envelope:{...i,attack:c}})})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Decay",min:0,max:2,step:.01,value:i.decay,onChange:c=>a({envelope:{...i,decay:c}})})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Sustain",min:0,max:1,step:.01,value:i.sustain,onChange:c=>a({envelope:{...i,sustain:c}})})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Release",min:0,max:3,step:.01,value:i.release,onChange:c=>a({envelope:{...i,release:c}})})})]})})}const sp=[0,2,4,5,7,9,11],lp={0:1,1:3,2:null,3:6,4:8,5:10,6:null};function op(u,a=60){const i=Math.floor(u/7),c=sp[u%7];return a+i*12+c}function ip(u,a=60){const i=Math.floor(u/7),c=lp[u%7];return c==null?null:a+i*12+c}const ui={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},dc=Object.fromEntries(Object.entries(ui).map(([u,a])=>[a,u.length===1?u.toUpperCase():u]));function ap(){const u=Y(V=>V.engine),a=Y(V=>V.midi.activeNotes),[i,c]=W.useState(()=>new Set),[p,f]=W.useState(60),v=W.useRef(new Map),x=W.useMemo(()=>{const V=new Set(i);for(const K of a)V.add(K);return V},[i,a]),h=V=>{u?.noteOn(V),c(K=>new Set(K).add(V))},g=V=>{u?.noteOff(V),c(K=>{const E=new Set(K);return E.delete(V),E})};W.useEffect(()=>{const V=new Set,K=C=>C.length===1?C.toLowerCase():C,E=C=>{if(C.repeat)return;const O=K(C.key);if(O==="z"){f(me=>Math.max(24,me-12));return}if(O==="x"){f(me=>Math.min(96,me+12));return}const J=ui[O],Z=J!=null?p+J:void 0;Z!=null&&!V.has(O)&&(V.add(O),h(Z))},z=C=>{const O=K(C.key),J=ui[O],Z=J!=null?p+J:void 0;Z!=null&&(V.delete(O),g(Z))};return window.addEventListener("keydown",E),window.addEventListener("keyup",z),()=>{window.removeEventListener("keydown",E),window.removeEventListener("keyup",z)}},[u,p]);const M=14,k=W.useMemo(()=>Array.from({length:M},(V,K)=>op(K,p)),[M,p]),S=28,T=S+2,L=Math.floor(p/12)-1,R=L-4,I=(V,K)=>{V.currentTarget.setPointerCapture(V.pointerId),V.preventDefault(),v.current.set(V.pointerId,K),h(K)},H=V=>{if(!v.current.has(V.pointerId))return;const K=v.current.get(V.pointerId),z=document.elementFromPoint(V.clientX,V.clientY)?.dataset?.midi,C=z!=null?Number(z):void 0;if(C==null){K!=null&&(g(K),v.current.delete(V.pointerId));return}C!==K&&(K!=null&&g(K),v.current.set(V.pointerId,C),h(C))},te=V=>{const K=v.current.get(V.pointerId);K!=null&&(g(K),v.current.delete(V.pointerId))};return l.jsxs("div",{className:"keyboard",children:[l.jsx("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between"},children:l.jsxs("div",{className:"octave-indicator",children:[l.jsx("span",{className:"badge",children:"Octave"}),l.jsxs("span",{className:"value",style:{color:R===0?"var(--text)":"var(--accent)"},children:[L," ",R!==0?`(${R>0?"+":""}${R})`:""]})]})}),l.jsxs("div",{className:"keys-and-help",children:[l.jsxs("div",{className:"keys-row",style:{touchAction:"none"},children:[k.map((V,K)=>l.jsx("div",{className:"key",style:{background:x.has(V)?"#d1d5db":"#f8fafc"},"data-midi":V,onPointerDown:E=>I(E,V),onPointerMove:H,onPointerUp:te,onPointerCancel:te,children:l.jsx("span",{className:"key-label",children:dc[V-p]??""})},K)),Array.from({length:M}).map((V,K)=>{const E=ip(K,p);if(E==null)return null;const z=K*T+Math.floor(S*.7);return l.jsx("div",{className:"key black",style:{left:z,background:x.has(E)?"#111827":"#0b0f16"},"data-midi":E,onPointerDown:C=>I(C,E),onPointerMove:H,onPointerUp:te,onPointerCancel:te,children:l.jsx("span",{className:"key-label",children:dc[E-p]??""})},`b-${K}`)})]}),l.jsxs("div",{className:"kbd-help",children:[l.jsx("div",{className:"badge",style:{alignSelf:"flex-start"},children:"Octave shift"}),l.jsxs("button",{className:"kbd-row keyboard-shift-button",onClick:()=>f(V=>Math.max(24,V-12)),type:"button",children:[l.jsx("span",{className:"kbd",children:"Z"}),l.jsx("span",{className:"hint-text",children:"Octave Down"})]}),l.jsxs("button",{className:"kbd-row keyboard-shift-button",onClick:()=>f(V=>Math.min(96,V+12)),type:"button",children:[l.jsx("span",{className:"kbd",children:"X"}),l.jsx("span",{className:"hint-text",children:"Octave Up"})]})]})]})]})}const Ur={highPct:2,lowPct:2,windowPct:25,holdOff:3,corrRefresh:.5};function up(){const u=Y(M=>M.engine),a=W.useRef(null),i=W.useRef(),c=W.useRef(0),p=W.useRef(0),f=W.useRef(0),v=W.useRef(0),x=W.useRef(null),h=W.useRef(128),g=Y(M=>M.oscilloscope.fftSize);return W.useEffect(()=>{const M=a.current;if(!M||!u||typeof u.getAnalyser!="function")return;const k=M.getContext("2d"),S=u.getAnalyser();S.fftSize=g,S.smoothingTimeConstant=0;const b=()=>{const T=u.getWaveform,L=typeof T=="function"?T.call(u):new Uint8Array(S.fftSize),R=window.devicePixelRatio||1,I=M.clientWidth||600,H=M.clientHeight||160,te=Math.floor(I*R),V=Math.floor(H*R);(M.width!==te||M.height!==V)&&(M.width=te,M.height=V);const K=M.width,E=M.height;k.clearRect(0,0,K,E),k.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-bg")||"#05070b",k.fillRect(0,0,K,E),k.save(),k.strokeStyle="rgba(255,255,255,0.06)",k.lineWidth=1,k.beginPath(),k.moveTo(0,E/2),k.lineTo(K,E/2),k.stroke();const z=6;for(let ae=1;ae<z;ae++){const Te=ae*K/z;k.beginPath(),k.moveTo(Te,0),k.lineTo(Te,E),k.stroke()}k.restore();const C=L.length,O=new Float32Array(C);let J=0;for(let ae=0;ae<C;ae++)J+=L[ae];J/=C;let Z=0;for(let ae=0;ae<C;ae++){const Te=(L[ae]-J)/128;O[ae]=Te,Z+=Te*Te}let me=c.current||0;if(Z>.001){const ae=Math.max(.001,Ur.highPct/100),Te=-Math.max(.001,Ur.lowPct/100);let pe=!1;const $=[];for(let ie=1;ie<C;ie++){const Ae=O[ie-1],He=O[ie];!pe&&Ae<Te&&(pe=!0),pe&&Ae<ae&&He>=ae&&($.push(ie),pe=!1)}if($.length>=2){const ie=[];for(let Le=1;Le<$.length;Le++)ie.push($[Le]-$[Le-1]);ie.sort((Le,dt)=>Le-dt);const Ae=ie[Math.floor(ie.length/2)];let He=0,Ge=0;for(const Le of ie)Math.abs(Le-Ae)<=.2*Ae&&(He+=Le,Ge++);const q=Ge>0?He/Ge:Ae,fe=f.current||q,ye=Math.max(6,Math.min(C,fe*.6+q*.4));f.current=ye;const xe=((c.current||$[0])+ye)%C,Xe=Math.max(6,Math.floor(Ur.windowPct/100*ye)),jt=[];for(const Le of $)Math.abs(Le-xe)<=Xe&&jt.push(Le);jt.length===0&&jt.push(Math.round(xe));const qe=Math.max(32,Math.min(256,Math.floor(ye)));if(h.current=qe,!x.current){const Le=new Float32Array(qe);for(let Ee=0;Ee<qe;Ee++)Le[Ee]=O[(jt[0]+Ee)%C];let dt=0;for(let Ee=0;Ee<qe;Ee++)dt+=Le[Ee];dt/=qe;let Vt=0;for(let Ee=0;Ee<qe;Ee++)Le[Ee]=Le[Ee]-dt,Vt+=Le[Ee]*Le[Ee];Vt=Math.sqrt(Math.max(Vt,1e-12));for(let Ee=0;Ee<qe;Ee++)Le[Ee]/=Vt;x.current=Le}{let Le=jt[0],dt=-1/0;const Vt=x.current;for(const Ee of jt){let Lt=0;for(let tt=0;tt<qe;tt++)Lt+=O[(Ee+tt)%C];Lt/=qe;let Et=0,be=0;for(let tt=0;tt<qe;tt++){const xn=O[(Ee+tt)%C]-Lt;Et+=xn*xn}Et=Math.sqrt(Math.max(Et,1e-12));for(let tt=0;tt<qe;tt++){const xn=(O[(Ee+tt)%C]-Lt)/Et;be+=xn*Vt[tt]}be>dt&&(dt=be,Le=Ee)}if(me=Le,dt<Ur.corrRefresh){const Ee=new Float32Array(qe);for(let be=0;be<qe;be++)Ee[be]=O[(me+be)%C];let Lt=0;for(let be=0;be<qe;be++)Lt+=Ee[be];Lt/=qe;let Et=0;for(let be=0;be<qe;be++)Ee[be]=Ee[be]-Lt,Et+=Ee[be]*Ee[be];Et=Math.sqrt(Math.max(Et,1e-12));for(let be=0;be<qe;be++)Ee[be]/=Et;x.current=Ee}}}else if($.length===1)me=$[0];else{let ie=0,Ae=0;for(let He=1;He<C;He++){const Ge=O[He]-O[He-1];Ge>ie&&(ie=Ge,Ae=He)}me=Ae}const le=c.current||0,Q=f.current||0,j=Q?(le+Q)%C:le,D=Math.abs(me-j);if(Q&&D>.6*Q||v.current>=Ur.holdOff){const ie=Math.round(le*.4+me*.6);c.current=ie,v.current=0}else v.current+=1;let ue=c.current;const Se=12;for(let ie=-Se;ie<=Se;ie++){const Ae=(ue+ie+C)%C,He=(Ae+1)%C,Ge=O[Ae],q=O[He];if(Ge<ae&&q>=ae){const fe=(ae-Ge)/Math.max(q-Ge,1e-6);ue=Ae+fe;break}}p.current=ue;const ve=h.current,ke=new Float32Array(ve);for(let ie=0;ie<ve;ie++){const Ae=(ue+ie)%C,He=Math.floor(Ae),Ge=(He+1)%C,q=Ae-He,fe=O[He]*(1-q)+O[Ge]*q;ke[ie]=fe}let Me=0;for(let ie=0;ie<ve;ie++)Me+=ke[ie];Me/=ve;let _e=0;for(let ie=0;ie<ve;ie++)ke[ie]=ke[ie]-Me,_e+=ke[ie]*ke[ie];_e=Math.sqrt(Math.max(_e,1e-12));for(let ie=0;ie<ve;ie++)ke[ie]/=_e;x.current=ke}const we=p.current||c.current||0,oe=K/C;k.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-stroke")||"#00ffd5",k.lineWidth=2,k.shadowColor=k.strokeStyle,k.shadowBlur=8,k.beginPath();for(let ae=0;ae<C;ae++){const Te=(ae+we)%C,pe=Math.floor(Te),$=(pe+1)%C,le=Te-pe,j=((O[pe]*(1-le)+O[$]*le)*.5+.5)*E,D=ae*oe;ae===0?k.moveTo(D,j):k.lineTo(D,j)}k.stroke(),k.shadowBlur=0,i.current=requestAnimationFrame(b)};return i.current=requestAnimationFrame(b),()=>{i.current&&cancelAnimationFrame(i.current)}},[u,g]),l.jsx("div",{children:l.jsx("canvas",{ref:a,width:600,height:300,style:{width:"100%",height:300,borderRadius:8,border:"1px solid #222631"}})})}function cp(){const u=Y(c=>c.patch),a=Y(c=>c.updatePatch),i=u.effects??{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}};return l.jsxs("div",{className:"effects-panel",children:[l.jsxs("div",{className:"effects-row",children:[l.jsx("div",{className:"effects-heading",children:"Delay"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:i.delay.enabled,onChange:c=>a({effects:{...i,delay:{...i.delay,enabled:c.target.checked}}})}),l.jsx("span",{className:"label",children:"Enabled"})]}),l.jsxs("div",{className:"effects-knobs",children:[l.jsx(Ce,{label:"Time",min:0,max:1.5,step:.01,value:i.delay.time,onChange:c=>a({effects:{...i,delay:{...i.delay,time:c}}}),disabled:!i.delay.enabled}),l.jsx(Ce,{label:"Feedback",min:0,max:.95,step:.01,value:i.delay.feedback,onChange:c=>a({effects:{...i,delay:{...i.delay,feedback:c}}}),disabled:!i.delay.enabled}),l.jsx(Ce,{label:"Mix",min:0,max:1,step:.01,value:i.delay.mix,onChange:c=>a({effects:{...i,delay:{...i.delay,mix:c}}}),disabled:!i.delay.enabled})]})]}),l.jsxs("div",{className:"effects-row",style:{marginTop:12},children:[l.jsx("div",{className:"effects-heading",children:"Reverb"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:i.reverb.enabled,onChange:c=>a({effects:{...i,reverb:{...i.reverb,enabled:c.target.checked}}})}),l.jsx("span",{className:"label",children:"Enabled"})]}),l.jsxs("div",{className:"effects-knobs",children:[l.jsx(Ce,{label:"Size",min:0,max:1,step:.01,value:i.reverb.size,onChange:c=>a({effects:{...i,reverb:{...i.reverb,size:c}}}),disabled:!i.reverb.enabled}),l.jsx(Ce,{label:"Decay",min:0,max:1,step:.01,value:i.reverb.decay,onChange:c=>a({effects:{...i,reverb:{...i.reverb,decay:c}}}),disabled:!i.reverb.enabled}),l.jsx(Ce,{label:"Mix",min:0,max:1,step:.01,value:i.reverb.mix,onChange:c=>a({effects:{...i,reverb:{...i.reverb,mix:c}}}),disabled:!i.reverb.enabled})]})]})]})}function fc({idx:u}){const a=Y(f=>f.patch),i=Y(f=>f.updatePatch),c=u===1?"lfo1":"lfo2",p=a[c]||{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"};return l.jsxs("div",{className:"lfo-row",children:[l.jsxs("label",{className:"lfo-toggle",children:[l.jsx("input",{type:"checkbox",checked:p.enabled,onChange:f=>i({[c]:{...p,enabled:f.target.checked}})}),l.jsxs("span",{className:"label",children:["LFO ",u]})]}),l.jsxs("label",{className:"lfo-select",children:[l.jsx("span",{className:"label",children:"Wave"}),l.jsxs("select",{value:p.wave,onChange:f=>i({[c]:{...p,wave:f.target.value}}),children:[l.jsx("option",{value:"sine",children:"Sine"}),l.jsx("option",{value:"triangle",children:"Triangle"}),l.jsx("option",{value:"square",children:"Square"}),l.jsx("option",{value:"sawtooth",children:"Saw"})]})]}),l.jsxs("label",{className:"lfo-select",children:[l.jsx("span",{className:"label",children:"Dest"}),l.jsxs("select",{value:p.dest,onChange:f=>i({[c]:{...p,dest:f.target.value}}),children:[l.jsx("option",{value:"pitch",children:"Pitch"}),l.jsx("option",{value:"filter",children:"Filter"}),l.jsx("option",{value:"amp",children:"Amp"})]})]}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Rate",min:.01,max:20,step:.01,value:p.rateHz,onChange:f=>i({[c]:{...p,rateHz:f}}),disabled:!p.enabled,formatValue:f=>`${f.toFixed(2)} Hz`})}),l.jsx("div",{className:"knob-group",children:l.jsx(Ce,{label:"Amount",min:0,max:1,step:.01,value:p.amount,onChange:f=>i({[c]:{...p,amount:f}}),disabled:!p.enabled,formatValue:f=>`${Math.round(f*100)}%`})})]})}function dp(){return l.jsxs("div",{style:{display:"grid",gap:12},children:[l.jsx(fc,{idx:1}),l.jsx(fc,{idx:2})]})}function fp(){const u=Y(S=>S.patch),a=Y(S=>S.updatePatch),i=Y(S=>S.engine),c=Y(S=>S.transport.tempo),p=Y(S=>S.setTempo),f=u.arp??U.arp,v=u.sequencer??U.sequencer,[x,h]=yt.useState({enabled:!1,stepIndex:0,length:0}),g=S=>{a({arp:{...f,...S}})},M=f.chordSource??"preset",k=yt.useMemo(()=>{const S=v.steps??[],b=Math.max(1,Math.min(S.length,v.length)),T=new Set;for(let L=0;L<b;L++){const R=S[L];R?.on&&T.add(Math.round(R.offset??0))}return T.size},[v]);return yt.useEffect(()=>{if(!i)return;const S=setInterval(()=>{const b=i.getArpStatus?.();b&&h(b)},120);return()=>clearInterval(S)},[i]),l.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:f.enabled,onChange:S=>a({arp:{...f,enabled:S.target.checked}})}),l.jsx("span",{className:"label",children:"Enabled"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:f.latch||!1,onChange:S=>a({arp:{...f,latch:S.target.checked}}),disabled:!f.enabled}),l.jsx("span",{className:"label",children:"Latch"})]}),l.jsx("button",{onClick:()=>i?.arpClear(),disabled:!f.enabled,style:{justifySelf:"start",alignSelf:"end",padding:"6px 10px",fontSize:12,borderRadius:6,background:"transparent",border:"1px solid var(--border, #2a3040)",color:"var(--text)"},children:"Clear"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:12,alignItems:"end"},children:[l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Mode"}),l.jsxs("select",{value:f.mode,onChange:S=>a({arp:{...f,mode:S.target.value}}),disabled:!f.enabled,children:[l.jsx("option",{value:"up",children:"Up"}),l.jsx("option",{value:"down",children:"Down"}),l.jsx("option",{value:"updown",children:"Up-Down"}),l.jsx("option",{value:"random",children:"Random"}),l.jsx("option",{value:"asplayed",children:"As Played"})]})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Octaves"}),l.jsxs("select",{value:f.octaves,onChange:S=>a({arp:{...f,octaves:Number(S.target.value)}}),disabled:!f.enabled,children:[l.jsx("option",{value:1,children:"1"}),l.jsx("option",{value:2,children:"2"}),l.jsx("option",{value:3,children:"3"}),l.jsx("option",{value:4,children:"4"})]})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Chord"}),l.jsxs("select",{value:M==="sequencer"?"sequencer":f.chord??"none",onChange:S=>{const b=S.target.value;g(b==="sequencer"?{chordSource:"sequencer"}:{chordSource:"preset",chord:b})},disabled:!f.enabled,children:[l.jsx("option",{value:"none",children:"Single"}),l.jsx("option",{value:"power",children:"Power (5th)"}),l.jsx("option",{value:"major",children:"Major Triad"}),l.jsx("option",{value:"minor",children:"Minor Triad"}),l.jsx("option",{value:"sus2",children:"Sus2"}),l.jsx("option",{value:"sus4",children:"Sus4"}),l.jsx("option",{value:"maj7",children:"Major 7th"}),l.jsx("option",{value:"min7",children:"Minor 7th"}),l.jsx("option",{value:"sequencer",children:"Sequencer Pattern"})]})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Division"}),l.jsxs("select",{value:f.division,onChange:S=>g({division:S.target.value}),disabled:!f.enabled,children:[l.jsx("option",{value:"1/4",children:"1/4"}),l.jsx("option",{value:"1/8",children:"1/8"}),l.jsx("option",{value:"1/8T",children:"1/8T"}),l.jsx("option",{value:"1/16",children:"1/16"}),l.jsx("option",{value:"1/16T",children:"1/16T"})]})]})]}),M==="sequencer"&&l.jsxs("div",{className:"hint-text",style:{gridColumn:"1 / -1",fontSize:12,opacity:.8,alignSelf:"start"},children:["Sequencer pattern",k>0?`  ${k} interval${k===1?"":"s"}`:"  no active steps yet"]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:20,alignItems:"center",justifyContent:"flex-start",padding:"6px 0"},children:[l.jsx(Ce,{label:"Tempo",min:40,max:240,step:1,value:c,onChange:S=>{p(S),g({bpm:S,bpmSync:!0})},disabled:!f.enabled}),l.jsx(Ce,{label:"Gate",min:.05,max:1,step:.01,value:f.gate,onChange:S=>a({arp:{...f,gate:S}}),disabled:!f.enabled}),l.jsx(Ce,{label:"Swing",min:0,max:.75,step:.01,value:f.swingPct??0,onChange:S=>a({arp:{...f,swingPct:S}}),disabled:!f.enabled||!f.bpmSync})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Repeats"}),l.jsx("select",{value:f.repeats??1,onChange:S=>a({arp:{...f,repeats:Number(S.target.value)}}),disabled:!f.enabled,children:[1,2,3,4].map(S=>l.jsxs("option",{value:S,children:[S,"x"]},S))})]}),l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Length"}),l.jsxs("select",{value:f.patternLen??0,onChange:S=>a({arp:{...f,patternLen:Number(S.target.value)}}),disabled:!f.enabled,children:[l.jsx("option",{value:0,children:"Auto"}),Array.from({length:16},(S,b)=>b+1).map(S=>l.jsx("option",{value:S,children:S},S))]})]})]})]})}function pp(){const u=Y(E=>E.patch),a=Y(E=>E.updatePatch),i=Y(E=>E.engine),c=Y(E=>E.transport.tempo),p=Y(E=>E.transport.playing),f=Y(E=>E.transport.tick),v=Y(E=>E.setTempo),x=Y(E=>E.setTransportPlaying),h=u.sequencer??U.sequencer,g=E=>{const z=u.sequencer??U.sequencer;a({sequencer:{...z,...E}})},M=h.steps||[],k=Math.max(1,Math.min(M.length,h.length)),[S,b]=yt.useState({enabled:!1,stepIndex:0,length:0});yt.useEffect(()=>{if(!i)return;const E=setInterval(()=>{const z=i.getSequencerStatus?.();z&&b(z)},100);return()=>clearInterval(E)},[i]);const T=(E,z)=>{const C=M.slice();C[E]={...C[E],...z},g({steps:C})},L={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},R=yt.useRef(null),[I,H]=yt.useState(0),[te,V]=yt.useState(!1);yt.useEffect(()=>{H(E=>Math.min(Math.max(0,E),k-1))},[k]),yt.useEffect(()=>{te&&R.current?.focus()},[te]),yt.useEffect(()=>{h.enabled&&h.bpm!==c&&g({bpm:c})},[c]),yt.useEffect(()=>{h.enabled&&h.playing!==p&&g({playing:p})},[p,h.playing,h.enabled]);const K=E=>{if(!te||!h.enabled)return;const z=E.key,C=z.length===1?z.toLowerCase():z;if(C in L){E.preventDefault();const O=L[C];T(I,{on:!0,offset:O}),H(J=>(J+1)%k);return}z==="ArrowRight"?(E.preventDefault(),H(O=>(O+1)%k)):z==="ArrowLeft"?(E.preventDefault(),H(O=>(O-1+k)%k)):z==="ArrowUp"?(E.preventDefault(),T(I,{on:!0,offset:Math.min(24,(M[I]?.offset||0)+1)})):z==="ArrowDown"?(E.preventDefault(),T(I,{on:!0,offset:Math.max(-24,(M[I]?.offset||0)-1)})):z==="Enter"?(E.preventDefault(),T(I,{on:!M[I]?.on})):z==="Backspace"||z==="Delete"?(E.preventDefault(),T(I,{on:!1})):z==="+"||z==="="?(E.preventDefault(),T(I,{on:!0,offset:Math.min(24,(M[I]?.offset||0)+1)})):z==="-"||z==="_"?(E.preventDefault(),T(I,{on:!0,offset:Math.max(-24,(M[I]?.offset||0)-1)})):C==="z"?(E.preventDefault(),g({rootMidi:Math.max(24,h.rootMidi-12)})):C==="x"?(E.preventDefault(),g({rootMidi:Math.min(96,h.rootMidi+12)})):z===" "&&(E.preventDefault(),x(!p))};return l.jsxs("div",{className:"sequence-panel",children:[l.jsxs("div",{className:"sequence-controls",children:[l.jsx("button",{className:"play-button",onClick:()=>x(!p),disabled:!h.enabled,children:p?"Stop":"Play"}),l.jsxs("label",{className:"sequence-toggle",children:[l.jsx("input",{type:"checkbox",checked:h.enabled,onChange:E=>g({enabled:E.target.checked})}),l.jsx("span",{children:"Enabled"})]}),l.jsxs("label",{className:"sequence-toggle",children:[l.jsx("span",{children:"Division"}),l.jsxs("select",{value:h.division,onChange:E=>g({division:E.target.value}),disabled:!h.enabled,children:[l.jsx("option",{value:"1/4",children:"1/4"}),l.jsx("option",{value:"1/8",children:"1/8"}),l.jsx("option",{value:"1/8T",children:"1/8T"}),l.jsx("option",{value:"1/16",children:"1/16"}),l.jsx("option",{value:"1/16T",children:"1/16T"})]})]})]}),l.jsx("div",{className:"sequence-body",children:l.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[l.jsxs("label",{children:[l.jsx("div",{className:"label",children:"Length"}),l.jsx("select",{value:h.length,onChange:E=>g({length:Number(E.target.value)}),disabled:!h.enabled,children:Array.from({length:M.length},(E,z)=>z+1).map(E=>l.jsx("option",{value:E,children:E},E))})]}),l.jsx(Ce,{label:"Tempo",min:40,max:240,step:1,value:c,onChange:E=>{v(E),g({bpm:E})},disabled:!h.enabled}),l.jsx(Ce,{label:"Gate",min:.05,max:1,step:.01,value:h.gate,onChange:E=>g({gate:E}),disabled:!h.enabled}),l.jsx(Ce,{label:"Swing",min:0,max:.75,step:.01,value:h.swingPct??0,onChange:E=>g({swingPct:E}),disabled:!h.enabled||h.division.endsWith("T")||h.division==="1/4"}),l.jsx(Ce,{label:"Root",min:36,max:84,step:1,value:h.rootMidi,onChange:E=>g({rootMidi:E}),disabled:!h.enabled}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:12,alignItems:"center"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:te,onChange:E=>V(E.target.checked)}),l.jsx("span",{className:"label",children:"Edit Notes (Keyboard)"})]}),l.jsx("div",{className:"hint-text",style:{opacity:.8},children:"Keys: A/W/S... set notes  Arrows move  Z/X root 1 oct  Space play/pause  +/- semitone  Backspace clear"})]}),l.jsx("div",{ref:R,tabIndex:0,onKeyDown:K,style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(16, 1fr)",gap:6,outline:te?"1px dashed #2a3040":"none",borderRadius:6,padding:2},children:M.map((E,z)=>{const C=z<k,O=E.on&&C,J=k>0?f%k:0,Z=S.enabled&&p&&C&&J===z;return l.jsx("div",{onClick:me=>{me.altKey?T(z,{offset:Math.max(-24,Math.min(24,(E.offset||0)+1))}):T(z,{on:!E.on}),H(z)},onContextMenu:me=>{me.preventDefault(),T(z,{offset:Math.max(-24,Math.min(24,(E.offset||0)-1))})},title:`Step ${z+1}${E.offset?`, ${E.offset>0?"+":""}${E.offset}`:""}`,style:{height:44,borderRadius:6,border:`1px solid ${Z||z===I&&te?"var(--accent)":"#2a3040"}`,background:O?Z?"var(--accent)":"#1d2432":"#0f1217",color:O?Z?"#0f1217":"var(--text)":"#556",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none"},children:l.jsx("span",{style:{fontSize:11,opacity:.9},children:E.offset===0?"0":E.offset>0?`+${E.offset}`:`${E.offset}`})},z)})})]})})]})}const ci=[{id:"filter.cutoff",label:"Filter Cutoff",category:"Filter",description:"Move the filter cutoff frequency"},{id:"filter.q",label:"Filter Resonance",category:"Filter",description:"Adjust filter Q / resonance"},{id:"master.gain",label:"Master Gain",category:"Master",description:"Scale the master volume"},{id:"mix",label:"Osc Mix",category:"Oscillators",description:"Crossfade between Osc 1 and Osc 2"},{id:"osc1.detune",label:"Osc 1 Detune",category:"Oscillators",description:"Offset oscillator 1 pitch in cents"},{id:"osc2.detune",label:"Osc 2 Detune",category:"Oscillators",description:"Offset oscillator 2 pitch in cents"},{id:"fm.amount",label:"FM Amount",category:"FM",description:"Modulation index for FM routing"},{id:"envelope.attack",label:"Env Attack",category:"Envelope",description:"Envelope attack time"},{id:"envelope.release",label:"Env Release",category:"Envelope",description:"Envelope release time"},{id:"macro.harmonics",label:"Macro Harmonics",category:"Macro",description:"Macro engine harmonics"},{id:"macro.timbre",label:"Macro Timbre",category:"Macro",description:"Macro engine timbre"},{id:"macro.morph",label:"Macro Morph",category:"Macro",description:"Macro engine morph"},{id:"macro.level",label:"Macro Level",category:"Macro",description:"Macro engine output level"},{id:"lfo1.rateHz",label:"LFO 1 Rate",category:"LFO",description:"LFO1 rate in Hz"},{id:"lfo1.amount",label:"LFO 1 Amount",category:"LFO",description:"LFO1 depth"},{id:"lfo2.rateHz",label:"LFO 2 Rate",category:"LFO",description:"LFO2 rate in Hz"},{id:"lfo2.amount",label:"LFO 2 Amount",category:"LFO",description:"LFO2 depth"}],pc=Object.fromEntries(ci.map(u=>[u.id,u.label]));function hp(){const u=Y(T=>T.engine),i=Y(T=>T.patch.expression)??U.expression,c=pc[i.x]??"X Axis",p=pc[i.y]??"Y Axis",f=W.useRef(u),[v,x]=W.useState(!1),[h,g]=W.useState(null),M=W.useRef(!1),k=W.useRef(null),S=W.useRef(null);W.useEffect(()=>{f.current=u},[u]);const b=W.useCallback(T=>{M.current=T,x(T),T||(S.current=null,k.current!=null&&(cancelAnimationFrame(k.current),k.current=null),f.current?.clearExpression2D(),g(null))},[]);return W.useEffect(()=>{const T=R=>{R.key==="CapsLock"?b(R.getModifierState("CapsLock")):!R.getModifierState("CapsLock")&&M.current&&b(!1)},L=()=>b(!1);return window.addEventListener("keydown",T),window.addEventListener("keyup",T),window.addEventListener("blur",L),()=>{window.removeEventListener("keydown",T),window.removeEventListener("keyup",T),window.removeEventListener("blur",L)}},[b]),W.useEffect(()=>{const T=()=>{if(k.current=null,!M.current)return;const H=S.current;H&&(S.current=null,f.current?.setExpression2D(H.x,H.y),g(H))},L=()=>{k.current==null&&(k.current=requestAnimationFrame(T))},R=H=>{if(!f.current)return;const te=H.getModifierState?.("CapsLock")??M.current;if(te!==M.current&&b(te),!te||!["mouse","touch","pen"].includes(H.pointerType))return;const V=Math.min(1,Math.max(0,H.clientX/window.innerWidth)),K=Math.min(1,Math.max(0,1-H.clientY/window.innerHeight));S.current={x:V,y:K},L()},I=()=>b(!1);return window.addEventListener("pointermove",R,{passive:!0}),window.addEventListener("pointerdown",R,{passive:!0}),window.addEventListener("pointerup",R,{passive:!0}),window.addEventListener("pointercancel",I),window.addEventListener("mouseleave",I),()=>{window.removeEventListener("pointermove",R),window.removeEventListener("pointerdown",R),window.removeEventListener("pointerup",R),window.removeEventListener("pointercancel",I),window.removeEventListener("mouseleave",I),k.current!=null&&(cancelAnimationFrame(k.current),k.current=null)}},[b]),u?l.jsxs("div",{className:`expression-overlay${v?" active":""}`,"aria-hidden":"true",children:[l.jsx("div",{className:"expression-label",children:"CapsLock XY Expression"}),v?l.jsxs("div",{className:"expression-status",children:["Active  ",c," ",((h?.x??.5)*100).toFixed(0),"%  ",p," ",((h?.y??.5)*100).toFixed(0),"%"]}):l.jsxs("div",{className:"expression-status",children:["Engage CapsLock and move on the trackpad to modulate ",c," / ",p]})]}):null}const hc="application/x-websynth-panel";function mc(u,a,i){if(!u.includes(a))return u;const c=u.filter(f=>f!==a),p=Math.max(0,Math.min(i,c.length));return[...c.slice(0,p),a,...c.slice(p)]}function mp({panels:u,order:a,onOrderChange:i,onRequestHelp:c}){const[p,f]=W.useState(null),[v,x]=W.useState(null),[h,g]=W.useState(!1),M=W.useMemo(()=>new Map(u.map(E=>[E.id,E])),[u]),k=W.useMemo(()=>u.map(E=>E.id),[u]),S=W.useMemo(()=>{const E=(a.length?a:k).filter(O=>M.has(O)),z=new Set(E),C=u.filter(O=>!z.has(O.id)).map(O=>O.id);return[...E,...C]},[a,k,M,u]),b=E=>z=>{z.dataTransfer.effectAllowed="move";try{z.dataTransfer.setData(hc,E)}catch{z.dataTransfer.setData("text/plain",E)}f(E),x(null),g(!1)},T=()=>{f(null),x(null),g(!1)},L=E=>{let z="";try{z=E.dataTransfer.getData(hc)}catch{z=E.dataTransfer.getData("text/plain")}return z||p},R=(E,z)=>C=>{if(C.preventDefault(),C.stopPropagation(),!p)return;const O=C.currentTarget.getBoundingClientRect(),J=C.clientY<O.top+O.height/2;x({id:E,position:J?"before":"after"}),g(!1)},I=(E,z)=>C=>{C.preventDefault(),C.stopPropagation();const O=L(C);if(!O)return;const J=C.currentTarget.getBoundingClientRect(),me=C.clientY<J.top+J.height/2?z:z+1,we=mc(S,O,me);i(we),x(null),g(!1)},H=E=>z=>{z.stopPropagation(),v?.id===E&&x(null)},te=E=>{p&&(E.preventDefault(),x(null),g(!0))},V=E=>{E.preventDefault();const z=L(E);if(!z)return;const C=mc(S,z,S.length);i(C),x(null),g(!1)},K=E=>z=>{z.preventDefault(),z.stopPropagation(),c?.(E)};return l.jsx("div",{className:`dashboard-grid${h?" drop-end":""}`,onDragOver:te,onDrop:V,children:S.map((E,z)=>{const C=M.get(E);if(!C)return null;const O=C.span??1,J=p===E,Z=v?.id===E&&v.position==="before",me=v?.id===E&&v.position==="after",we=["panel","dashboard-panel",J?"dragging":"",Z?"drop-before":"",me?"drop-after":""].filter(Boolean).join(" ");return l.jsx("section",{className:we,style:{gridColumn:O>1?`span ${O}`:void 0},onDragOver:R(C.id),onDrop:I(C.id,z),onDragLeave:H(C.id),children:l.jsxs("div",{className:"panel-body",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h3",{className:"panel-title",children:C.title}),l.jsxs("div",{className:"panel-actions",children:[c?l.jsx("button",{type:"button",className:"panel-help-button",onClick:K(C.id),"aria-label":`Show help for ${C.title}`,children:"?"}):null,l.jsx("span",{className:"panel-drag-hint","aria-hidden":"true",draggable:!0,onDragStart:b(C.id),onDragEnd:T,children:""})]})]}),C.render()]})},C.id)})})}const li={init:{osc1:{wave:"sawtooth",detune:0,detuneFine:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},sampler:{...U.sampler}},mellowPad:{osc1:{wave:"triangle",detune:-5,detuneFine:0},osc2:{wave:"sawtooth",detune:3},mix:.35,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!0,octave:1,level:.2,wave:"sine"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:800,q:1.2},envelope:{attack:.4,decay:.8,sustain:.8,release:1.5},master:{gain:.25},sampler:{...U.sampler}},brightLead:{osc1:{wave:"square",detune:3,detuneFine:0},osc2:{wave:"sawtooth",detune:-6},mix:.5,fm:{enabled:!0,ratio:1.5,amount:120},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"bandpass",cutoff:1600,q:.7},envelope:{attack:.01,decay:.15,sustain:.5,release:.2},master:{gain:.22},sampler:{...U.sampler}}};function vp(){const u=Y(v=>v.updatePatch),a=Y(v=>v.exportPatch),i=Y(v=>v.importPatch),c=W.useRef(null),p=()=>{const v=a(),x=new Blob([v],{type:"application/json"}),h=URL.createObjectURL(x),g=document.createElement("a");g.href=h,g.download="patch.json",g.click(),URL.revokeObjectURL(h)},f=v=>{const x=v.target.files?.[0];if(!x)return;const h=new FileReader;h.onload=()=>{i(String(h.result))},h.readAsText(x)};return l.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[l.jsxs("div",{className:"row",style:{gap:8},children:[l.jsx("select",{onChange:v=>u(li[v.target.value]),defaultValue:"init",children:Object.entries(li).map(([v])=>l.jsx("option",{value:v,children:v},v))}),l.jsx("button",{onClick:()=>c.current?.click(),children:"Import"}),l.jsx("input",{ref:c,type:"file",accept:"application/json",style:{display:"none"},onChange:f}),l.jsx("button",{onClick:p,children:"Export"}),l.jsx("button",{onClick:()=>u(li.init),children:"Reset"}),l.jsx("button",{title:"Clears local patches to recover from incompatible versions",onClick:()=>{localStorage.removeItem("websynth-patch"),location.reload()},children:"Clear Local"})]}),l.jsx("div",{className:"label",children:"Presets and Patch IO"})]})}function gp(){const a=Y(v=>v.patch.expression)??U.expression,i=Y(v=>v.updatePatch),c=W.useMemo(()=>{const v=new Map;for(const x of ci){const h=v.get(x.category)??[];h.push(x),v.set(x.category,h)}return Array.from(v.entries())},[]),p=v=>x=>{const h=x.target.value,g=v==="x"?{x:h,y:a.y}:{x:a.x,y:h};i({expression:g})},f=v=>{const x=a?.[v];return ci.find(g=>g.id===x)?.description??"Select a destination to be controlled by the XY surface."};return l.jsxs("div",{className:"expression-panel",children:[l.jsxs("div",{className:"expression-row",children:[l.jsxs("label",{children:[l.jsx("span",{className:"label",children:"X Axis Target"}),l.jsx("select",{value:a?.x??U.expression.x,onChange:p("x"),children:c.map(([v,x])=>l.jsx("optgroup",{label:v,children:x.map(h=>l.jsx("option",{value:h.id,children:h.label},h.id))},v))})]}),l.jsx("p",{className:"hint-text",children:f("x")})]}),l.jsxs("div",{className:"expression-row",children:[l.jsxs("label",{children:[l.jsx("span",{className:"label",children:"Y Axis Target"}),l.jsx("select",{value:a?.y??U.expression.y,onChange:p("y"),children:c.map(([v,x])=>l.jsx("optgroup",{label:v,children:x.map(h=>l.jsx("option",{value:h.id,children:h.label},h.id))},v))})]}),l.jsx("p",{className:"hint-text",children:f("y")})]})]})}function oi({open:u,onClose:a,children:i,title:c="Settings",closeLabel:p="Close settings"}){return W.useEffect(()=>{if(!u)return;const f=v=>{v.key==="Escape"&&a()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[u,a]),u?l.jsxs("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"modal-backdrop",onClick:a}),l.jsxs("div",{className:"modal",children:[l.jsxs("header",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:c}),l.jsx("button",{className:"modal-close",onClick:a,"aria-label":p,children:""})]}),l.jsx("div",{className:"modal-body",children:i})]})]}):null}const wc=16,sl=[{id:"kick",label:"Kick",midi:36,patch:{osc1:{wave:"sine",detune:-24},osc2:{wave:"sine",detune:0},mix:0,envelope:{attack:.001,decay:.18,sustain:0,release:.08},filter:{type:"lowpass",cutoff:380,q:.8},master:{gain:.35}}},{id:"snare",label:"Snare",midi:38,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:12},mix:.55,envelope:{attack:.001,decay:.22,sustain:0,release:.12},filter:{type:"bandpass",cutoff:1800,q:2.8},master:{gain:.28}}},{id:"hat",label:"Hat",midi:42,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:24},mix:.7,envelope:{attack:.001,decay:.08,sustain:0,release:.05},filter:{type:"highpass",cutoff:5e3,q:.9},master:{gain:.22}}}];function yp(){const u={};for(const a of sl)u[a.id]=Array.from({length:wc},()=>!1);return u.kick[0]=!0,u.kick[8]=!0,u.snare[4]=!0,u.snare[12]=!0,u.hat=u.hat.map((a,i)=>i%2===0),u}function xp(){const u=Y(T=>T.transport.tempo),a=Y(T=>T.transport.playing),i=Y(T=>T.transport.tick),c=Y(T=>T.setTempo),p=Y(T=>T.setTransportPlaying),[f,v]=W.useState(()=>yp()),[x,h]=W.useState(0),g=W.useRef({}),M=W.useRef(f);W.useEffect(()=>{M.current=f},[f]);const k=async T=>{let L=g.current[T];L||(L=new ai,g.current[T]=L),await L.resume();const R=sl.find(I=>I.id===T)?.patch;return R&&L.applyPatch({...U,...R}),L},S=async T=>{const L=M.current,R=sl.filter(I=>L[I.id]?.[T]);for(const I of R)(await k(I.id)).previewNote(I.midi,180)};W.useEffect(()=>{if(!a){h(0);return}const T=i%wc;h(T),S(T)},[i,a]),W.useEffect(()=>()=>{for(const T of Object.values(g.current))try{T.audioContext.close()}catch{}g.current={}},[]);const b=(T,L)=>{v(R=>{const I={...R,[T]:[...R[T]]};return I[T][L]=!I[T][L],I})};return l.jsxs("div",{className:"drum-machine",children:[l.jsxs("div",{className:"drum-controls",children:[l.jsx("button",{className:"play-button",onClick:()=>p(!a),children:a?"Stop":"Play"}),l.jsx(Ce,{label:"Tempo",min:60,max:180,step:1,value:u,onChange:T=>c(T)})]}),l.jsx("div",{className:"drum-grid",children:sl.map(T=>l.jsxs("div",{className:"drum-row",children:[l.jsx("div",{className:"drum-label",children:T.label}),l.jsx("div",{className:"drum-steps",children:f[T.id]?.map((L,R)=>{const I=a&&x===R;return l.jsx("button",{className:`drum-step${L?" active":""}${I?" current":""}`,onClick:()=>b(T.id,R)},R)})})]},T.id))})]})}const wp=4;function Sp(){const u=Y(f=>f.transport.tempo),a=Y(f=>f.transport.playing),i=Y(f=>f.bumpTransportTick),c=Y(f=>f.patch),p=Y(f=>f.updatePatch);return W.useEffect(()=>{if(!a)return;const f=6e4/u/wp,v=window.setInterval(()=>i(),f);return()=>window.clearInterval(v)},[a,u,i]),W.useEffect(()=>{const f=c.sequencer??U.sequencer;f?.enabled&&f.playing!==a&&p({sequencer:{...f,playing:a}})},[a,c.sequencer,p]),W.useEffect(()=>{const f=c.sequencer??U.sequencer;f?.enabled&&f.bpm!==u&&p({sequencer:{...f,bpm:u}});const v=c.arp??U.arp;v?.enabled&&(v.bpm!==u||!v.bpmSync)&&p({arp:{...v,bpm:u,bpmSync:!0}})},[u,c.sequencer,c.arp,p]),null}const vc=144,kp=128;function jp(u){return Array.from(u.inputs.values()).map(a=>({id:a.id,name:a.name??"Unknown input",manufacturer:a.manufacturer??null}))}let Hr=null;function Sc(){return Hr||(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"?Promise.reject(new Error("Web MIDI API is not supported in this environment")):(Hr=navigator.requestMIDIAccess({sysex:!1}).finally(()=>{Hr=null}),Hr))}function Ep(){const u=Y(M=>M.engine),a=Y(M=>M.midi),i=Y(M=>M.setMidiSupported),c=Y(M=>M.setMidiStatus),p=Y(M=>M.setMidiInputs),f=Y(M=>M.setMidiSelectedInput),v=Y(M=>M.setMidiActiveNotes),x=W.useRef(null),h=W.useRef(null),g=W.useRef(new Set);return W.useEffect(()=>{if(!a.enabled){const k=Array.from(g.current);k.length&&u&&k.forEach(b=>u.noteOff(b)),g.current.clear(),v([]);const S=a.supported===!1?"unsupported":"idle";a.status!==S&&c(S),p([]),x.current&&(x.current.onstatechange=null);return}if(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"){i(!1),c("unsupported");return}let M=!1;return i(!0),c("requesting"),Sc().then(k=>{if(M)return;x.current=k;const S=()=>{const b=jp(k);p(b);const{selectedInputId:T}=Y.getState().midi;b.length===0&&(g.current.clear(),v([])),b.length>0?b.some(R=>R.id===T)||f(b[0]?.id??null):T&&f(null)};S(),k.onstatechange=()=>S(),c("ready")}).catch(k=>{if(M)return;const S=k instanceof Error?k.message:"Failed to access MIDI devices";c("error",S)}),()=>{M=!0,x.current&&(x.current.onstatechange=null),x.current=null}},[u,a.enabled,v,p,f,c,i]),W.useEffect(()=>{if(!a.enabled){h.current&&(h.current.onmidimessage=null,h.current=null);return}const M=x.current;if(!M)return;const k=a.selectedInputId,S=k?Array.from(M.inputs.values()).find(T=>T.id===k):null;if(h.current&&h.current!==S){h.current.onmidimessage=null,h.current=null;const T=Array.from(g.current);T.length&&u&&T.forEach(L=>u.noteOff(L)),g.current.clear(),v([])}if(!S)return;const b=T=>{const L=T.data;if(!L||L.length<2)return;const R=L[0],I=L[1],H=L[2]??0,te=R&240,V=I;if(te===vc&&H>0){u&&u.noteOn(V),g.current.add(V),v(Array.from(g.current));return}(te===kp||te===vc&&H===0)&&(u&&u.noteOff(V),g.current.delete(V),v(Array.from(g.current)))};return S.onmidimessage=b,h.current=S,()=>{S.onmidimessage===b&&(S.onmidimessage=null);const T=Array.from(g.current);T.length&&u&&T.forEach(L=>u.noteOff(L)),g.current.clear(),v([])}},[u,a.enabled,a.selectedInputId,v]),null}const Mp={idle:"Not connected",requesting:"Awaiting browser permission...",ready:"Connected",error:"Connection error",unsupported:"Not supported"};function Cp(){const u=Y(h=>h.midi),a=Y(h=>h.setMidiEnabled),i=Y(h=>h.setMidiSelectedInput),c=Y(h=>h.setMidiStatus),p=Y(h=>h.setMidiSupported),f=W.useMemo(()=>{const h=Mp[u.status]??"Unknown";return u.status==="error"&&u.lastError?`${h}: ${u.lastError}`:u.status==="ready"&&u.inputs.length===0?"Connected - no inputs detected":h},[u.inputs.length,u.lastError,u.status]),v=u.supported===!1,x=W.useCallback(h=>{if(!h.target.checked){a(!1);return}c("requesting"),a(!0),Sc().then(()=>{p(!0)}).catch(M=>{const k=M instanceof Error?M.message:"Failed to access MIDI devices";if(M instanceof Error&&/not supported/i.test(M.message)){p(!1),c("unsupported"),a(!1);return}p(!0),c("error",k)})},[a,c,p]);return l.jsxs("div",{className:"settings-card",children:[l.jsxs("div",{className:"settings-row",children:[l.jsx("label",{className:"settings-label",htmlFor:"midi-enabled",children:"Enable MIDI input"}),l.jsx("input",{id:"midi-enabled",type:"checkbox",checked:u.enabled,onChange:x,disabled:v})]}),l.jsxs("div",{className:"settings-row",children:[l.jsx("span",{className:"settings-label",children:"Status"}),l.jsx("span",{className:"settings-value","data-status":u.status,children:f})]}),u.status==="unsupported"?l.jsx("p",{className:"settings-help",children:"This browser does not expose the Web MIDI API. Try Chrome or Edge on desktop."}):null,l.jsxs("div",{className:"settings-row",children:[l.jsx("label",{className:"settings-label",htmlFor:"midi-input",children:"MIDI input device"}),l.jsxs("select",{id:"midi-input",value:u.selectedInputId??"",onChange:h=>{const g=h.target.value;i(g.length?g:null)},disabled:!u.enabled||u.inputs.length===0,children:[u.inputs.length===0?l.jsx("option",{value:"",children:"No inputs detected"}):null,u.inputs.map(h=>l.jsxs("option",{value:h.id,children:[h.name,h.manufacturer?` (${h.manufacturer})`:""]},h.id))]})]}),u.enabled&&u.inputs.length===0?l.jsx("p",{className:"settings-help",children:"Plug in a controller or check browser permissions."}):null]})}function Np({href:u="https://github.com/szabadkai/synth-demo"}){return l.jsxs("a",{className:"github-corner",href:u,"aria-label":"View WebSynth Studio on GitHub",target:"_blank",rel:"noreferrer noopener",children:[l.jsx("span",{className:"sr-only",children:"View the project repository on GitHub"}),l.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M12 0a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58 0-.29-.01-1.05-.02-2.05-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.35-1.78-1.35-1.78-1.11-.76.08-.75.08-.75 1.22.09 1.87 1.26 1.87 1.26 1.09 1.86 2.86 1.32 3.56 1 .11-.79.43-1.32.78-1.62-2.66-.3-5.47-1.33-5.47-5.9 0-1.3.47-2.37 1.24-3.21-.12-.3-.54-1.51.12-3.15 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23.66 1.64.24 2.85.12 3.15.77.84 1.24 1.9 1.24 3.21 0 4.58-2.82 5.6-5.5 5.9.44.39.83 1.16.83 2.34 0 1.69-.02 3.05-.02 3.47 0 .32.22.69.83.57A12 12 0 0 0 12 0Z"})})]})}const Pp=[{title:"Power On + Audio Check",points:["Click Power On (or press any key) to resume the audio engine  browsers block sound until you interact.","Hold a note on the on-screen keyboard or your computer keys (A/W/S) to confirm audio output.","Watch the Audio Ready badge so you know the synth engine is live and responsive."]},{title:"Dashboard Basics",points:["Each panel can be dragged by the  handle to personalise your layout.","Use the Oscilloscope panel to visualise how oscillator, filter, and envelope tweaks shape the signal.","Dive into Oscillator, Filter, Envelope, and Effects panels to sculpt tone, dynamics, and ambience."]},{title:"Modulation Playground",points:["Assign LFOs to pitch, filter, or effect targets for evolving textures  adjust rate, shape, sync, and depth.","Flip on the Arpeggiator to latch held notes, experiment with patterns, octave ranges, and tempo sync.","Program riffs in the Sequencer, toggle steps live, and shape groove with direction and swing."]},{title:"Rhythm Layer",points:["Open the Drum Machine to sequence kick, snare, and hat voices using the shared global transport.","Hit Play/Stop in the Drum Machine (or space bar in the Sequencer) to drive every tempo-aware module.","Adjust BPM from either panel  the Transport keeps LFO sync, sequencer rate, and arps locked in."]},{title:"Expressive Performance",points:["Engage CapsLock to activate the 2D expression surface; glide a trackpad, mouse, or pen for live modulation.","Check the overlay label to see which parameters the X/Y axes control and their real-time values.","Customise X/Y destinations under Settings  Expression to map filter sweeps, macro blends, and more."]},{title:"Patch Workflow",points:["Browse built-in presets from Settings  Patches to explore starting points for new sounds.","Export your patch as JSON to share, import saved patches, or reset to the init patch at any time.","Use Clear Local if you ever need to wipe cached patches after upgrading the app."]},{title:"Hardware MIDI",points:["Toggle Enable MIDI input in Settings  MIDI to request browser permission for your controller.","Select a detected device and play  incoming notes route straight into the synth voice engine.","Status hints show permission prompts, errors, or a friendly ready state so you know what to expect."]},{title:"Next Steps",points:["Layer Sequencer, Arpeggiator, Drum Machine, and expression surface for full arrangements.","Save favourite patches into src/patches/ to share with your team or future sessions.","Before shipping changes, run npm run lint, npm run typecheck, npm test, and npm run build to keep QA tight."]}];function Tp({onFinish:u}){return l.jsxs("div",{className:"onboarding-guide",children:[l.jsx("p",{className:"onboarding-intro",children:"New to WebSynth Studio? Work through the highlights below, tweaking the live app as you go. Each section points you to the panels and controls that define the instrument."}),l.jsx("ol",{className:"onboarding-list",children:Pp.map(a=>l.jsxs("li",{className:"onboarding-section",children:[l.jsx("h4",{children:a.title}),l.jsx("ul",{children:a.points.map(i=>l.jsx("li",{children:i},i))})]},a.title))}),l.jsx("button",{type:"button",className:"onboarding-cta",onClick:()=>{u?.()},children:"Let's go"})]})}const _p="https://buymeacoffee.com/szabadkai",Lp="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png",ii="buy-coffee-collapsed";function Rp(){const[u,a]=W.useState(!1);return W.useEffect(()=>{try{window.localStorage.getItem(ii)==="1"&&a(!0)}catch{}},[]),W.useEffect(()=>{try{u?window.localStorage.setItem(ii,"1"):window.localStorage.removeItem(ii)}catch{}},[u]),u?l.jsx("div",{className:"buy-coffee collapsed",children:l.jsx("button",{type:"button",className:"buy-coffee-icon","aria-label":"Show Buy Me a Coffee support button",onClick:()=>a(!1),children:l.jsx("span",{"aria-hidden":"true",children:""})})}):l.jsxs("div",{className:"buy-coffee",children:[l.jsxs("a",{className:"buy-coffee-link",href:_p,target:"_blank",rel:"noreferrer noopener","aria-label":"Support WebSynth Studio via Buy Me a Coffee",children:[l.jsx("span",{className:"sr-only",children:"Support WebSynth Studio on Buy Me a Coffee"}),l.jsx("img",{src:Lp,alt:"",loading:"lazy",width:220,height:62})]}),l.jsx("button",{type:"button",className:"buy-coffee-dismiss","aria-label":"Hide Buy Me a Coffee support button",onClick:()=>a(!0),children:l.jsx("span",{"aria-hidden":"true",children:""})})]})}const Op=[{label:"1024",value:1024,description:"Fastest response, lowest resolution"},{label:"2048",value:2048,description:"Balanced speed and detail"},{label:"4096",value:4096,description:"Default detail"},{label:"8192",value:8192,description:"Highest resolution, slowest refresh"}];function bp(){const u=Y(i=>i.oscilloscope.fftSize),a=Y(i=>i.setOscilloscopeFftSize);return l.jsxs("div",{className:"settings-group",children:[l.jsx("h5",{className:"settings-subheading",children:"Oscilloscope"}),l.jsxs("div",{className:"settings-row",children:[l.jsx("span",{className:"label",children:"FFT Size"}),l.jsx("div",{className:"fft-options",children:Op.map(i=>{const c=u===i.value;return l.jsxs("button",{type:"button",className:`fft-option${c?" active":""}`,"aria-pressed":c,onClick:()=>a(i.value),children:[l.jsx("span",{className:"fft-option__label",children:i.label}),l.jsx("span",{className:"fft-option__hint",children:i.description})]},i.value)})})]})]})}const gc="websynth-guide-seen",Ip=["oscilloscope","oscillator","effects","lfos","arp","sequencer","drum","keyboard"];function Dp(u){return Ip.includes(u)}function zp(){const u=Y(I=>I.engine),a=Y(I=>I.setEngine),i=Y(I=>I.patch),[c,p]=W.useState(!1),[f,v]=W.useState(!1),[x,h]=W.useState(null);W.useEffect(()=>{try{localStorage.getItem(gc)||v(!0)}catch{}},[]),W.useEffect(()=>{const I=async()=>{if(!Y.getState().engine){const H=new ai;await H.resume(),H.applyPatch(i),a(H)}window.removeEventListener("pointerdown",I),window.removeEventListener("keydown",I)};return window.addEventListener("pointerdown",I),window.addEventListener("keydown",I),()=>{window.removeEventListener("pointerdown",I),window.removeEventListener("keydown",I)}},[i,a]);const g=async()=>{if(!u){const I=new ai;await I.resume(),I.applyPatch(i),a(I)}},M=[{id:"oscilloscope",title:"Oscilloscope",span:2,render:()=>l.jsxs("div",{className:"oscilloscope-stack",children:[l.jsx(up,{}),l.jsxs("div",{className:"oscilloscope-row",children:[l.jsx(np,{}),l.jsx(rp,{})]})]})},{id:"oscillator",title:"Oscillator",span:2,render:()=>l.jsx(tp,{})},{id:"effects",title:"Effects",span:2,render:()=>l.jsx(cp,{})},{id:"lfos",title:"LFOs",span:2,render:()=>l.jsx(dp,{})},{id:"arp",title:"Arpeggiator",span:2,render:()=>l.jsx(fp,{})},{id:"sequencer",title:"Sequencer",span:2,render:()=>l.jsx(pp,{})},{id:"drum",title:"Drum Machine",span:2,render:()=>l.jsx(xp,{})},{id:"keyboard",title:"Keyboard",span:2,render:()=>l.jsx(ap,{})}],k=Y(I=>I.layoutOrder),S=Y(I=>I.setLayoutOrder),b=Y(I=>I.resetPatch),T=W.useMemo(()=>({oscilloscope:{title:"Oscilloscope & Signal Shaping",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"This column stacks the live scope with the filter and envelope controls so you can see and hear how each tweak reshapes the voice in real time."}),l.jsx("h5",{children:"Oscilloscope"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Live waveform"})," shows the post-filter signalwatch for clipping, phase inversion, or DC offset."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Visual feedback"})," makes it easy to dial envelope curves or modulation depth by eye."]})]}),l.jsx("h5",{children:"Filter"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Filter Type"}),": switch between low-pass, high-pass, band-pass, or notch responses."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cutoff"}),": set the corner frequency (408 kHz)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Resonance"}),": emphasise frequencies around the cutoff for squelchy tones or formants."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Master"}),": trim the synth output to prevent overload after heavy resonance or drive."]})]}),l.jsx("h5",{children:"Envelope"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Attack/Decay"}),": tune how quickly the note ramps up and falls back."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Sustain"}),": set the plateau level while a key is held."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Release"}),": control how long the tail rings once the note stops."]})]}),l.jsx("h5",{children:"Workflow Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Start with moderate sustain and adjust cutoff until the oscilloscope shows a balanced waveform."}),l.jsx("li",{children:"Use short attacks with high resonance for plucky stabs, or longer releases for pads."})]})]})},oscillator:{title:"Oscillator Engine",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"The oscillator panel builds the raw tone. Switch between the classic dual-oscillator stack and the macro voice engine."}),l.jsx("h5",{children:"Classic Mode"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Mode"}),": choose Classic to expose Osc 1 and Osc 2 controls; Macro flips to the multi-model engine."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Wave"}),": pick saw, square, triangle, sine, or noise per oscillator."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Detune/Fine"}),": detune Osc 1 in cents for chorus movement; fine tune provides subtle offsets."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mix"}),": blend Osc 1 against Osc 2 to balance the tone."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"FM toggle"}),": enable frequency modulation, then set ",l.jsx("strong",{children:"Ratio"})," for the modulator harmonic and ",l.jsx("strong",{children:"Amount"})," for depth."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Ring toggle"}),": engage ring modulation and scale its ",l.jsx("strong",{children:"Amount"})," for metallic textures."]})]}),l.jsx("h5",{children:"Macro Mode"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Model"}),": jump between macro-oscillator flavours (VA, wavefold, pluck, FM 2-Op, etc.)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Harmonics/Timbre/Morph"}),": scan each models parameter setgreat for morphing wavetables or shaping plucks."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Level"}),": trim the macro engine output when layering with other voices."]})]}),l.jsx("h5",{children:"Sound Design Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Stack slight detune plus a touch of ring modulation for wide analog pads."}),l.jsx("li",{children:"Macro models respond well to LFO or expression assignmentsmap CapsLock X/Y to Morph or Timbre for live movement."})]})]})},effects:{title:"Effects Rack",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Delay and reverb live here so you can finish a patch without leaving the synth view."}),l.jsx("h5",{children:"Delay"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Enabled"}),": toggle the bucket-brigade style delay."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Time"}),": set delay time in seconds (01.5s). Syncs nicely with tempo divisions."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Feedback"}),": control repeats; keep under ~0.7 for stable feedback."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mix"}),": blend the wet signal back with the dry synth."]})]}),l.jsx("h5",{children:"Reverb"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Enabled"}),": load the convolution reverb stage."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Size"}),": pick the impulse room length."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Decay"}),": shape how long the tail sustains."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mix"}),": balance ambience without washing out the dry signal."]})]}),l.jsx("h5",{children:"Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Short delay times with low mix create slapback for bass and plucks."}),l.jsx("li",{children:"Cut delay feedback when engaging heavy reverb to avoid muddiness."})]})]})},lfos:{title:"LFO Modulators",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Two low-frequency oscillators inject motion into almost any destination in the patch."}),l.jsx("h5",{children:"LFO Controls"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Enabled"}),": arm the modulation path for each LFO."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Wave"}),": choose sine, triangle, square, or saw for the modulation shape."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Dest"}),": route to pitch, filter, or amptie depth to macros or expression for more routings."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Rate"}),": set frequency in Hz (0.0120); syncs with tempo when combined with the transport."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Amount"}),": scale modulation depth; automate this with the Sequencer or expression surface for evolving sounds."]})]}),l.jsx("h5",{children:"Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Use LFO1 for slow filter sweeps and LFO2 for faster vibrato or tremolo."}),l.jsx("li",{children:"Disable the checkbox to park an LFO without losing its configuration."})]})]})},arp:{title:"Arpeggiator",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Turn held chords into rhythmic runs that follow the global transport."}),l.jsx("h5",{children:"Playback"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Enabled"}),": start capturing held notes."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Latch"}),": keep notes running after you release the keys."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Clear"}),": flush the current latched chord without toggling the arp off."]})]}),l.jsx("h5",{children:"Timing"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Mode"}),": set traversal (up, down, up/down, random, as played)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Octaves"}),": extend the pattern across 14 octaves."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Chord"}),": fold power chords, triads, or sevenths into each step."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Division"}),": choose rhythmic value (1/41/16T)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"BPM"}),": the slider writes to the global tempo so drums and sequencer stay in sync."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Gate/Swing"}),": tighten note length and groove feel."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Repeats/Length"}),": loop steps multiple times or clamp the pattern length."]})]}),l.jsx("h5",{children:"Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Combine Latch with the Sequencer for counterpointthat way the arp handles chords while the sequencer drives lead lines."}),l.jsx("li",{children:"Use the expression surface to modulate filter cutoff while the arp runs for dynamic sweeps."})]})]})},sequencer:{title:"Step Sequencer",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Program note offsets and modulation lanes across up to 16 stepsperfect for basslines or evolving textures."}),l.jsx("h5",{children:"Transport & Timing"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Play"}),": toggles the shared transport; the button mirrors the space-bar shortcut."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Enabled"}),": arm the sequencer without nuking your pattern."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Tempo"}),": linked to the global BPM so drums and arp line up."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Division"}),": set step rate (quarter to triplet sixteenths)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Length"}),": choose how many steps play before looping."]})]}),l.jsx("h5",{children:"Shape the Pattern"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Gate"}),": change note length; great for staccato acid lines."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Swing"}),": add shuffle (disabled for triplets and quarter notes)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Root"}),": slide the entire sequence up or down in pitch."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Edit Notes (Keyboard)"}),": enable to type notes with A/W/S; +/- nudges semitones, Z/X shifts the root octave."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Step grid"}),": click to toggle notes, ",l.jsx("strong",{children:"Alt+click"})," raises semitone offset, right-click lowers it."]})]}),l.jsx("h5",{children:"Visual Feedback"}),l.jsxs("ul",{children:[l.jsx("li",{children:"The highlighted cell shows the playhead; cursor outlines follow keyboard edit focus."}),l.jsx("li",{children:"Offsets in the cells (+/- values) represent semitone shifts relative to Root."})]})]})},drum:{title:"Drum Machine",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Create percussive backbeats that share tempo and transport with the synth voice."}),l.jsx("h5",{children:"Transport"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Play/Stop"}),": drives the global clock, so sequencer and arp follow the same BPM."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Tempo"}),": change BPM with the sliderapplies everywhere."]})]}),l.jsx("h5",{children:"Programming"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Step buttons"}),": click to toggle hits for kick, snare, and hat; glowing steps are active."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Current step highlight"}),": a brighter cell shows the beat currently firing."]}),l.jsx("li",{children:"Each instrument has its own SynthEngine voice with curated patches for punchy drums."})]}),l.jsx("h5",{children:"Tips"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Start with the default 4-on-the-floor kick and build snare/hat syncopation around it."}),l.jsx("li",{children:"Layer sequencer basslines with hats on offbeats for instant groove."})]})]})},keyboard:{title:"Keyboard & Performance",body:l.jsxs("div",{className:"module-help",children:[l.jsx("p",{children:"Play and monitor incoming notes from both the computer keyboard and external MIDI controllers."}),l.jsx("h5",{children:"Computer Keys"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Mapping"}),": A/W/S/D/F/G map to white and black keys; apostrophe reaches two octaves up."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Z / X"}),": shift the octave indicator down or up in 12-semitone jumps."]}),l.jsx("li",{children:"Held keys appear highlighted so you always know what is sustaining."})]}),l.jsx("h5",{children:"Pointer & Touch"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Click or drag for glissando; multi-touch (trackpad/tablet) keeps parallel notes held."}),l.jsx("li",{children:"Black keys float above the whites for accurate gliss transitions."})]}),l.jsx("h5",{children:"MIDI Integration"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Notes triggered from external hardware light up alongside local keysgreat for debugging MIDI routing."}),l.jsx("li",{children:"The octave badge shows the base MIDI note and offset so you can align hardware controllers quickly."})]})]})}}),[]),L=x?T[x]:null,R=()=>{try{localStorage.setItem(gc,"1")}catch{}v(!1)};return l.jsxs("div",{className:"app",children:[l.jsx(Np,{}),l.jsx(Rp,{}),l.jsx(Ep,{}),l.jsxs("header",{className:"header",children:[l.jsx("h2",{children:"WebSynth Studio"}),l.jsxs("div",{className:"row",children:[l.jsx("button",{onClick:g,children:u?"Audio Ready":"Power On"}),l.jsx("button",{onClick:()=>{b()},children:"Reset Patch"}),l.jsx("button",{onClick:()=>{v(!0)},children:"Help"}),l.jsx("button",{onClick:()=>p(!0),children:"Settings"})]})]}),l.jsx("main",{children:l.jsx(mp,{panels:M,order:k,onOrderChange:S,onRequestHelp:I=>{Dp(I)&&h(I)}})}),l.jsx(hp,{}),l.jsx(oi,{open:x!=null,onClose:()=>h(null),title:L?.title??"Module Help",closeLabel:"Close module help",children:L?.body??l.jsx("p",{children:"Help content coming soon."})}),l.jsx(oi,{open:f,onClose:R,title:"Onboarding Guide",closeLabel:"Close help overlay",children:l.jsx(Tp,{onFinish:R})}),l.jsxs(oi,{open:c,onClose:()=>p(!1),children:[l.jsxs("section",{className:"settings-section",children:[l.jsx("h4",{className:"settings-heading",children:"Patches"}),l.jsx(vp,{})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h4",{className:"settings-heading",children:"Expression"}),l.jsx(gp,{})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h4",{className:"settings-heading",children:"Visualization"}),l.jsx(bp,{})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h4",{className:"settings-heading",children:"MIDI"}),l.jsx(Cp,{})]})]}),l.jsx(Sp,{})]})}const Fp=Nf.createRoot(document.getElementById("root"));Fp.render(l.jsx(zp,{}));
