:root{--bg: #0e0f12;--panel: #181b20;--accent: #68d391;--accent-2: #63b3ed;--text: #e5e7eb;--muted: #9ca3af;--viz-bg: #05070b;--viz-stroke: #00ffd5;--viz-border: #273244}*{box-sizing:border-box}html,body,#root{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:linear-gradient(180deg,#0f1115,#0a0b0e)}.app{display:flex;flex-direction:column;min-height:100%}.app>main{flex:1;overflow:auto}.header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--panel);border-bottom:1px solid #1f2430}.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:16px}.panel{background:#13161b;border:1px solid #222631;border-radius:8px;padding:12px}.panel h3{margin:0 0 8px;font-size:14px;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.button,button{background:#1c202a;border:1px solid #2a3040;color:var(--text);border-radius:6px;padding:8px 12px;cursor:pointer}input[type=range]{appearance:none;-webkit-appearance:none;width:100%;height:6px;background:#111319;border-radius:4px;border:1px solid #2a3040}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;background:var(--accent);border-radius:50%;border:1px solid #2a3040}input[type=range]::-moz-range-thumb{width:14px;height:14px;background:var(--accent);border-radius:50%;border:1px solid #2a3040}select,input[type=number],input[type=text]{background:#111319;border:1px solid #2a3040;color:var(--text);border-radius:6px;padding:6px 8px}.keyboard{display:flex;flex-direction:column;gap:8px;-webkit-user-select:none;user-select:none}.keys-and-help{display:flex;align-items:flex-start;gap:12px}.key{width:28px;height:140px;background:#f8fafc;border:1px solid #e5e7eb;border-radius:4px;position:relative;cursor:pointer}.key.black{width:20px;height:90px;background:#0b0f16;border-color:#111927;position:absolute;top:0;z-index:2}.key .key-label{position:absolute;bottom:4px;left:50%;transform:translate(-50%);font-size:10px;line-height:1;color:#111827;opacity:.9;pointer-events:none;-webkit-user-select:none;user-select:none}.key.black .key-label{color:#e5e7eb;opacity:.85}.keys-row{position:relative;display:flex}.keys-row{-ms-touch-action:none;touch-action:none}.kbd-help{display:flex;flex-direction:column;gap:6px;padding:8px;background:#111319;border:1px solid #2a3040;border-radius:6px;min-width:120px}.kbd-help .badge{margin-right:0;margin-bottom:4px}.kbd-row{display:flex;align-items:center;gap:8px}.hint-text{font-size:12px;color:var(--muted)}.controls-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.controls-grid>label{display:grid;gap:6px}.controls-grid select{width:100%}select:disabled,input[disabled],input[type=range][disabled]{opacity:.6;cursor:not-allowed}.label{font-size:12px;color:var(--muted)}.value{font-size:12px;color:var(--text);opacity:.9}.kbd{display:inline-flex;align-items:center;justify-content:center;min-width:22px;height:20px;padding:0 6px;font-size:12px;color:#cfe9ff;background:#0a2a3f;border:1px solid #2a4a5f;border-radius:4px}.badge{display:inline-block;padding:2px 6px;margin-right:6px;font-size:11px;text-transform:uppercase;letter-spacing:.06em;color:#ffe7a3;background:#3a2a05;border:1px solid #5e4707;border-radius:999px}.expression-overlay{position:fixed;bottom:16px;right:16px;background:#111319e0;border:1px solid #2a3040;border-radius:8px;padding:10px 14px;font-size:12px;color:var(--muted);pointer-events:none;transition:color .2s ease,border-color .2s ease,box-shadow .2s ease;box-shadow:0 8px 20px #00000059;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.expression-overlay.active{color:var(--accent);border-color:#68d39180;box-shadow:0 10px 28px #68d39159}.expression-label{text-transform:uppercase;letter-spacing:.12em;font-size:11px;margin-bottom:4px;opacity:.8}.expression-status{font-size:12px}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-auto-rows:minmax(220px,auto);gap:16px;padding:16px;width:100%;box-sizing:border-box}.dashboard-panel{display:flex;flex-direction:column;cursor:grab;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;position:relative}.dashboard-panel:active{cursor:grabbing}.dashboard-panel.dragging{opacity:.6;box-shadow:0 12px 24px #00000059;transform:scale(1.02)}.dashboard-panel.drop-before:before,.dashboard-panel.drop-after:after{content:"";position:absolute;left:12px;right:12px;height:3px;background:var(--accent);border-radius:999px;opacity:0;transition:opacity .1s ease}.dashboard-panel.drop-before:before{top:6px}.dashboard-panel.drop-after:after{bottom:6px}.dashboard-panel.drop-before:before,.dashboard-panel.drop-after:after{opacity:1}.dashboard-grid.drop-end:after{content:"";position:fixed;left:32px;right:32px;bottom:24px;height:3px;background:var(--accent);border-radius:999px;opacity:.4;pointer-events:none}.panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.panel-title{margin:0;font-size:14px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}.panel-drag-hint{font-size:16px;opacity:.6;pointer-events:auto;-webkit-user-select:none;user-select:none;cursor:grab;display:inline-flex;align-items:center;padding:2px 6px;border-radius:6px;transition:background .15s ease,opacity .15s ease}.panel-drag-hint:active{cursor:grabbing;opacity:.9;background:#63b3ed26}.panel-body{flex:1;display:flex;flex-direction:column;gap:12px}.dashboard-panel .controls-grid{flex:1}.modal-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;pointer-events:none}.modal-backdrop{position:fixed;inset:0;background:#0a0c10b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);pointer-events:auto}.modal{position:relative;background:#11141b;border:1px solid #2a3040;border-radius:12px;width:min(760px,92%);max-height:90vh;display:flex;flex-direction:column;box-shadow:0 24px 48px #00000073;pointer-events:auto;z-index:51}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #1f2430}.modal-title{margin:0;font-size:16px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}.modal-close{background:transparent;border:none;color:var(--muted);font-size:24px;line-height:1;padding:0 4px;cursor:pointer}.modal-body{padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:24px}.settings-section{display:flex;flex-direction:column;gap:16px;background:#13161b;border:1px solid #222631;border-radius:10px;padding:16px}.settings-heading{margin:0;font-size:14px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}.expression-panel{display:flex;flex-direction:column;gap:12px}.expression-row{display:flex;flex-direction:column;gap:6px}.expression-row p{margin:0;font-size:12px;color:var(--muted)}
