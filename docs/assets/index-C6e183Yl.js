(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const y of f.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function o(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerPolicy&&(f.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?f.credentials="include":p.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(p){if(p.ep)return;p.ep=!0;const f=o(p);fetch(p.href,f)}})();function gc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Gi={exports:{}},Hr={},Qi={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function yf(){if(Ku)return fe;Ku=1;var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.iterator;function N(S){return S===null||typeof S!="object"?null:(S=P&&S[P]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function E(S,D,ae){this.props=S,this.context=D,this.refs=T,this.updater=ae||R}E.prototype.isReactComponent={},E.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=E.prototype;function I(S,D,ae){this.props=S,this.context=D,this.refs=T,this.updater=ae||R}var V=I.prototype=new L;V.constructor=I,O(V,E.prototype),V.isPureReactComponent=!0;var b=Array.isArray,K=Object.prototype.hasOwnProperty,k={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function B(S,D,ae){var ce,pe={},me=null,ge=null;if(D!=null)for(ce in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(me=""+D.key),D)K.call(D,ce)&&!z.hasOwnProperty(ce)&&(pe[ce]=D[ce]);var de=arguments.length-2;if(de===1)pe.children=ae;else if(1<de){for(var Se=Array(de),Ue=0;Ue<de;Ue++)Se[Ue]=arguments[Ue+2];pe.children=Se}if(S&&S.defaultProps)for(ce in de=S.defaultProps,de)pe[ce]===void 0&&(pe[ce]=de[ce]);return{$$typeof:u,type:S,key:me,ref:ge,props:pe,_owner:k.current}}function G(S,D){return{$$typeof:u,type:S.type,key:D,ref:S.ref,props:S.props,_owner:S._owner}}function ie(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function Me(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ae){return D[ae]})}var Ne=/\/+/g;function _e(S,D){return typeof S=="object"&&S!==null&&S.key!=null?Me(""+S.key):D.toString(36)}function dt(S,D,ae,ce,pe){var me=typeof S;(me==="undefined"||me==="boolean")&&(S=null);var ge=!1;if(S===null)ge=!0;else switch(me){case"string":case"number":ge=!0;break;case"object":switch(S.$$typeof){case u:case a:ge=!0}}if(ge)return ge=S,pe=pe(ge),S=ce===""?"."+_e(ge,0):ce,b(pe)?(ae="",S!=null&&(ae=S.replace(Ne,"$&/")+"/"),dt(pe,D,ae,"",function(Ue){return Ue})):pe!=null&&(ie(pe)&&(pe=G(pe,ae+(!pe.key||ge&&ge.key===pe.key?"":(""+pe.key).replace(Ne,"$&/")+"/")+S)),D.push(pe)),1;if(ge=0,ce=ce===""?".":ce+":",b(S))for(var de=0;de<S.length;de++){me=S[de];var Se=ce+_e(me,de);ge+=dt(me,D,ae,Se,pe)}else if(Se=N(S),typeof Se=="function")for(S=Se.call(S),de=0;!(me=S.next()).done;)me=me.value,Se=ce+_e(me,de++),ge+=dt(me,D,ae,Se,pe);else if(me==="object")throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function xt(S,D,ae){if(S==null)return S;var ce=[],pe=0;return dt(S,ce,"","",function(me){return D.call(ae,me,pe++)}),ce}function ue(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(ae){(S._status===0||S._status===-1)&&(S._status=1,S._result=ae)},function(ae){(S._status===0||S._status===-1)&&(S._status=2,S._result=ae)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var ve={current:null},U={transition:null},te={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:U,ReactCurrentOwner:k};function $(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:xt,forEach:function(S,D,ae){xt(S,function(){D.apply(this,arguments)},ae)},count:function(S){var D=0;return xt(S,function(){D++}),D},toArray:function(S){return xt(S,function(D){return D})||[]},only:function(S){if(!ie(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},fe.Component=E,fe.Fragment=o,fe.Profiler=p,fe.PureComponent=I,fe.StrictMode=d,fe.Suspense=v,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,fe.act=$,fe.cloneElement=function(S,D,ae){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ce=O({},S.props),pe=S.key,me=S.ref,ge=S._owner;if(D!=null){if(D.ref!==void 0&&(me=D.ref,ge=k.current),D.key!==void 0&&(pe=""+D.key),S.type&&S.type.defaultProps)var de=S.type.defaultProps;for(Se in D)K.call(D,Se)&&!z.hasOwnProperty(Se)&&(ce[Se]=D[Se]===void 0&&de!==void 0?de[Se]:D[Se])}var Se=arguments.length-2;if(Se===1)ce.children=ae;else if(1<Se){de=Array(Se);for(var Ue=0;Ue<Se;Ue++)de[Ue]=arguments[Ue+2];ce.children=de}return{$$typeof:u,type:S.type,key:pe,ref:me,props:ce,_owner:ge}},fe.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:f,_context:S},S.Consumer=S},fe.createElement=B,fe.createFactory=function(S){var D=B.bind(null,S);return D.type=S,D},fe.createRef=function(){return{current:null}},fe.forwardRef=function(S){return{$$typeof:w,render:S}},fe.isValidElement=ie,fe.lazy=function(S){return{$$typeof:C,_payload:{_status:-1,_result:S},_init:ue}},fe.memo=function(S,D){return{$$typeof:m,type:S,compare:D===void 0?null:D}},fe.startTransition=function(S){var D=U.transition;U.transition={};try{S()}finally{U.transition=D}},fe.unstable_act=$,fe.useCallback=function(S,D){return ve.current.useCallback(S,D)},fe.useContext=function(S){return ve.current.useContext(S)},fe.useDebugValue=function(){},fe.useDeferredValue=function(S){return ve.current.useDeferredValue(S)},fe.useEffect=function(S,D){return ve.current.useEffect(S,D)},fe.useId=function(){return ve.current.useId()},fe.useImperativeHandle=function(S,D,ae){return ve.current.useImperativeHandle(S,D,ae)},fe.useInsertionEffect=function(S,D){return ve.current.useInsertionEffect(S,D)},fe.useLayoutEffect=function(S,D){return ve.current.useLayoutEffect(S,D)},fe.useMemo=function(S,D){return ve.current.useMemo(S,D)},fe.useReducer=function(S,D,ae){return ve.current.useReducer(S,D,ae)},fe.useRef=function(S){return ve.current.useRef(S)},fe.useState=function(S){return ve.current.useState(S)},fe.useSyncExternalStore=function(S,D,ae){return ve.current.useSyncExternalStore(S,D,ae)},fe.useTransition=function(){return ve.current.useTransition()},fe.version="18.3.1",fe}var Xu;function $r(){return Xu||(Xu=1,Qi.exports=yf()),Qi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function xf(){if(Yu)return Hr;Yu=1;var u=$r(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function y(w,v,m){var C,P={},N=null,R=null;m!==void 0&&(N=""+m),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(R=v.ref);for(C in v)d.call(v,C)&&!f.hasOwnProperty(C)&&(P[C]=v[C]);if(w&&w.defaultProps)for(C in v=w.defaultProps,v)P[C]===void 0&&(P[C]=v[C]);return{$$typeof:a,type:w,key:N,ref:R,props:P,_owner:p.current}}return Hr.Fragment=o,Hr.jsx=y,Hr.jsxs=y,Hr}var Zu;function wf(){return Zu||(Zu=1,Gi.exports=xf()),Gi.exports}var s=wf(),es={},Ki={exports:{}},ct={},Xi={exports:{}},Yi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju;function Sf(){return Ju||(Ju=1,(function(u){function a(U,te){var $=U.length;U.push(te);e:for(;0<$;){var S=$-1>>>1,D=U[S];if(0<p(D,te))U[S]=te,U[$]=D,$=S;else break e}}function o(U){return U.length===0?null:U[0]}function d(U){if(U.length===0)return null;var te=U[0],$=U.pop();if($!==te){U[0]=$;e:for(var S=0,D=U.length,ae=D>>>1;S<ae;){var ce=2*(S+1)-1,pe=U[ce],me=ce+1,ge=U[me];if(0>p(pe,$))me<D&&0>p(ge,pe)?(U[S]=ge,U[me]=$,S=me):(U[S]=pe,U[ce]=$,S=ce);else if(me<D&&0>p(ge,$))U[S]=ge,U[me]=$,S=me;else break e}}return te}function p(U,te){var $=U.sortIndex-te.sortIndex;return $!==0?$:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var y=Date,w=y.now();u.unstable_now=function(){return y.now()-w}}var v=[],m=[],C=1,P=null,N=3,R=!1,O=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(U){for(var te=o(m);te!==null;){if(te.callback===null)d(m);else if(te.startTime<=U)d(m),te.sortIndex=te.expirationTime,a(v,te);else break;te=o(m)}}function b(U){if(T=!1,V(U),!O)if(o(v)!==null)O=!0,ue(K);else{var te=o(m);te!==null&&ve(b,te.startTime-U)}}function K(U,te){O=!1,T&&(T=!1,L(B),B=-1),R=!0;var $=N;try{for(V(te),P=o(v);P!==null&&(!(P.expirationTime>te)||U&&!Me());){var S=P.callback;if(typeof S=="function"){P.callback=null,N=P.priorityLevel;var D=S(P.expirationTime<=te);te=u.unstable_now(),typeof D=="function"?P.callback=D:P===o(v)&&d(v),V(te)}else d(v);P=o(v)}if(P!==null)var ae=!0;else{var ce=o(m);ce!==null&&ve(b,ce.startTime-te),ae=!1}return ae}finally{P=null,N=$,R=!1}}var k=!1,z=null,B=-1,G=5,ie=-1;function Me(){return!(u.unstable_now()-ie<G)}function Ne(){if(z!==null){var U=u.unstable_now();ie=U;var te=!0;try{te=z(!0,U)}finally{te?_e():(k=!1,z=null)}}else k=!1}var _e;if(typeof I=="function")_e=function(){I(Ne)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,xt=dt.port2;dt.port1.onmessage=Ne,_e=function(){xt.postMessage(null)}}else _e=function(){E(Ne,0)};function ue(U){z=U,k||(k=!0,_e())}function ve(U,te){B=E(function(){U(u.unstable_now())},te)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_continueExecution=function(){O||R||(O=!0,ue(K))},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_getFirstCallbackNode=function(){return o(v)},u.unstable_next=function(U){switch(N){case 1:case 2:case 3:var te=3;break;default:te=N}var $=N;N=te;try{return U()}finally{N=$}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=N;N=U;try{return te()}finally{N=$}},u.unstable_scheduleCallback=function(U,te,$){var S=u.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?S+$:S):$=S,U){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,U={id:C++,callback:te,priorityLevel:U,startTime:$,expirationTime:D,sortIndex:-1},$>S?(U.sortIndex=$,a(m,U),o(v)===null&&U===o(m)&&(T?(L(B),B=-1):T=!0,ve(b,$-S))):(U.sortIndex=D,a(v,U),O||R||(O=!0,ue(K))),U},u.unstable_shouldYield=Me,u.unstable_wrapCallback=function(U){var te=N;return function(){var $=N;N=te;try{return U.apply(this,arguments)}finally{N=$}}}})(Yi)),Yi}var ec;function kf(){return ec||(ec=1,Xi.exports=Sf()),Xi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc;function jf(){if(tc)return ct;tc=1;var u=$r(),a=kf();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function f(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(p[e]=t,e=0;e<t.length;e++)d.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},P={};function N(e){return v.call(P,e)?!0:v.call(C,e)?!1:m.test(e)?P[e]=!0:(C[e]=!0,!1)}function R(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,r){if(t===null||typeof t>"u"||R(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,n,r,l,i,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=c}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,I);E[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,I);E[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,I);E[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,t,n,r){var l=E.hasOwnProperty(t)?E[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,r)&&(n=null),r||l===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var b=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),U=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,S;function D(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var ae=!1;function ce(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),i=r.stack.split(`
`),c=l.length-1,h=i.length-1;1<=c&&0<=h&&l[c]!==i[h];)h--;for(;1<=c&&0<=h;c--,h--)if(l[c]!==i[h]){if(c!==1||h!==1)do if(c--,h--,0>h||l[c]!==i[h]){var g=`
`+l[c].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=c&&0<=h);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function pe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case k:return"Portal";case G:return"Profiler";case B:return"StrictMode";case _e:return"Suspense";case dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case Ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xt:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ue(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){r=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oe(e){e._valueTracker||(e._valueTracker=Ue(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ze(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ye(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pt(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zt(e,t){t=t.checked,t!=null&&V(e,"checked",t,!1)}function Jt(e,t){Zt(e,t);var n=de(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lr(e,t.type,n):t.hasOwnProperty("defaultValue")&&lr(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lr(e,t,n){(t!=="number"||ze(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wt=Array.isArray;function Oe(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ke(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ft(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(wt(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function Ut(e,t){var n=de(t.value),r=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function he(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var je,nt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(je=je||document.createElement("div"),je.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function At(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sc=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(e){Sc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sr[t]=sr[e]})});function uo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sr.hasOwnProperty(e)&&sr[e]?(""+t).trim():t+"px"}function co(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=uo(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var kc=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(e,t){if(t){if(kc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function is(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function as(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,Rn=null,In=null;function fo(e){if(e=Nr(e)){if(typeof us!="function")throw Error(o(280));var t=e.stateNode;t&&(t=ml(t),us(e.stateNode,e.type,t))}}function po(e){Rn?In?In.push(e):In=[e]:Rn=e}function ho(){if(Rn){var e=Rn,t=In;if(In=Rn=null,fo(e),t)for(e=0;e<t.length;e++)fo(t[e])}}function mo(e,t){return e(t)}function vo(){}var cs=!1;function go(e,t,n){if(cs)return e(t,n);cs=!0;try{return mo(e,t,n)}finally{cs=!1,(Rn!==null||In!==null)&&(vo(),ho())}}function ir(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var ds=!1;if(w)try{var or={};Object.defineProperty(or,"passive",{get:function(){ds=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{ds=!1}function jc(e,t,n,r,l,i,c,h,g){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(F){this.onError(F)}}var ar=!1,Gr=null,Qr=!1,fs=null,Ec={onError:function(e){ar=!0,Gr=e}};function Mc(e,t,n,r,l,i,c,h,g){ar=!1,Gr=null,jc.apply(Ec,arguments)}function Cc(e,t,n,r,l,i,c,h,g){if(Mc.apply(this,arguments),ar){if(ar){var _=Gr;ar=!1,Gr=null}else throw Error(o(198));Qr||(Qr=!0,fs=_)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xo(e){if(wn(e)!==e)throw Error(o(188))}function Nc(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return xo(l),e;if(i===r)return xo(l),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=l,r=i;else{for(var c=!1,h=l.child;h;){if(h===n){c=!0,n=l,r=i;break}if(h===r){c=!0,r=l,n=i;break}h=h.sibling}if(!c){for(h=i.child;h;){if(h===n){c=!0,n=i,r=l;break}if(h===r){c=!0,r=i,n=l;break}h=h.sibling}if(!c)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function wo(e){return e=Nc(e),e!==null?So(e):null}function So(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=So(e);if(t!==null)return t;e=e.sibling}return null}var ko=a.unstable_scheduleCallback,jo=a.unstable_cancelCallback,Pc=a.unstable_shouldYield,Tc=a.unstable_requestPaint,Ae=a.unstable_now,_c=a.unstable_getCurrentPriorityLevel,ps=a.unstable_ImmediatePriority,Eo=a.unstable_UserBlockingPriority,Kr=a.unstable_NormalPriority,Oc=a.unstable_LowPriority,Mo=a.unstable_IdlePriority,Xr=null,Ft=null;function Lc(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Dc,Rc=Math.log,Ic=Math.LN2;function Dc(e){return e>>>=0,e===0?32:31-(Rc(e)/Ic|0)|0}var Yr=64,Zr=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~l;h!==0?r=ur(h):(i&=c,i!==0&&(r=ur(i)))}else c=n&~l,c!==0?r=ur(c):i!==0&&(r=ur(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),l=1<<n,r|=e[n],t&=~l;return r}function zc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var c=31-_t(i),h=1<<c,g=l[c];g===-1?((h&n)===0||(h&r)!==0)&&(l[c]=zc(h,t)):g<=t&&(e.expiredLanes|=h),i&=~h}}function hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Co(){var e=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),e}function ms(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Fc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-_t(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function vs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var we=0;function No(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Po,gs,To,_o,Oo,ys=!1,el=[],en=null,tn=null,nn=null,dr=new Map,fr=new Map,rn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lo(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(t.pointerId)}}function pr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Nr(t),t!==null&&gs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bc(e,t,n,r,l){switch(t){case"focusin":return en=pr(en,e,t,n,r,l),!0;case"dragenter":return tn=pr(tn,e,t,n,r,l),!0;case"mouseover":return nn=pr(nn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return dr.set(i,pr(dr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,fr.set(i,pr(fr.get(i)||null,e,t,n,r,l)),!0}return!1}function Ro(e){var t=Sn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=yo(n),t!==null){e.blockedOn=t,Oo(e.priority,function(){To(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=Nr(n),t!==null&&gs(t),e.blockedOn=n,!1;t.shift()}return!0}function Io(e,t,n){tl(e)&&n.delete(t)}function Bc(){ys=!1,en!==null&&tl(en)&&(en=null),tn!==null&&tl(tn)&&(tn=null),nn!==null&&tl(nn)&&(nn=null),dr.forEach(Io),fr.forEach(Io)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,ys||(ys=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bc)))}function mr(e){function t(l){return hr(l,e)}if(0<el.length){hr(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&hr(en,e),tn!==null&&hr(tn,e),nn!==null&&hr(nn,e),dr.forEach(t),fr.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Ro(n),n.blockedOn===null&&rn.shift()}var Dn=b.ReactCurrentBatchConfig,nl=!0;function Hc(e,t,n,r){var l=we,i=Dn.transition;Dn.transition=null;try{we=1,xs(e,t,n,r)}finally{we=l,Dn.transition=i}}function Uc(e,t,n,r){var l=we,i=Dn.transition;Dn.transition=null;try{we=4,xs(e,t,n,r)}finally{we=l,Dn.transition=i}}function xs(e,t,n,r){if(nl){var l=ws(e,t,n,r);if(l===null)As(e,t,r,rl,n),Lo(e,r);else if(bc(l,e,t,n,r))r.stopPropagation();else if(Lo(e,r),t&4&&-1<qc.indexOf(e)){for(;l!==null;){var i=Nr(l);if(i!==null&&Po(i),i=ws(e,t,n,r),i===null&&As(e,t,r,rl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else As(e,t,r,null,n)}}var rl=null;function ws(e,t,n,r){if(rl=null,e=as(r),e=Sn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function Do(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_c()){case ps:return 1;case Eo:return 4;case Kr:case Oc:return 16;case Mo:return 536870912;default:return 16}default:return 16}}var ln=null,Ss=null,ll=null;function zo(){if(ll)return ll;var e,t=Ss,n=t.length,r,l="value"in ln?ln.value:ln.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===l[i-r];r++);return ll=l.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function Ao(){return!1}function ht(e){function t(n,r,l,i,c){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?il:Ao,this.isPropagationStopped=Ao,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=ht(zn),vr=$({},zn,{view:0,detail:0}),Vc=ht(vr),js,Es,gr,ol=$({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(js=e.screenX-gr.screenX,Es=e.screenY-gr.screenY):Es=js=0,gr=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),Fo=ht(ol),Wc=$({},ol,{dataTransfer:0}),$c=ht(Wc),Gc=$({},vr,{relatedTarget:0}),Ms=ht(Gc),Qc=$({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=ht(Qc),Xc=$({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yc=ht(Xc),Zc=$({},zn,{data:0}),qo=ht(Zc),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=td[e])?!!t[e]:!1}function Cs(){return nd}var rd=$({},vr,{key:function(e){if(e.key){var t=Jc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ed[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ld=ht(rd),sd=$({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=ht(sd),id=$({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),od=ht(id),ad=$({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ud=ht(ad),cd=$({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dd=ht(cd),fd=[9,13,27,32],Ns=w&&"CompositionEvent"in window,yr=null;w&&"documentMode"in document&&(yr=document.documentMode);var pd=w&&"TextEvent"in window&&!yr,Bo=w&&(!Ns||yr&&8<yr&&11>=yr),Ho=" ",Uo=!1;function Vo(e,t){switch(e){case"keyup":return fd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function hd(e,t){switch(e){case"compositionend":return Wo(t);case"keypress":return t.which!==32?null:(Uo=!0,Ho);case"textInput":return e=t.data,e===Ho&&Uo?null:e;default:return null}}function md(e,t){if(An)return e==="compositionend"||!Ns&&Vo(e,t)?(e=zo(),ll=Ss=ln=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bo&&t.locale!=="ko"?null:t.data;default:return null}}var vd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vd[e.type]:t==="textarea"}function Go(e,t,n,r){po(r),t=fl(t,"onChange"),0<t.length&&(n=new ks("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,wr=null;function gd(e){da(e,0)}function al(e){var t=Hn(e);if(be(t))return e}function yd(e,t){if(e==="change")return t}var Qo=!1;if(w){var Ps;if(w){var Ts="oninput"in document;if(!Ts){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),Ts=typeof Ko.oninput=="function"}Ps=Ts}else Ps=!1;Qo=Ps&&(!document.documentMode||9<document.documentMode)}function Xo(){xr&&(xr.detachEvent("onpropertychange",Yo),wr=xr=null)}function Yo(e){if(e.propertyName==="value"&&al(wr)){var t=[];Go(t,wr,e,as(e)),go(gd,t)}}function xd(e,t,n){e==="focusin"?(Xo(),xr=t,wr=n,xr.attachEvent("onpropertychange",Yo)):e==="focusout"&&Xo()}function wd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(wr)}function Sd(e,t){if(e==="click")return al(t)}function kd(e,t){if(e==="input"||e==="change")return al(t)}function jd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:jd;function Sr(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!v.call(t,l)||!Ot(e[l],t[l]))return!1}return!0}function Zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jo(e,t){var n=Zo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zo(n)}}function ea(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ea(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ta(){for(var e=window,t=ze();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ze(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ed(e){var t=ta(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ea(n.ownerDocument.documentElement,n)){if(r!==null&&_s(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Jo(n,i);var c=Jo(n,r);l&&c&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Md=w&&"documentMode"in document&&11>=document.documentMode,Fn=null,Os=null,kr=null,Ls=!1;function na(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ls||Fn==null||Fn!==ze(r)||(r=Fn,"selectionStart"in r&&_s(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Sr(kr,r)||(kr=r,r=fl(Os,"onSelect"),0<r.length&&(t=new ks("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Rs={},ra={};w&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function cl(e){if(Rs[e])return Rs[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ra)return Rs[e]=t[n];return e}var la=cl("animationend"),sa=cl("animationiteration"),ia=cl("animationstart"),oa=cl("transitionend"),aa=new Map,ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){aa.set(e,t),f(t,[e])}for(var Is=0;Is<ua.length;Is++){var Ds=ua[Is],Cd=Ds.toLowerCase(),Nd=Ds[0].toUpperCase()+Ds.slice(1);sn(Cd,"on"+Nd)}sn(la,"onAnimationEnd"),sn(sa,"onAnimationIteration"),sn(ia,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(oa,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function ca(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cc(r,t,void 0,e),e.currentTarget=null}function da(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],g=h.instance,_=h.currentTarget;if(h=h.listener,g!==i&&l.isPropagationStopped())break e;ca(l,h,_),i=g}else for(c=0;c<r.length;c++){if(h=r[c],g=h.instance,_=h.currentTarget,h=h.listener,g!==i&&l.isPropagationStopped())break e;ca(l,h,_),i=g}}}if(Qr)throw e=fs,Qr=!1,fs=null,e}function Pe(e,t){var n=t[Us];n===void 0&&(n=t[Us]=new Set);var r=e+"__bubble";n.has(r)||(fa(t,e,2,!1),n.add(r))}function zs(e,t,n){var r=0;t&&(r|=4),fa(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Er(e){if(!e[dl]){e[dl]=!0,d.forEach(function(n){n!=="selectionchange"&&(Pd.has(n)||zs(n,!1,e),zs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,zs("selectionchange",!1,t))}}function fa(e,t,n,r){switch(Do(t)){case 1:var l=Hc;break;case 4:l=Uc;break;default:l=xs}n=l.bind(null,t,n,e),l=void 0,!ds||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function As(e,t,n,r,l){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===l||h.nodeType===8&&h.parentNode===l)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===l||g.nodeType===8&&g.parentNode===l))return;c=c.return}for(;h!==null;){if(c=Sn(h),c===null)return;if(g=c.tag,g===5||g===6){r=i=c;continue e}h=h.parentNode}}r=r.return}go(function(){var _=i,F=as(n),q=[];e:{var A=aa.get(e);if(A!==void 0){var Q=ks,Y=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":Q=ld;break;case"focusin":Y="focus",Q=Ms;break;case"focusout":Y="blur",Q=Ms;break;case"beforeblur":case"afterblur":Q=Ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=od;break;case la:case sa:case ia:Q=Kc;break;case oa:Q=ud;break;case"scroll":Q=Vc;break;case"wheel":Q=dd;break;case"copy":case"cut":case"paste":Q=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=bo}var J=(t&4)!==0,Fe=!J&&e==="scroll",j=J?A!==null?A+"Capture":null:A;J=[];for(var x=_,M;x!==null;){M=x;var H=M.stateNode;if(M.tag===5&&H!==null&&(M=H,j!==null&&(H=ir(x,j),H!=null&&J.push(Mr(x,H,M)))),Fe)break;x=x.return}0<J.length&&(A=new Q(A,Y,null,n,F),q.push({event:A,listeners:J}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",A&&n!==os&&(Y=n.relatedTarget||n.fromElement)&&(Sn(Y)||Y[Vt]))break e;if((Q||A)&&(A=F.window===F?F:(A=F.ownerDocument)?A.defaultView||A.parentWindow:window,Q?(Y=n.relatedTarget||n.toElement,Q=_,Y=Y?Sn(Y):null,Y!==null&&(Fe=wn(Y),Y!==Fe||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(Q=null,Y=_),Q!==Y)){if(J=Fo,H="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(J=bo,H="onPointerLeave",j="onPointerEnter",x="pointer"),Fe=Q==null?A:Hn(Q),M=Y==null?A:Hn(Y),A=new J(H,x+"leave",Q,n,F),A.target=Fe,A.relatedTarget=M,H=null,Sn(F)===_&&(J=new J(j,x+"enter",Y,n,F),J.target=M,J.relatedTarget=Fe,H=J),Fe=H,Q&&Y)t:{for(J=Q,j=Y,x=0,M=J;M;M=bn(M))x++;for(M=0,H=j;H;H=bn(H))M++;for(;0<x-M;)J=bn(J),x--;for(;0<M-x;)j=bn(j),M--;for(;x--;){if(J===j||j!==null&&J===j.alternate)break t;J=bn(J),j=bn(j)}J=null}else J=null;Q!==null&&pa(q,A,Q,J,!1),Y!==null&&Fe!==null&&pa(q,Fe,Y,J,!0)}}e:{if(A=_?Hn(_):window,Q=A.nodeName&&A.nodeName.toLowerCase(),Q==="select"||Q==="input"&&A.type==="file")var ne=yd;else if($o(A))if(Qo)ne=kd;else{ne=wd;var re=xd}else(Q=A.nodeName)&&Q.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(ne=Sd);if(ne&&(ne=ne(e,_))){Go(q,ne,n,F);break e}re&&re(e,A,_),e==="focusout"&&(re=A._wrapperState)&&re.controlled&&A.type==="number"&&lr(A,"number",A.value)}switch(re=_?Hn(_):window,e){case"focusin":($o(re)||re.contentEditable==="true")&&(Fn=re,Os=_,kr=null);break;case"focusout":kr=Os=Fn=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,na(q,n,F);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":na(q,n,F)}var le;if(Ns)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else An?Vo(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Bo&&n.locale!=="ko"&&(An||se!=="onCompositionStart"?se==="onCompositionEnd"&&An&&(le=zo()):(ln=F,Ss="value"in ln?ln.value:ln.textContent,An=!0)),re=fl(_,se),0<re.length&&(se=new qo(se,e,null,n,F),q.push({event:se,listeners:re}),le?se.data=le:(le=Wo(n),le!==null&&(se.data=le)))),(le=pd?hd(e,n):md(e,n))&&(_=fl(_,"onBeforeInput"),0<_.length&&(F=new qo("onBeforeInput","beforeinput",null,n,F),q.push({event:F,listeners:_}),F.data=le))}da(q,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=ir(e,n),i!=null&&r.unshift(Mr(e,i,l)),i=ir(e,t),i!=null&&r.push(Mr(e,i,l))),e=e.return}return r}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pa(e,t,n,r,l){for(var i=t._reactName,c=[];n!==null&&n!==r;){var h=n,g=h.alternate,_=h.stateNode;if(g!==null&&g===r)break;h.tag===5&&_!==null&&(h=_,l?(g=ir(n,i),g!=null&&c.unshift(Mr(n,g,h))):l||(g=ir(n,i),g!=null&&c.push(Mr(n,g,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Td=/\r\n?/g,_d=/\u0000|\uFFFD/g;function ha(e){return(typeof e=="string"?e:""+e).replace(Td,`
`).replace(_d,"")}function pl(e,t,n){if(t=ha(t),ha(e)!==t&&n)throw Error(o(425))}function hl(){}var Fs=null,qs=null;function bs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Od=typeof clearTimeout=="function"?clearTimeout:void 0,ma=typeof Promise=="function"?Promise:void 0,Ld=typeof queueMicrotask=="function"?queueMicrotask:typeof ma<"u"?function(e){return ma.resolve(null).then(e).catch(Rd)}:Bs;function Rd(e){setTimeout(function(){throw e})}function Hs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),mr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);mr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),qt="__reactFiber$"+Bn,Cr="__reactProps$"+Bn,Vt="__reactContainer$"+Bn,Us="__reactEvents$"+Bn,Id="__reactListeners$"+Bn,Dd="__reactHandles$"+Bn;function Sn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=va(e);e!==null;){if(n=e[qt])return n;e=va(e)}return t}e=n,n=e.parentNode}return null}function Nr(e){return e=e[qt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ml(e){return e[Cr]||null}var Vs=[],Un=-1;function an(e){return{current:e}}function Te(e){0>Un||(e.current=Vs[Un],Vs[Un]=null,Un--)}function Ce(e,t){Un++,Vs[Un]=e.current,e.current=t}var un={},Ze=an(un),st=an(!1),kn=un;function Vn(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function it(e){return e=e.childContextTypes,e!=null}function vl(){Te(st),Te(Ze)}function ga(e,t,n){if(Ze.current!==un)throw Error(o(168));Ce(Ze,t),Ce(st,n)}function ya(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(o(108,ge(e)||"Unknown",l));return $({},n,r)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,kn=Ze.current,Ce(Ze,e),Ce(st,st.current),!0}function xa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ya(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,Te(st),Te(Ze),Ce(Ze,e)):Te(st),Ce(st,n)}var Wt=null,yl=!1,Ws=!1;function wa(e){Wt===null?Wt=[e]:Wt.push(e)}function zd(e){yl=!0,wa(e)}function cn(){if(!Ws&&Wt!==null){Ws=!0;var e=0,t=we;try{var n=Wt;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,yl=!1}catch(l){throw Wt!==null&&(Wt=Wt.slice(e+1)),ko(ps,cn),l}finally{we=t,Ws=!1}}return null}var Wn=[],$n=0,xl=null,wl=0,St=[],kt=0,jn=null,$t=1,Gt="";function En(e,t){Wn[$n++]=wl,Wn[$n++]=xl,xl=e,wl=t}function Sa(e,t,n){St[kt++]=$t,St[kt++]=Gt,St[kt++]=jn,jn=e;var r=$t;e=Gt;var l=32-_t(r)-1;r&=~(1<<l),n+=1;var i=32-_t(t)+l;if(30<i){var c=l-l%5;i=(r&(1<<c)-1).toString(32),r>>=c,l-=c,$t=1<<32-_t(t)+l|n<<l|r,Gt=i+e}else $t=1<<i|n<<l|r,Gt=e}function $s(e){e.return!==null&&(En(e,1),Sa(e,1,0))}function Gs(e){for(;e===xl;)xl=Wn[--$n],Wn[$n]=null,wl=Wn[--$n],Wn[$n]=null;for(;e===jn;)jn=St[--kt],St[kt]=null,Gt=St[--kt],St[kt]=null,$t=St[--kt],St[kt]=null}var mt=null,vt=null,Le=!1,Lt=null;function ka(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ja(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,vt=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:$t,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,vt=null,!0):!1;default:return!1}}function Qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ks(e){if(Le){var t=vt;if(t){var n=t;if(!ja(e,t)){if(Qs(e))throw Error(o(418));t=on(n.nextSibling);var r=mt;t&&ja(e,t)?ka(r,n):(e.flags=e.flags&-4097|2,Le=!1,mt=e)}}else{if(Qs(e))throw Error(o(418));e.flags=e.flags&-4097|2,Le=!1,mt=e}}}function Ea(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Sl(e){if(e!==mt)return!1;if(!Le)return Ea(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bs(e.type,e.memoizedProps)),t&&(t=vt)){if(Qs(e))throw Ma(),Error(o(418));for(;t;)ka(e,t),t=on(t.nextSibling)}if(Ea(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=mt?on(e.stateNode.nextSibling):null;return!0}function Ma(){for(var e=vt;e;)e=on(e.nextSibling)}function Gn(){vt=mt=null,Le=!1}function Xs(e){Lt===null?Lt=[e]:Lt.push(e)}var Ad=b.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(c){var h=l.refs;c===null?delete h[i]:h[i]=c},t._stringRef=i,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function kl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ca(e){var t=e._init;return t(e._payload)}function Na(e){function t(j,x){if(e){var M=j.deletions;M===null?(j.deletions=[x],j.flags|=16):M.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function r(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function l(j,x){return j=yn(j,x),j.index=0,j.sibling=null,j}function i(j,x,M){return j.index=M,e?(M=j.alternate,M!==null?(M=M.index,M<x?(j.flags|=2,x):M):(j.flags|=2,x)):(j.flags|=1048576,x)}function c(j){return e&&j.alternate===null&&(j.flags|=2),j}function h(j,x,M,H){return x===null||x.tag!==6?(x=Bi(M,j.mode,H),x.return=j,x):(x=l(x,M),x.return=j,x)}function g(j,x,M,H){var ne=M.type;return ne===z?F(j,x,M.props.children,H,M.key):x!==null&&(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&Ca(ne)===x.type)?(H=l(x,M.props),H.ref=Pr(j,x,M),H.return=j,H):(H=$l(M.type,M.key,M.props,null,j.mode,H),H.ref=Pr(j,x,M),H.return=j,H)}function _(j,x,M,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==M.containerInfo||x.stateNode.implementation!==M.implementation?(x=Hi(M,j.mode,H),x.return=j,x):(x=l(x,M.children||[]),x.return=j,x)}function F(j,x,M,H,ne){return x===null||x.tag!==7?(x=Ln(M,j.mode,H,ne),x.return=j,x):(x=l(x,M),x.return=j,x)}function q(j,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bi(""+x,j.mode,M),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return M=$l(x.type,x.key,x.props,null,j.mode,M),M.ref=Pr(j,null,x),M.return=j,M;case k:return x=Hi(x,j.mode,M),x.return=j,x;case ue:var H=x._init;return q(j,H(x._payload),M)}if(wt(x)||te(x))return x=Ln(x,j.mode,M,null),x.return=j,x;kl(j,x)}return null}function A(j,x,M,H){var ne=x!==null?x.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ne!==null?null:h(j,x,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return M.key===ne?g(j,x,M,H):null;case k:return M.key===ne?_(j,x,M,H):null;case ue:return ne=M._init,A(j,x,ne(M._payload),H)}if(wt(M)||te(M))return ne!==null?null:F(j,x,M,H,null);kl(j,M)}return null}function Q(j,x,M,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return j=j.get(M)||null,h(x,j,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case K:return j=j.get(H.key===null?M:H.key)||null,g(x,j,H,ne);case k:return j=j.get(H.key===null?M:H.key)||null,_(x,j,H,ne);case ue:var re=H._init;return Q(j,x,M,re(H._payload),ne)}if(wt(H)||te(H))return j=j.get(M)||null,F(x,j,H,ne,null);kl(x,H)}return null}function Y(j,x,M,H){for(var ne=null,re=null,le=x,se=x=0,$e=null;le!==null&&se<M.length;se++){le.index>se?($e=le,le=null):$e=le.sibling;var xe=A(j,le,M[se],H);if(xe===null){le===null&&(le=$e);break}e&&le&&xe.alternate===null&&t(j,le),x=i(xe,x,se),re===null?ne=xe:re.sibling=xe,re=xe,le=$e}if(se===M.length)return n(j,le),Le&&En(j,se),ne;if(le===null){for(;se<M.length;se++)le=q(j,M[se],H),le!==null&&(x=i(le,x,se),re===null?ne=le:re.sibling=le,re=le);return Le&&En(j,se),ne}for(le=r(j,le);se<M.length;se++)$e=Q(le,j,se,M[se],H),$e!==null&&(e&&$e.alternate!==null&&le.delete($e.key===null?se:$e.key),x=i($e,x,se),re===null?ne=$e:re.sibling=$e,re=$e);return e&&le.forEach(function(xn){return t(j,xn)}),Le&&En(j,se),ne}function J(j,x,M,H){var ne=te(M);if(typeof ne!="function")throw Error(o(150));if(M=ne.call(M),M==null)throw Error(o(151));for(var re=ne=null,le=x,se=x=0,$e=null,xe=M.next();le!==null&&!xe.done;se++,xe=M.next()){le.index>se?($e=le,le=null):$e=le.sibling;var xn=A(j,le,xe.value,H);if(xn===null){le===null&&(le=$e);break}e&&le&&xn.alternate===null&&t(j,le),x=i(xn,x,se),re===null?ne=xn:re.sibling=xn,re=xn,le=$e}if(xe.done)return n(j,le),Le&&En(j,se),ne;if(le===null){for(;!xe.done;se++,xe=M.next())xe=q(j,xe.value,H),xe!==null&&(x=i(xe,x,se),re===null?ne=xe:re.sibling=xe,re=xe);return Le&&En(j,se),ne}for(le=r(j,le);!xe.done;se++,xe=M.next())xe=Q(le,j,se,xe.value,H),xe!==null&&(e&&xe.alternate!==null&&le.delete(xe.key===null?se:xe.key),x=i(xe,x,se),re===null?ne=xe:re.sibling=xe,re=xe);return e&&le.forEach(function(gf){return t(j,gf)}),Le&&En(j,se),ne}function Fe(j,x,M,H){if(typeof M=="object"&&M!==null&&M.type===z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case K:e:{for(var ne=M.key,re=x;re!==null;){if(re.key===ne){if(ne=M.type,ne===z){if(re.tag===7){n(j,re.sibling),x=l(re,M.props.children),x.return=j,j=x;break e}}else if(re.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&Ca(ne)===re.type){n(j,re.sibling),x=l(re,M.props),x.ref=Pr(j,re,M),x.return=j,j=x;break e}n(j,re);break}else t(j,re);re=re.sibling}M.type===z?(x=Ln(M.props.children,j.mode,H,M.key),x.return=j,j=x):(H=$l(M.type,M.key,M.props,null,j.mode,H),H.ref=Pr(j,x,M),H.return=j,j=H)}return c(j);case k:e:{for(re=M.key;x!==null;){if(x.key===re)if(x.tag===4&&x.stateNode.containerInfo===M.containerInfo&&x.stateNode.implementation===M.implementation){n(j,x.sibling),x=l(x,M.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else t(j,x);x=x.sibling}x=Hi(M,j.mode,H),x.return=j,j=x}return c(j);case ue:return re=M._init,Fe(j,x,re(M._payload),H)}if(wt(M))return Y(j,x,M,H);if(te(M))return J(j,x,M,H);kl(j,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,x!==null&&x.tag===6?(n(j,x.sibling),x=l(x,M),x.return=j,j=x):(n(j,x),x=Bi(M,j.mode,H),x.return=j,j=x),c(j)):n(j,x)}return Fe}var Qn=Na(!0),Pa=Na(!1),jl=an(null),El=null,Kn=null,Ys=null;function Zs(){Ys=Kn=El=null}function Js(e){var t=jl.current;Te(jl),e._currentValue=t}function ei(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){El=e,Ys=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Ys!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(El===null)throw Error(o(308));Kn=e,El.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var Mn=null;function ti(e){Mn===null?Mn=[e]:Mn.push(e)}function Ta(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ti(t)):(n.next=l.next,l.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dn=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Qt(e,n)}return l=r.interleaved,l===null?(t.next=t,ti(r)):(t.next=l.next,l.next=t),r.interleaved=t,Qt(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=c:i=i.next=c,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var l=e.updateQueue;dn=!1;var i=l.firstBaseUpdate,c=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var g=h,_=g.next;g.next=null,c===null?i=_:c.next=_,c=g;var F=e.alternate;F!==null&&(F=F.updateQueue,h=F.lastBaseUpdate,h!==c&&(h===null?F.firstBaseUpdate=_:h.next=_,F.lastBaseUpdate=g))}if(i!==null){var q=l.baseState;c=0,F=_=g=null,h=i;do{var A=h.lane,Q=h.eventTime;if((r&A)===A){F!==null&&(F=F.next={eventTime:Q,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var Y=e,J=h;switch(A=t,Q=n,J.tag){case 1:if(Y=J.payload,typeof Y=="function"){q=Y.call(Q,q,A);break e}q=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=J.payload,A=typeof Y=="function"?Y.call(Q,q,A):Y,A==null)break e;q=$({},q,A);break e;case 2:dn=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[h]:A.push(h))}else Q={eventTime:Q,lane:A,tag:h.tag,payload:h.payload,callback:h.callback,next:null},F===null?(_=F=Q,g=q):F=F.next=Q,c|=A;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;A=h,h=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(F===null&&(g=q),l.baseState=g,l.firstBaseUpdate=_,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do c|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Pn|=c,e.lanes=c,e.memoizedState=q}}function La(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(o(191,l));l.call(r)}}}var Tr={},bt=an(Tr),_r=an(Tr),Or=an(Tr);function Cn(e){if(e===Tr)throw Error(o(174));return e}function ri(e,t){switch(Ce(Or,t),Ce(_r,e),Ce(bt,Tr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pt(t,e)}Te(bt),Ce(bt,t)}function Yn(){Te(bt),Te(_r),Te(Or)}function Ra(e){Cn(Or.current);var t=Cn(bt.current),n=pt(t,e.type);t!==n&&(Ce(_r,e),Ce(bt,n))}function li(e){_r.current===e&&(Te(bt),Te(_r))}var Re=an(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=[];function ii(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var Pl=b.ReactCurrentDispatcher,oi=b.ReactCurrentBatchConfig,Nn=0,Ie=null,Be=null,Ve=null,Tl=!1,Lr=!1,Rr=0,Fd=0;function Je(){throw Error(o(321))}function ai(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function ui(e,t,n,r,l,i){if(Nn=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pl.current=e===null||e.memoizedState===null?Hd:Ud,e=n(r,l),Lr){i=0;do{if(Lr=!1,Rr=0,25<=i)throw Error(o(301));i+=1,Ve=Be=null,t.updateQueue=null,Pl.current=Vd,e=n(r,l)}while(Lr)}if(Pl.current=Ll,t=Be!==null&&Be.next!==null,Nn=0,Ve=Be=Ie=null,Tl=!1,t)throw Error(o(300));return e}function ci(){var e=Rr!==0;return Rr=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ie.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Et(){if(Be===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ve===null?Ie.memoizedState:Ve.next;if(t!==null)Ve=t,Be=e;else{if(e===null)throw Error(o(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ve===null?Ie.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ir(e,t){return typeof t=="function"?t(e):t}function di(e){var t=Et(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=Be,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var c=l.next;l.next=i.next,i.next=c}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var h=c=null,g=null,_=i;do{var F=_.lane;if((Nn&F)===F)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var q={lane:F,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(h=g=q,c=r):g=g.next=q,Ie.lanes|=F,Pn|=F}_=_.next}while(_!==null&&_!==i);g===null?c=r:g.next=h,Ot(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,Ie.lanes|=i,Pn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fi(e){var t=Et(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var c=l=l.next;do i=e(i,c.action),c=c.next;while(c!==l);Ot(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ia(){}function Da(e,t){var n=Ie,r=Et(),l=t(),i=!Ot(r.memoizedState,l);if(i&&(r.memoizedState=l,ot=!0),r=r.queue,pi(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Dr(9,Aa.bind(null,n,r,l,t),void 0,null),We===null)throw Error(o(349));(Nn&30)!==0||za(n,t,l)}return l}function za(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,qa(t)&&ba(e)}function Fa(e,t,n){return n(function(){qa(t)&&ba(e)})}function qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function ba(e){var t=Qt(e,1);t!==null&&zt(t,e,1,-1)}function Ba(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=Bd.bind(null,Ie,e),[t.memoizedState,e]}function Dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ha(){return Et().memoizedState}function _l(e,t,n,r){var l=Bt();Ie.flags|=e,l.memoizedState=Dr(1|t,n,void 0,r===void 0?null:r)}function Ol(e,t,n,r){var l=Et();r=r===void 0?null:r;var i=void 0;if(Be!==null){var c=Be.memoizedState;if(i=c.destroy,r!==null&&ai(r,c.deps)){l.memoizedState=Dr(t,n,i,r);return}}Ie.flags|=e,l.memoizedState=Dr(1|t,n,i,r)}function Ua(e,t){return _l(8390656,8,e,t)}function pi(e,t){return Ol(2048,8,e,t)}function Va(e,t){return Ol(4,2,e,t)}function Wa(e,t){return Ol(4,4,e,t)}function $a(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ga(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4,4,$a.bind(null,t,e),n)}function hi(){}function Qa(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ai(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return(Nn&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n):(Ot(n,t)||(n=Co(),Ie.lanes|=n,Pn|=n,e.baseState=!0),t)}function qd(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{we=n,oi.transition=r}}function Ya(){return Et().memoizedState}function bd(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))Ja(t,n);else if(n=Ta(e,t,n,r),n!==null){var l=lt();zt(n,e,r,l),eu(n,t,r)}}function Bd(e,t,n){var r=vn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))Ja(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,h=i(c,n);if(l.hasEagerState=!0,l.eagerState=h,Ot(h,c)){var g=t.interleaved;g===null?(l.next=l,ti(t)):(l.next=g.next,g.next=l),t.interleaved=l;return}}catch{}finally{}n=Ta(e,t,l,r),n!==null&&(l=lt(),zt(n,e,r,l),eu(n,t,r))}}function Za(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Ja(e,t){Lr=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}var Ll={readContext:jt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Hd={readContext:jt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_l(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){return _l(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bd.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:Ba,useDebugValue:hi,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=qd.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,l=Bt();if(Le){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),We===null)throw Error(o(349));(Nn&30)!==0||za(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Ua(Fa.bind(null,r,i,e),[e]),r.flags|=2048,Dr(9,Aa.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Bt(),t=We.identifierPrefix;if(Le){var n=Gt,r=$t;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ud={readContext:jt,useCallback:Qa,useContext:jt,useEffect:pi,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ka,useReducer:di,useRef:Ha,useState:function(){return di(Ir)},useDebugValue:hi,useDeferredValue:function(e){var t=Et();return Xa(t,Be.memoizedState,e)},useTransition:function(){var e=di(Ir)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Ya,unstable_isNewReconciler:!1},Vd={readContext:jt,useCallback:Qa,useContext:jt,useEffect:pi,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ka,useReducer:fi,useRef:Ha,useState:function(){return fi(Ir)},useDebugValue:hi,useDeferredValue:function(e){var t=Et();return Be===null?t.memoizedState=e:Xa(t,Be.memoizedState,e)},useTransition:function(){var e=fi(Ir)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Ya,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),l=vn(e),i=Kt(r,l);i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,l),t!==null&&(zt(t,e,l,r),Ml(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),l=vn(e),i=Kt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,l),t!==null&&(zt(t,e,l,r),Ml(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=vn(e),l=Kt(n,r);l.tag=2,t!=null&&(l.callback=t),t=fn(e,l,r),t!==null&&(zt(t,e,r,n),Ml(t,e,r))}};function tu(e,t,n,r,l,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,c):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,r)||!Sr(l,i):!0}function nu(e,t,n){var r=!1,l=un,i=t.contextType;return typeof i=="object"&&i!==null?i=jt(i):(l=it(t)?kn:Ze.current,r=t.contextTypes,i=(r=r!=null)?Vn(e,l):un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function ru(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function vi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ni(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=jt(i):(i=it(t)?kn:Ze.current,l.context=Vn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mi(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Rl.enqueueReplaceState(l,l.state,null),Cl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",r=t;do n+=pe(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function gi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wd=typeof WeakMap=="function"?WeakMap:Map;function lu(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bl||(bl=!0,Ri=r),yi(e,t)},n}function su(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){yi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yi(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=sf.bind(null,e,t,n),t.then(e,e))}function ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function au(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var $d=b.ReactCurrentOwner,ot=!1;function rt(e,t,n,r){t.child=e===null?Pa(t,null,n,r):Qn(t,e.child,n,r)}function uu(e,t,n,r,l){n=n.render;var i=t.ref;return Xn(t,l),r=ui(e,t,n,r,i,l),n=ci(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Xt(e,t,l)):(Le&&n&&$s(t),t.flags|=1,rt(e,t,r,l),t.child)}function cu(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!bi(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,du(e,t,i,r,l)):(e=$l(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&l)===0){var c=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(c,r)&&e.ref===t.ref)return Xt(e,t,l)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function du(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Sr(i,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=i,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Xt(e,t,l)}return xi(e,t,n,r,l)}function fu(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(er,gt),gt|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(er,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(er,gt),gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ce(er,gt),gt|=r;return rt(e,t,l,n),t.child}function pu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,n,r,l){var i=it(n)?kn:Ze.current;return i=Vn(t,i),Xn(t,l),n=ui(e,t,n,r,i,l),r=ci(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Xt(e,t,l)):(Le&&r&&$s(t),t.flags|=1,rt(e,t,n,l),t.child)}function hu(e,t,n,r,l){if(it(n)){var i=!0;gl(t)}else i=!1;if(Xn(t,l),t.stateNode===null)Dl(e,t),nu(t,n,r),vi(t,n,r,l),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var g=c.context,_=n.contextType;typeof _=="object"&&_!==null?_=jt(_):(_=it(n)?kn:Ze.current,_=Vn(t,_));var F=n.getDerivedStateFromProps,q=typeof F=="function"||typeof c.getSnapshotBeforeUpdate=="function";q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||g!==_)&&ru(t,c,r,_),dn=!1;var A=t.memoizedState;c.state=A,Cl(t,r,c,l),g=t.memoizedState,h!==r||A!==g||st.current||dn?(typeof F=="function"&&(mi(t,n,F,r),g=t.memoizedState),(h=dn||tu(t,n,h,r,A,g,_))?(q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),c.props=r,c.state=g,c.context=_,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,_a(e,t),h=t.memoizedProps,_=t.type===t.elementType?h:Rt(t.type,h),c.props=_,q=t.pendingProps,A=c.context,g=n.contextType,typeof g=="object"&&g!==null?g=jt(g):(g=it(n)?kn:Ze.current,g=Vn(t,g));var Q=n.getDerivedStateFromProps;(F=typeof Q=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==q||A!==g)&&ru(t,c,r,g),dn=!1,A=t.memoizedState,c.state=A,Cl(t,r,c,l);var Y=t.memoizedState;h!==q||A!==Y||st.current||dn?(typeof Q=="function"&&(mi(t,n,Q,r),Y=t.memoizedState),(_=dn||tu(t,n,_,r,A,Y,g)||!1)?(F||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,g)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Y),c.props=r,c.state=Y,c.context=g,r=_):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return wi(e,t,n,r,i,l)}function wi(e,t,n,r,l,i){pu(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return l&&xa(t,n,!1),Xt(e,t,i);r=t.stateNode,$d.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Qn(t,e.child,null,i),t.child=Qn(t,null,h,i)):rt(e,t,h,i),t.memoizedState=r.state,l&&xa(t,n,!0),t.child}function mu(e){var t=e.stateNode;t.pendingContext?ga(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ga(e,t.context,!1),ri(e,t.containerInfo)}function vu(e,t,n,r,l){return Gn(),Xs(l),t.flags|=256,rt(e,t,n,r),t.child}var Si={dehydrated:null,treeContext:null,retryLane:0};function ki(e){return{baseLanes:e,cachePool:null,transitions:null}}function gu(e,t,n){var r=t.pendingProps,l=Re.current,i=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(l&2)!==0),h?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ce(Re,l&1),e===null)return Ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(c=r.children,e=r.fallback,i?(r=t.mode,i=t.child,c={mode:"hidden",children:c},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=c):i=Gl(c,r,0,null),e=Ln(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ki(n),t.memoizedState=Si,e):ji(t,c));if(l=e.memoizedState,l!==null&&(h=l.dehydrated,h!==null))return Gd(e,t,c,r,h,l,n);if(i){i=r.fallback,c=t.mode,l=e.child,h=l.sibling;var g={mode:"hidden",children:r.children};return(c&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=yn(l,g),r.subtreeFlags=l.subtreeFlags&14680064),h!==null?i=yn(h,i):(i=Ln(i,c,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,c=e.child.memoizedState,c=c===null?ki(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},i.memoizedState=c,i.childLanes=e.childLanes&~n,t.memoizedState=Si,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ji(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Il(e,t,n,r){return r!==null&&Xs(r),Qn(t,e.child,null,n),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gd(e,t,n,r,l,i,c){if(n)return t.flags&256?(t.flags&=-257,r=gi(Error(o(422))),Il(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Gl({mode:"visible",children:r.children},l,0,null),i=Ln(i,l,c,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Qn(t,e.child,null,c),t.child.memoizedState=ki(c),t.memoizedState=Si,i);if((t.mode&1)===0)return Il(e,t,c,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var h=r.dgst;return r=h,i=Error(o(419)),r=gi(i,r,void 0),Il(e,t,c,r)}if(h=(c&e.childLanes)!==0,ot||h){if(r=We,r!==null){switch(c&-c){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|c))!==0?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Qt(e,l),zt(r,e,l,-1))}return qi(),r=gi(Error(o(421))),Il(e,t,c,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=of.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,vt=on(l.nextSibling),mt=t,Le=!0,Lt=null,e!==null&&(St[kt++]=$t,St[kt++]=Gt,St[kt++]=jn,$t=e.id,Gt=e.overflow,jn=t),t=ji(t,r.children),t.flags|=4096,t)}function yu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ei(e.return,t,n)}function Ei(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function xu(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Re.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,n,t);else if(e.tag===19)yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Re,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Nl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ei(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Nl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ei(t,!0,n,null,i);break;case"together":Ei(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qd(e,t,n){switch(t.tag){case 3:mu(t),Gn();break;case 5:Ra(t);break;case 1:it(t.type)&&gl(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Ce(jl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Re,Re.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gu(e,t,n):(Ce(Re,Re.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);Ce(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return xu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ce(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,fu(e,t,n)}return Xt(e,t,n)}var wu,Mi,Su,ku;wu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mi=function(){},Su=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Cn(bt.current);var i=null;switch(n){case"input":l=Ye(e,l),r=Ye(e,r),i=[];break;case"select":l=$({},l,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":l=ke(e,l),r=ke(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hl)}ss(n,r);var c;n=null;for(_ in l)if(!r.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var h=l[_];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(p.hasOwnProperty(_)?i||(i=[]):(i=i||[]).push(_,null));for(_ in r){var g=r[_];if(h=l?.[_],r.hasOwnProperty(_)&&g!==h&&(g!=null||h!=null))if(_==="style")if(h){for(c in h)!h.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in g)g.hasOwnProperty(c)&&h[c]!==g[c]&&(n||(n={}),n[c]=g[c])}else n||(i||(i=[]),i.push(_,n)),n=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(i=i||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(i=i||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(p.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&Pe("scroll",e),i||h===g||(i=[])):(i=i||[]).push(_,g))}n&&(i=i||[]).push("style",n);var _=i;(t.updateQueue=_)&&(t.flags|=4)}},ku=function(e,t,n,r){n!==r&&(t.flags|=4)};function zr(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kd(e,t,n){var r=t.pendingProps;switch(Gs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return it(t.type)&&vl(),et(t),null;case 3:return r=t.stateNode,Yn(),Te(st),Te(Ze),ii(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(zi(Lt),Lt=null))),Mi(e,t),et(t),null;case 5:li(t);var l=Cn(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)Su(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(e=Cn(bt.current),Sl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[Cr]=i,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(l=0;l<jr.length;l++)Pe(jr[l],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pt(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":ft(r,i),Pe("invalid",r)}ss(n,i),l=null;for(var c in i)if(i.hasOwnProperty(c)){var h=i[c];c==="children"?typeof h=="string"?r.textContent!==h&&(i.suppressHydrationWarning!==!0&&pl(r.textContent,h,e),l=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(i.suppressHydrationWarning!==!0&&pl(r.textContent,h,e),l=["children",""+h]):p.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&Pe("scroll",r)}switch(n){case"input":oe(r),rr(r,i,!0);break;case"textarea":oe(r),he(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[qt]=t,e[Cr]=r,wu(e,t,!1,!1),t.stateNode=e;e:{switch(c=is(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),l=r;break;case"iframe":case"object":case"embed":Pe("load",e),l=r;break;case"video":case"audio":for(l=0;l<jr.length;l++)Pe(jr[l],e);l=r;break;case"source":Pe("error",e),l=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),l=r;break;case"details":Pe("toggle",e),l=r;break;case"input":Pt(e,r),l=Ye(e,r),Pe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=$({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":ft(e,r),l=ke(e,r),Pe("invalid",e);break;default:l=r}ss(n,l),h=l;for(i in h)if(h.hasOwnProperty(i)){var g=h[i];i==="style"?co(e,g):i==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nt(e,g)):i==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&At(e,g):typeof g=="number"&&At(e,""+g):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(p.hasOwnProperty(i)?g!=null&&i==="onScroll"&&Pe("scroll",e):g!=null&&V(e,i,g,c))}switch(n){case"input":oe(e),rr(e,r,!1);break;case"textarea":oe(e),he(e);break;case"option":r.value!=null&&e.setAttribute("value",""+de(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Oe(e,!!r.multiple,i,!1):r.defaultValue!=null&&Oe(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)ku(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=Cn(Or.current),Cn(bt.current),Sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return et(t),null;case 13:if(Te(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&vt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ma(),Gn(),t.flags|=98560,i=!1;else if(i=Sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[qt]=t}else Gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else Lt!==null&&(zi(Lt),Lt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?He===0&&(He=3):qi())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Yn(),Mi(e,t),e===null&&Er(t.stateNode.containerInfo),et(t),null;case 10:return Js(t.type._context),et(t),null;case 17:return it(t.type)&&vl(),et(t),null;case 19:if(Te(Re),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,c=i.rendering,c===null)if(r)zr(i,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Nl(e),c!==null){for(t.flags|=128,zr(i,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,c=i.alternate,c===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>tr&&(t.flags|=128,r=!0,zr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Nl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Le)return et(t),null}else 2*Ae()-i.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,zr(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(n=i.last,n!==null?n.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,n=Re.current,Ce(Re,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Fi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(gt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Xd(e,t){switch(Gs(t),t.tag){case 1:return it(t.type)&&vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),Te(st),Te(Ze),ii(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return li(t),null;case 13:if(Te(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Re),null;case 4:return Yn(),null;case 10:return Js(t.type._context),null;case 22:case 23:return Fi(),null;case 24:return null;default:return null}}var zl=!1,tt=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,X=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function Ci(e,t,n){try{n()}catch(r){De(e,t,r)}}var ju=!1;function Zd(e,t){if(Fs=nl,e=ta(),_s(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var c=0,h=-1,g=-1,_=0,F=0,q=e,A=null;t:for(;;){for(var Q;q!==n||l!==0&&q.nodeType!==3||(h=c+l),q!==i||r!==0&&q.nodeType!==3||(g=c+r),q.nodeType===3&&(c+=q.nodeValue.length),(Q=q.firstChild)!==null;)A=q,q=Q;for(;;){if(q===e)break t;if(A===n&&++_===l&&(h=c),A===i&&++F===r&&(g=c),(Q=q.nextSibling)!==null)break;q=A,A=q.parentNode}q=Q}n=h===-1||g===-1?null:{start:h,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(qs={focusedElem:e,selectionRange:n},nl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var J=Y.memoizedProps,Fe=Y.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?J:Rt(t.type,J),Fe);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){De(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Y=ju,ju=!1,Y}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ci(t,n,i)}l=l.next}while(l!==r)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ni(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Eu(e){var t=e.alternate;t!==null&&(e.alternate=null,Eu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Cr],delete t[Us],delete t[Id],delete t[Dd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mu(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(r!==4&&(e=e.child,e!==null))for(Pi(e,t,n),e=e.sibling;e!==null;)Pi(e,t,n),e=e.sibling}function Ti(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ti(e,t,n),e=e.sibling;e!==null;)Ti(e,t,n),e=e.sibling}var Qe=null,It=!1;function pn(e,t,n){for(n=n.child;n!==null;)Nu(e,t,n),n=n.sibling}function Nu(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Xr,n)}catch{}switch(n.tag){case 5:tt||Jn(n,t);case 6:var r=Qe,l=It;Qe=null,pn(e,t,n),Qe=r,It=l,Qe!==null&&(It?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(It?(e=Qe,n=n.stateNode,e.nodeType===8?Hs(e.parentNode,n):e.nodeType===1&&Hs(e,n),mr(e)):Hs(Qe,n.stateNode));break;case 4:r=Qe,l=It,Qe=n.stateNode.containerInfo,It=!0,pn(e,t,n),Qe=r,It=l;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,c=i.destroy;i=i.tag,c!==void 0&&((i&2)!==0||(i&4)!==0)&&Ci(n,t,c),l=l.next}while(l!==r)}pn(e,t,n);break;case 1:if(!tt&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){De(n,t,h)}pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,pn(e,t,n),tt=r):pn(e,t,n);break;default:pn(e,t,n)}}function Pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yd),t.forEach(function(r){var l=af.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:Qe=h.stateNode,It=!1;break e;case 3:Qe=h.stateNode.containerInfo,It=!0;break e;case 4:Qe=h.stateNode.containerInfo,It=!0;break e}h=h.return}if(Qe===null)throw Error(o(160));Nu(i,c,l),Qe=null,It=!1;var g=l.alternate;g!==null&&(g.return=null),l.return=null}catch(_){De(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tu(t,e),t=t.sibling}function Tu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Ht(e),r&4){try{Ar(3,e,e.return),Al(3,e)}catch(J){De(e,e.return,J)}try{Ar(5,e,e.return)}catch(J){De(e,e.return,J)}}break;case 1:Dt(t,e),Ht(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(Dt(t,e),Ht(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var l=e.stateNode;try{At(l,"")}catch(J){De(e,e.return,J)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,c=n!==null?n.memoizedProps:i,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&i.type==="radio"&&i.name!=null&&Zt(l,i),is(h,c);var _=is(h,i);for(c=0;c<g.length;c+=2){var F=g[c],q=g[c+1];F==="style"?co(l,q):F==="dangerouslySetInnerHTML"?nt(l,q):F==="children"?At(l,q):V(l,F,q,_)}switch(h){case"input":Jt(l,i);break;case"textarea":Ut(l,i);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var Q=i.value;Q!=null?Oe(l,!!i.multiple,Q,!1):A!==!!i.multiple&&(i.defaultValue!=null?Oe(l,!!i.multiple,i.defaultValue,!0):Oe(l,!!i.multiple,i.multiple?[]:"",!1))}l[Cr]=i}catch(J){De(e,e.return,J)}}break;case 6:if(Dt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(J){De(e,e.return,J)}}break;case 3:if(Dt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(J){De(e,e.return,J)}break;case 4:Dt(t,e),Ht(e);break;case 13:Dt(t,e),Ht(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Li=Ae())),r&4&&Pu(e);break;case 22:if(F=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(_=tt)||F,Dt(t,e),tt=_):Dt(t,e),Ht(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!F&&(e.mode&1)!==0)for(X=e,F=e.child;F!==null;){for(q=X=F;X!==null;){switch(A=X,Q=A.child,A.tag){case 0:case 11:case 14:case 15:Ar(4,A,A.return);break;case 1:Jn(A,A.return);var Y=A.stateNode;if(typeof Y.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(J){De(r,n,J)}}break;case 5:Jn(A,A.return);break;case 22:if(A.memoizedState!==null){Lu(q);continue}}Q!==null?(Q.return=A,X=Q):Lu(q)}F=F.sibling}e:for(F=null,q=e;;){if(q.tag===5){if(F===null){F=q;try{l=q.stateNode,_?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(h=q.stateNode,g=q.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=uo("display",c))}catch(J){De(e,e.return,J)}}}else if(q.tag===6){if(F===null)try{q.stateNode.nodeValue=_?"":q.memoizedProps}catch(J){De(e,e.return,J)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;F===q&&(F=null),q=q.return}F===q&&(F=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Dt(t,e),Ht(e),r&4&&Pu(e);break;case 21:break;default:Dt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(At(l,""),r.flags&=-33);var i=Cu(e);Ti(e,i,l);break;case 3:case 4:var c=r.stateNode.containerInfo,h=Cu(e);Pi(e,h,c);break;default:throw Error(o(161))}}catch(g){De(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jd(e,t,n){X=e,_u(e)}function _u(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var l=X,i=l.child;if(l.tag===22&&r){var c=l.memoizedState!==null||zl;if(!c){var h=l.alternate,g=h!==null&&h.memoizedState!==null||tt;h=zl;var _=tt;if(zl=c,(tt=g)&&!_)for(X=l;X!==null;)c=X,g=c.child,c.tag===22&&c.memoizedState!==null?Ru(l):g!==null?(g.return=c,X=g):Ru(l);for(;i!==null;)X=i,_u(i),i=i.sibling;X=l,zl=h,tt=_}Ou(e)}else(l.subtreeFlags&8772)!==0&&i!==null?(i.return=l,X=i):Ou(e)}}function Ou(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||Al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&La(t,i,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}La(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var F=_.memoizedState;if(F!==null){var q=F.dehydrated;q!==null&&mr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}tt||t.flags&512&&Ni(t)}catch(A){De(t,t.return,A)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Lu(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Ru(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Al(4,t)}catch(g){De(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(g){De(t,l,g)}}var i=t.return;try{Ni(t)}catch(g){De(t,i,g)}break;case 5:var c=t.return;try{Ni(t)}catch(g){De(t,c,g)}}}catch(g){De(t,t.return,g)}if(t===e){X=null;break}var h=t.sibling;if(h!==null){h.return=t.return,X=h;break}X=t.return}}var ef=Math.ceil,Fl=b.ReactCurrentDispatcher,_i=b.ReactCurrentOwner,Mt=b.ReactCurrentBatchConfig,ye=0,We=null,qe=null,Ke=0,gt=0,er=an(0),He=0,Fr=null,Pn=0,ql=0,Oi=0,qr=null,at=null,Li=0,tr=1/0,Yt=null,bl=!1,Ri=null,hn=null,Bl=!1,mn=null,Hl=0,br=0,Ii=null,Ul=-1,Vl=0;function lt(){return(ye&6)!==0?Ae():Ul!==-1?Ul:Ul=Ae()}function vn(e){return(e.mode&1)===0?1:(ye&2)!==0&&Ke!==0?Ke&-Ke:Ad.transition!==null?(Vl===0&&(Vl=Co()),Vl):(e=we,e!==0||(e=window.event,e=e===void 0?16:Do(e.type)),e)}function zt(e,t,n,r){if(50<br)throw br=0,Ii=null,Error(o(185));cr(e,n,r),((ye&2)===0||e!==We)&&(e===We&&((ye&2)===0&&(ql|=n),He===4&&gn(e,Ke)),ut(e,r),n===1&&ye===0&&(t.mode&1)===0&&(tr=Ae()+500,yl&&cn()))}function ut(e,t){var n=e.callbackNode;Ac(e,t);var r=Jr(e,e===We?Ke:0);if(r===0)n!==null&&jo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jo(n),t===1)e.tag===0?zd(Du.bind(null,e)):wa(Du.bind(null,e)),Ld(function(){(ye&6)===0&&cn()}),n=null;else{switch(No(r)){case 1:n=ps;break;case 4:n=Eo;break;case 16:n=Kr;break;case 536870912:n=Mo;break;default:n=Kr}n=Uu(n,Iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iu(e,t){if(Ul=-1,Vl=0,(ye&6)!==0)throw Error(o(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var r=Jr(e,e===We?Ke:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Wl(e,r);else{t=r;var l=ye;ye|=2;var i=Au();(We!==e||Ke!==t)&&(Yt=null,tr=Ae()+500,_n(e,t));do try{rf();break}catch(h){zu(e,h)}while(!0);Zs(),Fl.current=i,ye=l,qe!==null?t=0:(We=null,Ke=0,t=He)}if(t!==0){if(t===2&&(l=hs(e),l!==0&&(r=l,t=Di(e,l))),t===1)throw n=Fr,_n(e,0),gn(e,r),ut(e,Ae()),n;if(t===6)gn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!tf(l)&&(t=Wl(e,r),t===2&&(i=hs(e),i!==0&&(r=i,t=Di(e,i))),t===1))throw n=Fr,_n(e,0),gn(e,r),ut(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:On(e,at,Yt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=Li+500-Ae(),10<t)){if(Jr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Bs(On.bind(null,e,at,Yt),t);break}On(e,at,Yt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var c=31-_t(r);i=1<<c,c=t[c],c>l&&(l=c),r&=~i}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ef(r/1960))-r,10<r){e.timeoutHandle=Bs(On.bind(null,e,at,Yt),r);break}On(e,at,Yt);break;case 5:On(e,at,Yt);break;default:throw Error(o(329))}}}return ut(e,Ae()),e.callbackNode===n?Iu.bind(null,e):null}function Di(e,t){var n=qr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=at,at=n,t!==null&&zi(t)),e}function zi(e){at===null?at=e:at.push.apply(at,e)}function tf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Ot(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~Oi,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if((ye&6)!==0)throw Error(o(327));nr();var t=Jr(e,0);if((t&1)===0)return ut(e,Ae()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=hs(e);r!==0&&(t=r,n=Di(e,r))}if(n===1)throw n=Fr,_n(e,0),gn(e,t),ut(e,Ae()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,at,Yt),ut(e,Ae()),null}function Ai(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(tr=Ae()+500,yl&&cn())}}function Tn(e){mn!==null&&mn.tag===0&&(ye&6)===0&&nr();var t=ye;ye|=1;var n=Mt.transition,r=we;try{if(Mt.transition=null,we=1,e)return e()}finally{we=r,Mt.transition=n,ye=t,(ye&6)===0&&cn()}}function Fi(){gt=er.current,Te(er)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Od(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Gs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:Yn(),Te(st),Te(Ze),ii();break;case 5:li(r);break;case 4:Yn();break;case 13:Te(Re);break;case 19:Te(Re);break;case 10:Js(r.type._context);break;case 22:case 23:Fi()}n=n.return}if(We=e,qe=e=yn(e.current,null),Ke=gt=t,He=0,Fr=null,Oi=ql=Pn=0,at=qr=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var c=i.next;i.next=l,r.next=c}n.pending=r}Mn=null}return e}function zu(e,t){do{var n=qe;try{if(Zs(),Pl.current=Ll,Tl){for(var r=Ie.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Tl=!1}if(Nn=0,Ve=Be=Ie=null,Lr=!1,Rr=0,_i.current=null,n===null||n.return===null){He=1,Fr=t,qe=null;break}e:{var i=e,c=n.return,h=n,g=t;if(t=Ke,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,F=h,q=F.tag;if((F.mode&1)===0&&(q===0||q===11||q===15)){var A=F.alternate;A?(F.updateQueue=A.updateQueue,F.memoizedState=A.memoizedState,F.lanes=A.lanes):(F.updateQueue=null,F.memoizedState=null)}var Q=ou(c);if(Q!==null){Q.flags&=-257,au(Q,c,h,i,t),Q.mode&1&&iu(i,_,t),t=Q,g=_;var Y=t.updateQueue;if(Y===null){var J=new Set;J.add(g),t.updateQueue=J}else Y.add(g);break e}else{if((t&1)===0){iu(i,_,t),qi();break e}g=Error(o(426))}}else if(Le&&h.mode&1){var Fe=ou(c);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),au(Fe,c,h,i,t),Xs(Zn(g,h));break e}}i=g=Zn(g,h),He!==4&&(He=2),qr===null?qr=[i]:qr.push(i),i=c;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=lu(i,g,t);Oa(i,j);break e;case 1:h=g;var x=i.type,M=i.stateNode;if((i.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(hn===null||!hn.has(M)))){i.flags|=65536,t&=-t,i.lanes|=t;var H=su(i,h,t);Oa(i,H);break e}}i=i.return}while(i!==null)}qu(n)}catch(ne){t=ne,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Au(){var e=Fl.current;return Fl.current=Ll,e===null?Ll:e}function qi(){(He===0||He===3||He===2)&&(He=4),We===null||(Pn&268435455)===0&&(ql&268435455)===0||gn(We,Ke)}function Wl(e,t){var n=ye;ye|=2;var r=Au();(We!==e||Ke!==t)&&(Yt=null,_n(e,t));do try{nf();break}catch(l){zu(e,l)}while(!0);if(Zs(),ye=n,Fl.current=r,qe!==null)throw Error(o(261));return We=null,Ke=0,He}function nf(){for(;qe!==null;)Fu(qe)}function rf(){for(;qe!==null&&!Pc();)Fu(qe)}function Fu(e){var t=Hu(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?qu(e):qe=t,_i.current=null}function qu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Kd(n,t,gt),n!==null){qe=n;return}}else{if(n=Xd(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);He===0&&(He=5)}function On(e,t,n){var r=we,l=Mt.transition;try{Mt.transition=null,we=1,lf(e,t,n,r)}finally{Mt.transition=l,we=r}return null}function lf(e,t,n,r){do nr();while(mn!==null);if((ye&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fc(e,i),e===We&&(qe=We=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Bl||(Bl=!0,Uu(Kr,function(){return nr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Mt.transition,Mt.transition=null;var c=we;we=1;var h=ye;ye|=4,_i.current=null,Zd(e,n),Tu(n,e),Ed(qs),nl=!!Fs,qs=Fs=null,e.current=n,Jd(n),Tc(),ye=h,we=c,Mt.transition=i}else e.current=n;if(Bl&&(Bl=!1,mn=e,Hl=l),i=e.pendingLanes,i===0&&(hn=null),Lc(n.stateNode),ut(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=Ri,Ri=null,e;return(Hl&1)!==0&&e.tag!==0&&nr(),i=e.pendingLanes,(i&1)!==0?e===Ii?br++:(br=0,Ii=e):br=0,cn(),null}function nr(){if(mn!==null){var e=No(Hl),t=Mt.transition,n=we;try{if(Mt.transition=null,we=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,Hl=0,(ye&6)!==0)throw Error(o(331));var l=ye;for(ye|=4,X=e.current;X!==null;){var i=X,c=i.child;if((X.flags&16)!==0){var h=i.deletions;if(h!==null){for(var g=0;g<h.length;g++){var _=h[g];for(X=_;X!==null;){var F=X;switch(F.tag){case 0:case 11:case 15:Ar(8,F,i)}var q=F.child;if(q!==null)q.return=F,X=q;else for(;X!==null;){F=X;var A=F.sibling,Q=F.return;if(Eu(F),F===_){X=null;break}if(A!==null){A.return=Q,X=A;break}X=Q}}}var Y=i.alternate;if(Y!==null){var J=Y.child;if(J!==null){Y.child=null;do{var Fe=J.sibling;J.sibling=null,J=Fe}while(J!==null)}}X=i}}if((i.subtreeFlags&2064)!==0&&c!==null)c.return=i,X=c;else e:for(;X!==null;){if(i=X,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Ar(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,X=j;break e}X=i.return}}var x=e.current;for(X=x;X!==null;){c=X;var M=c.child;if((c.subtreeFlags&2064)!==0&&M!==null)M.return=c,X=M;else e:for(c=x;X!==null;){if(h=X,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Al(9,h)}}catch(ne){De(h,h.return,ne)}if(h===c){X=null;break e}var H=h.sibling;if(H!==null){H.return=h.return,X=H;break e}X=h.return}}if(ye=l,cn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Xr,e)}catch{}r=!0}return r}finally{we=n,Mt.transition=t}}return!1}function bu(e,t,n){t=Zn(n,t),t=lu(e,t,1),e=fn(e,t,1),t=lt(),e!==null&&(cr(e,1,t),ut(e,t))}function De(e,t,n){if(e.tag===3)bu(e,e,n);else for(;t!==null;){if(t.tag===3){bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=Zn(n,e),e=su(t,e,1),t=fn(t,e,1),e=lt(),t!==null&&(cr(t,1,e),ut(t,e));break}}t=t.return}}function sf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ke&n)===n&&(He===4||He===3&&(Ke&130023424)===Ke&&500>Ae()-Li?_n(e,0):Oi|=n),ut(e,t)}function Bu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zr,Zr<<=1,(Zr&130023424)===0&&(Zr=4194304)));var n=lt();e=Qt(e,t),e!==null&&(cr(e,t,n),ut(e,n))}function of(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bu(e,n)}function af(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Bu(e,n)}var Hu;Hu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ot=!1,Qd(e,t,n);ot=(e.flags&131072)!==0}else ot=!1,Le&&(t.flags&1048576)!==0&&Sa(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var l=Vn(t,Ze.current);Xn(t,n),l=ui(null,t,r,e,l,n);var i=ci();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(i=!0,gl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ni(t),l.updater=Rl,t.stateNode=l,l._reactInternals=t,vi(t,r,e,n),t=wi(null,t,r,!0,i,n)):(t.tag=0,Le&&i&&$s(t),rt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=cf(r),e=Rt(r,e),l){case 0:t=xi(null,t,r,e,n);break e;case 1:t=hu(null,t,r,e,n);break e;case 11:t=uu(null,t,r,e,n);break e;case 14:t=cu(null,t,r,Rt(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Rt(r,l),xi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Rt(r,l),hu(e,t,r,l,n);case 3:e:{if(mu(t),e===null)throw Error(o(387));r=t.pendingProps,i=t.memoizedState,l=i.element,_a(e,t),Cl(t,r,null,n);var c=t.memoizedState;if(r=c.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Zn(Error(o(423)),t),t=vu(e,t,r,n,l);break e}else if(r!==l){l=Zn(Error(o(424)),t),t=vu(e,t,r,n,l);break e}else for(vt=on(t.stateNode.containerInfo.firstChild),mt=t,Le=!0,Lt=null,n=Pa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===l){t=Xt(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Ra(t),e===null&&Ks(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,c=l.children,bs(r,l)?c=null:i!==null&&bs(r,i)&&(t.flags|=32),pu(e,t),rt(e,t,c,n),t.child;case 6:return e===null&&Ks(t),null;case 13:return gu(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Rt(r,l),uu(e,t,r,l,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,c=l.value,Ce(jl,r._currentValue),r._currentValue=c,i!==null)if(Ot(i.value,c)){if(i.children===l.children&&!st.current){t=Xt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var h=i.dependencies;if(h!==null){c=i.child;for(var g=h.firstContext;g!==null;){if(g.context===r){if(i.tag===1){g=Kt(-1,n&-n),g.tag=2;var _=i.updateQueue;if(_!==null){_=_.shared;var F=_.pending;F===null?g.next=g:(g.next=F.next,F.next=g),_.pending=g}}i.lanes|=n,g=i.alternate,g!==null&&(g.lanes|=n),ei(i.return,n,t),h.lanes|=n;break}g=g.next}}else if(i.tag===10)c=i.type===t.type?null:i.child;else if(i.tag===18){if(c=i.return,c===null)throw Error(o(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),ei(c,n,t),c=i.sibling}else c=i.child;if(c!==null)c.return=i;else for(c=i;c!==null;){if(c===t){c=null;break}if(i=c.sibling,i!==null){i.return=c.return,c=i;break}c=c.return}i=c}rt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Xn(t,n),l=jt(l),r=r(l),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,l=Rt(r,t.pendingProps),l=Rt(r.type,l),cu(e,t,r,l,n);case 15:return du(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Rt(r,l),Dl(e,t),t.tag=1,it(r)?(e=!0,gl(t)):e=!1,Xn(t,n),nu(t,r,l),vi(t,r,l,n),wi(null,t,r,!0,e,n);case 19:return xu(e,t,n);case 22:return fu(e,t,n)}throw Error(o(156,t.tag))};function Uu(e,t){return ko(e,t)}function uf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new uf(e,t,n,r)}function bi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cf(e){if(typeof e=="function")return bi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ne)return 11;if(e===xt)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,l,i){var c=2;if(r=e,typeof e=="function")bi(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case z:return Ln(n.children,l,i,t);case B:c=8,l|=8;break;case G:return e=Ct(12,n,t,l|2),e.elementType=G,e.lanes=i,e;case _e:return e=Ct(13,n,t,l),e.elementType=_e,e.lanes=i,e;case dt:return e=Ct(19,n,t,l),e.elementType=dt,e.lanes=i,e;case ve:return Gl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:c=10;break e;case Me:c=9;break e;case Ne:c=11;break e;case xt:c=14;break e;case ue:c=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ct(c,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Ln(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Gl(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=ve,e.lanes=n,e.stateNode={isHidden:!1},e}function Bi(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Hi(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function df(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ms(0),this.expirationTimes=ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ui(e,t,n,r,l,i,c,h,g){return e=new df(e,t,n,h,g),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ni(i),e}function ff(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return un;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(it(n))return ya(e,n,t)}return t}function Wu(e,t,n,r,l,i,c,h,g){return e=Ui(n,r,!0,e,l,i,c,h,g),e.context=Vu(null),n=e.current,r=lt(),l=vn(n),i=Kt(r,l),i.callback=t??null,fn(n,i,l),e.current.lanes=l,cr(e,l,r),ut(e,r),e}function Ql(e,t,n,r){var l=t.current,i=lt(),c=vn(l);return n=Vu(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(i,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(l,t,c),e!==null&&(zt(e,l,c,i),Ml(e,l,c)),c}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vi(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function pf(){return null}var Gu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wi(e){this._internalRoot=e}Xl.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ql(e,t,null,null)},Xl.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){Ql(null,e,null,null)}),t[Vt]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_o();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&Ro(e)}};function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qu(){}function hf(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var _=Kl(c);i.call(_)}}var c=Wu(t,r,e,0,null,!1,!1,"",Qu);return e._reactRootContainer=c,e[Vt]=c.current,Er(e.nodeType===8?e.parentNode:e),Tn(),c}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var h=r;r=function(){var _=Kl(g);h.call(_)}}var g=Ui(e,0,!1,null,null,!1,!1,"",Qu);return e._reactRootContainer=g,e[Vt]=g.current,Er(e.nodeType===8?e.parentNode:e),Tn(function(){Ql(t,g,n,r)}),g}function Zl(e,t,n,r,l){var i=n._reactRootContainer;if(i){var c=i;if(typeof l=="function"){var h=l;l=function(){var g=Kl(c);h.call(g)}}Ql(t,c,e,l)}else c=hf(n,t,e,l,r);return Kl(c)}Po=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(vs(t,n|1),ut(t,Ae()),(ye&6)===0&&(tr=Ae()+500,cn()))}break;case 13:Tn(function(){var r=Qt(e,1);if(r!==null){var l=lt();zt(r,e,1,l)}}),Vi(e,1)}},gs=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=lt();zt(t,e,134217728,n)}Vi(e,134217728)}},To=function(e){if(e.tag===13){var t=vn(e),n=Qt(e,t);if(n!==null){var r=lt();zt(n,e,t,r)}Vi(e,t)}},_o=function(){return we},Oo=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},us=function(e,t,n){switch(t){case"input":if(Jt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ml(r);if(!l)throw Error(o(90));be(r),Jt(r,l)}}}break;case"textarea":Ut(e,n);break;case"select":t=n.value,t!=null&&Oe(e,!!n.multiple,t,!1)}},mo=Ai,vo=Tn;var mf={usingClientEntryPoint:!1,Events:[Nr,Hn,ml,po,ho,Ai]},Br={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vf={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wo(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||pf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Xr=Jl.inject(vf),Ft=Jl}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf,ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$i(t))throw Error(o(200));return ff(e,t,null,n)},ct.createRoot=function(e,t){if(!$i(e))throw Error(o(299));var n=!1,r="",l=Gu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ui(e,1,!1,null,null,n,!1,r,l),e[Vt]=t.current,Er(e.nodeType===8?e.parentNode:e),new Wi(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=wo(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Tn(e)},ct.hydrate=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!0,n)},ct.hydrateRoot=function(e,t,n){if(!$i(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",c=Gu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Wu(t,null,e,1,n??null,l,!1,i,c),e[Vt]=t.current,Er(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Xl(t)},ct.render=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!1,n)},ct.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(o(40));return e._reactRootContainer?(Tn(function(){Zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1},ct.unstable_batchedUpdates=Ai,ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Zl(e,t,n,!1,r)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var nc;function Ef(){if(nc)return Ki.exports;nc=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Ki.exports=jf(),Ki.exports}var rc;function Mf(){if(rc)return es;rc=1;var u=Ef();return es.createRoot=u.createRoot,es.hydrateRoot=u.hydrateRoot,es}var Cf=Mf(),Z=$r();const Nt=gc(Z),W={osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2},engineMode:"classic",macro:{model:"va",harmonics:.6,timbre:.5,morph:.5,level:1},effects:{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}},lfo1:{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"},lfo2:{enabled:!1,wave:"triangle",rateHz:.5,amount:.4,dest:"filter"},arp:{enabled:!1,rateHz:8,bpmSync:!1,bpm:120,division:"1/8",gate:.6,mode:"up",octaves:1,chord:"none",latch:!1,swingPct:0,repeats:1,patternLen:0},sequencer:{enabled:!1,playing:!1,bpm:120,division:"1/16",swingPct:0,gate:.6,rootMidi:60,length:16,steps:Array.from({length:16},()=>({on:!1,offset:0,velocity:1}))},expression:{x:"filter.cutoff",y:"master.gain"}},Xe=(u,a)=>Number.isFinite(u)?u:a,ts=(u,a)=>u.patch[a]??W[a],ns=u=>u.patch.macro??W.macro,rs={"filter.cutoff":{getBase:u=>Xe(u.patch.filter.cutoff,W.filter.cutoff),range:(u,a)=>{const o=Ee(a*.25,80,12e3),d=Ee(a*4,o+20,14e3);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({filter:{cutoff:a}},{fromExpression:!0})},"filter.q":{getBase:u=>Xe(u.patch.filter.q,W.filter.q),range:(u,a)=>{const o=Ee(a*.5,.1,20),d=Ee(a*2.5,o+.1,20);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({filter:{q:a}},{fromExpression:!0})},"master.gain":{getBase:u=>Xe(u.patch.master.gain,W.master.gain),range:(u,a)=>{const o=Ee(a*.4,.01,1),d=Ee(a*1.6,o+.01,1);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({master:{gain:a}},{fromExpression:!0})},mix:{getBase:u=>Xe(u.patch.mix,W.mix),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({mix:Ee(a,0,1)},{fromExpression:!0})},"osc1.detune":{getBase:u=>Xe(u.patch.osc1.detune,W.osc1.detune),range:(u,a)=>{const o=Ee(a-120,-2400,2400),d=Ee(a+120,o+1,2400);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({osc1:{detune:a}},{fromExpression:!0})},"osc2.detune":{getBase:u=>Xe(u.patch.osc2.detune,W.osc2.detune),range:(u,a)=>{const o=Ee(a-120,-2400,2400),d=Ee(a+120,o+1,2400);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({osc2:{detune:a}},{fromExpression:!0})},"fm.amount":{getBase:u=>Xe(u.patch.fm.amount,W.fm.amount),range:(u,a)=>{const o=Ee(a*.5,0,4e3),d=Ee(Math.max(a+400,400),o+10,4e3);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({fm:{amount:Ee(a,0,4e3)}},{fromExpression:!0})},"envelope.attack":{getBase:u=>Xe(u.patch.envelope.attack,W.envelope.attack),range:(u,a)=>{const o=Ee(a*.2,.001,4),d=Ee(a*3,o+.01,4);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({envelope:{attack:a}},{fromExpression:!0})},"envelope.release":{getBase:u=>Xe(u.patch.envelope.release,W.envelope.release),range:(u,a)=>{const o=Ee(a*.5,.03,6),d=Ee(a*3,o+.05,6);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({envelope:{release:a}},{fromExpression:!0})},"macro.harmonics":{getBase:u=>Xe(ns(u).harmonics,W.macro.harmonics),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{harmonics:Ee(a,0,1)}},{fromExpression:!0})},"macro.timbre":{getBase:u=>Xe(ns(u).timbre,W.macro.timbre),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{timbre:Ee(a,0,1)}},{fromExpression:!0})},"macro.morph":{getBase:u=>Xe(ns(u).morph,W.macro.morph),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{morph:Ee(a,0,1)}},{fromExpression:!0})},"macro.level":{getBase:u=>Xe(ns(u).level,W.macro.level),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({macro:{level:Ee(a,0,1)}},{fromExpression:!0})},"lfo1.rateHz":{getBase:u=>Xe(ts(u,"lfo1").rateHz,W.lfo1.rateHz),range:(u,a)=>{const o=Ee(a*.25,.05,30),d=Ee(a*4,o+.05,40);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({lfo1:{rateHz:a}},{fromExpression:!0})},"lfo1.amount":{getBase:u=>Xe(ts(u,"lfo1").amount,W.lfo1.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo1:{amount:Ee(a,0,1)}},{fromExpression:!0})},"lfo2.rateHz":{getBase:u=>Xe(ts(u,"lfo2").rateHz,W.lfo2.rateHz),range:(u,a)=>{const o=Ee(a*.25,.02,20),d=Ee(a*4,o+.05,30);return{min:o,max:d}},apply:(u,a)=>u.applyPatch({lfo2:{rateHz:a}},{fromExpression:!0})},"lfo2.amount":{getBase:u=>Xe(ts(u,"lfo2").amount,W.lfo2.amount),range:()=>({min:0,max:1}),apply:(u,a)=>u.applyPatch({lfo2:{amount:Ee(a,0,1)}},{fromExpression:!0})}},Zi=["x","y"],Ee=(u,a,o)=>Math.min(o,Math.max(a,u));function Nf(u){const a=u.sampleRate*1,o=u.createBuffer(1,a,u.sampleRate),d=o.getChannelData(0);for(let p=0;p<a;p++)d[p]=Math.random()*2-1;return o}class io{ctx;master;filter;analyser;noiseBuffer;activeVoices=new Map;fxInput;fxOutput;currentFxTap=null;lfos;expression2D={active:!1,x:.5,y:.5};expressionAxisTargets={x:W.expression.x,y:W.expression.y};expressionSnapshot={x:null,y:null};expressionApplying=!1;patch;arpHeld=new Set;arpIndex=0;arpTimer=null;arpLastNote=null;arpBypass=!1;arpPhase=0;arpRepeatCounter=0;arpCurrentStepMs=0;seqTimer=null;seqPhase=0;seqCurrentStepMs=0;seqStepIndex=0;seqLastNote=null;constructor(a){this.ctx=a??new(window.AudioContext||window.webkitAudioContext),this.master=this.ctx.createGain(),this.filter=this.ctx.createBiquadFilter(),this.analyser=this.ctx.createAnalyser(),this.fxInput=this.ctx.createGain(),this.fxOutput=this.ctx.createGain(),this.filter.connect(this.fxInput),this.fxInput.connect(this.fxOutput),this.fxOutput.connect(this.master),this.master.connect(this.ctx.destination);try{this.filter.connect(this.analyser)}catch{}this.analyser.smoothingTimeConstant=0,this.lfos=[];for(let o=0;o<2;o++){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=5;const p=this.ctx.createGain();p.gain.value=0,d.connect(p),d.start(),this.lfos.push({osc:d,gain:p,dest:"none"})}this.patch={...W},this.applyPatch()}get audioContext(){return this.ctx}getAnalyser(){return this.analyser}getWaveform(){const a=this.analyser.fftSize,o=new Uint8Array(a);return this.analyser.getByteTimeDomainData(o),o}async resume(){this.ctx.state!=="running"&&await this.ctx.resume()}applyPatch(a={},o={}){const{fromExpression:d=!1}=o,p=this.patch,f={...this.patch,...a,osc1:{...this.patch.osc1,...a.osc1??{}},osc2:{...this.patch.osc2,...a.osc2??{}},fm:{...this.patch.fm,...a.fm??{}},sub:{...this.patch.sub,...a.sub??{}},ring:{...this.patch.ring,...a.ring??{}},filter:{...this.patch.filter,...a.filter??{}},envelope:{...this.patch.envelope,...a.envelope??{}},master:{...this.patch.master,...a.master??{}},mix:a.mix!=null?a.mix:this.patch.mix,engineMode:a.engineMode??this.patch.engineMode??"classic",macro:{...this.patch.macro??W.macro,...a.macro??{}},effects:{...this.patch.effects??W.effects,...a.effects??{}},lfo1:{...this.patch.lfo1??W.lfo1,...a.lfo1??{}},lfo2:{...this.patch.lfo2??W.lfo2,...a.lfo2??{}},arp:{...this.patch.arp??W.arp,...a.arp??{}},sequencer:{...this.patch.sequencer??W.sequencer,...a.sequencer??{}},expression:{...this.patch.expression??W.expression,...a.expression??{}}};if(this.patch=f,this.configureExpressionRouting(f.expression),f.master.gain!==p.master.gain&&this.master.gain.setTargetAtTime(f.master.gain,this.ctx.currentTime,.01),f.filter.type!==p.filter.type&&(this.filter.type=f.filter.type),f.filter.q!==p.filter.q&&this.filter.Q.setTargetAtTime(f.filter.q,this.ctx.currentTime,.02),f.filter.cutoff!==p.filter.cutoff&&this.filter.frequency.setTargetAtTime(f.filter.cutoff,this.ctx.currentTime,.015),this.noiseBuffer||(this.noiseBuffer=Nf(this.ctx)),a.effects!==void 0&&this.buildFxChain(),a.lfo1!==void 0||a.lfo2!==void 0||a.master?.gain!==void 0){const y=[this.patch.lfo1,this.patch.lfo2];for(let w=0;w<this.lfos.length;w++){const v=this.lfos[w],m=y[w];v.osc.type=m.wave,v.osc.frequency.setValueAtTime(Math.max(.01,m.rateHz),this.ctx.currentTime);try{v.gain.disconnect()}catch{}if(v.dest="none",v.gain.gain.value=0,m.enabled)if(m.dest==="filter")v.dest="filter",v.gain.gain.value=Math.max(0,m.amount)*2e3,v.gain.connect(this.filter.frequency);else if(m.dest==="amp"){v.dest="amp";const C=this.patch.master.gain;v.gain.gain.value=Math.max(0,m.amount)*Math.max(0,C)*.8,v.gain.connect(this.master.gain)}else m.dest==="pitch"&&(v.dest="pitch",v.gain.gain.value=Math.max(0,m.amount)*50)}}if(a.arp!==void 0&&this.updateArpScheduler({forceRestart:!0}),a.sequencer!==void 0&&this.updateSeqScheduler(),a.osc1?.detune!==void 0||a.osc1?.finePct!==void 0){const y=this.ctx.currentTime,w=f.osc1.detune||0,v=(f.osc1.finePct??0)/100,m=Math.abs(w)*.05*v,C=w+m;for(const P of this.activeVoices.values())if(P.osc1Detune)try{P.osc1Detune.setTargetAtTime(C,y,.01)}catch{}}if(a.osc2?.detune!==void 0){const y=this.ctx.currentTime;for(const w of this.activeVoices.values())if(w.osc2Detune)try{w.osc2Detune.setTargetAtTime(f.osc2.detune||0,y,.01)}catch{}}this.expression2D.active&&!d&&this.applyExpression2D()}buildFxChain(){try{this.fxInput.disconnect()}catch{}if(this.currentFxTap){try{this.currentFxTap.disconnect(this.fxOutput)}catch{}this.currentFxTap=null}let a=this.fxInput;const o=this.patch.effects;o?.delay?.enabled&&(a=this.applyDelayEffect(a,o.delay)),o?.reverb?.enabled&&(a=this.applyReverbEffect(a,o.reverb)),a.connect(this.fxOutput),this.currentFxTap=a}clamp01(a){return Math.min(1,Math.max(0,a))}setExpression2D(a,o){const d=this.clamp01(a),p=this.clamp01(o);this.expression2D.active||this.captureExpressionBase(),this.expression2D={active:!0,x:d,y:p},this.applyExpression2D()}clearExpression2D(){if(this.expression2D.active){this.expressionApplying=!0;try{for(const a of Zi)this.resetExpressionAxis(a)}finally{this.expressionApplying=!1,this.expression2D={active:!1,x:.5,y:.5},this.expressionSnapshot={x:null,y:null}}}}configureExpressionRouting(a=this.patch.expression??W.expression){const o=W.expression??{x:"filter.cutoff",y:"master.gain"};for(const d of Zi){const p=a?.[d]??o[d],f=rs[p]?p:o[d];(this.expressionAxisTargets[d]!==f||!this.expression2D.active)&&(this.expressionSnapshot[d]=null),this.expressionAxisTargets[d]=f}}captureExpressionBase(){for(const a of Zi){const o=this.expressionAxisTargets[a],d=rs[o];if(!d)continue;const p=d.getBase(this);this.expressionSnapshot[a]=Number.isFinite(p)?p:0}}applyExpressionAxis(a,o){const d=this.expressionAxisTargets[a],p=rs[d];if(!p)return;let f=this.expressionSnapshot[a];(f==null||Number.isNaN(f))&&(f=p.getBase(this),this.expressionSnapshot[a]=f);const{min:y,max:w}=p.range(this,f),v=w-y,m=v<=0?f:y+v*this.clamp01(o);p.apply(this,m)}resetExpressionAxis(a){const o=this.expressionSnapshot[a],d=this.expressionAxisTargets[a],p=rs[d];p&&o!=null&&Number.isFinite(o)&&p.apply(this,o),this.expressionSnapshot[a]=null}applyExpression2D(){if(!(!this.expression2D.active||this.expressionApplying)){this.expressionApplying=!0;try{this.applyExpressionAxis("x",this.expression2D.x),this.applyExpressionAxis("y",this.expression2D.y)}finally{this.expressionApplying=!1}}}applyDelayEffect(a,o){const d=this.clamp01(o.mix),p=Math.max(0,Math.min(1.5,o.time)),f=Math.max(0,Math.min(.95,o.feedback)),y=this.ctx.createDelay(2);y.delayTime.value=p;const w=this.ctx.createGain();w.gain.value=f,y.connect(w),w.connect(y);const v=this.ctx.createGain();v.gain.value=1-d;const m=this.ctx.createGain();m.gain.value=d;const C=this.ctx.createGain();return a.connect(v),a.connect(y),y.connect(m),v.connect(C),m.connect(C),C}makeImpulse(a,o){const d=Math.max(1,Math.floor(this.ctx.sampleRate*Math.max(.05,a))),p=this.ctx.createBuffer(2,d,this.ctx.sampleRate);for(let f=0;f<p.numberOfChannels;f++){const y=p.getChannelData(f);for(let w=0;w<d;w++){const v=w/d;y[w]=(Math.random()*2-1)*Math.pow(1-v,2+o*6)}}return p}applyReverbEffect(a,o){const d=this.clamp01(o.mix),p=.1+this.clamp01(o.size)*3,f=this.clamp01(o.decay),y=this.ctx.createConvolver();y.normalize=!0,y.buffer=this.makeImpulse(p,f);const w=this.ctx.createGain();w.gain.value=1-d;const v=this.ctx.createGain();v.gain.value=d;const m=this.ctx.createGain();return a.connect(w),a.connect(y),y.connect(v),w.connect(m),v.connect(m),m}makeWavefolderCurve(a,o,d=2048){const p=new Float32Array(d),f=Math.max(1e-4,a)*6,y=(o-.5)*2;for(let w=0;w<d;w++){let v=w/(d-1)*2-1;v+=y*.5;const m=Math.tanh(f*v)/Math.tanh(f);p[w]=m}return p}createMacroSuperSaw(a,o){const p=this.ctx.createGain(),f=this.ctx.createBiquadFilter();f.type="lowpass",f.frequency.value=800+o.timbre*12e3,f.Q.value=.3;const y=0+o.harmonics*30,w=[-1,-.6,-.2,.2,.6,1],v=[];for(let C=0;C<6;C++){const P=this.ctx.createOscillator();P.type="sawtooth",P.frequency.value=a,P.detune.value=w[C]*y;const N=this.ctx.createGain();N.gain.value=1/6;const R=this.ctx.createStereoPanner(),O=(o.morph-.5)*2,T=w[C]/Math.max(1,Math.max(...w.map(Math.abs)))*O;R.pan.value=T,P.connect(N).connect(R).connect(p),v.push({osc:P,pan:R}),P.start()}p.connect(f);const m=this.ctx.createGain();return m.gain.value=o.level,f.connect(m),{output:m,stop:C=>v.forEach(({osc:P})=>P.stop(C)),pitched:v.map(C=>C.osc)}}createMacroWavetable(a,o){const d=["sine","triangle","sawtooth","square"],p=Math.min(3,Math.max(0,Math.floor(o.morph*3.00001))),f=Math.min(1,Math.max(0,o.morph*3-p)),y=(N,R)=>{const O=this.ctx.createOscillator();O.type=N,O.frequency.value=a;const T=this.ctx.createGain();return T.gain.value=R,O.connect(T),{osc:O,g:T}},w=y(d[p],p===3?1:1-f),v=p<3?y(d[p+1],f):null,m=this.ctx.createBiquadFilter();m.type="lowpass",m.frequency.value=800+o.harmonics*15e3,m.Q.value=.1+o.timbre*.6;const C=this.ctx.createGain();C.gain.value=o.level,w.g.connect(m),v&&v.g.connect(m),m.connect(C),w.osc.start(),v&&v.osc.start();const P=[w.osc];return v&&P.push(v.osc),{output:C,stop:N=>{w.osc.stop(N),v&&v.osc.stop(N)},pitched:P}}createMacroHarmonic(a,o){const f=Math.round(2+o.harmonics*14),y=.5+(1-o.timbre)*2,w=(o.morph-.5)*2,v=this.ctx.createGain(),m=[];for(let N=1;N<=f;N++){const R=this.ctx.createOscillator();R.type="sine",R.frequency.value=a*N;let O=1/Math.pow(N,y);const E=N%2===0?Math.max(.1,(w+1)/2):Math.max(.1,(1-w)/2);O*=E;const L=this.ctx.createGain();L.gain.value=O,R.connect(L).connect(v),R.start(),m.push(R)}const C=this.ctx.createBiquadFilter();C.type="lowpass",C.frequency.value=1e3+o.timbre*15e3,C.Q.value=.2;const P=this.ctx.createGain();return P.gain.value=o.level,v.connect(C).connect(P),{output:P,stop:N=>{for(const R of m)R.stop(N)},pitched:m}}createMacroChord(a,o){const d=[[0,4,7],[0,3,7],[0,5,7],[0,2,7],[0,4,7,10],[0,3,7,10],[0,4,7,11],[0,3,6,9],[0,4,8],[-12,0,7,12]],p=Math.max(0,Math.min(d.length-1,Math.floor(o.harmonics*d.length))),f=d[p],y=(o.morph-.5)*2,w=this.ctx.createGain(),v=this.ctx.createBiquadFilter();v.type="lowpass",v.frequency.value=900+o.timbre*15e3,v.Q.value=.3;const m=this.ctx.createGain();m.gain.value=o.level;const C=[],P=[-1,-.3,.3,1];return f.forEach((N,R)=>{const O=this.ctx.createOscillator();O.type="sawtooth";const T=440*Math.pow(2,Math.log2(a/440)+N/12);O.frequency.value=T;const E=P[R%P.length]*y*15;O.detune.value=E;const L=this.ctx.createGain();L.gain.value=1/f.length;const I=this.ctx.createStereoPanner();I.pan.value=P[R%P.length]*y,O.connect(L).connect(I).connect(w),O.start(),C.push(O)}),w.connect(v).connect(m),{output:m,stop:N=>{for(const R of C)R.stop(N)},pitched:C}}createMacroPWM(a,o){const d=this.ctx.createOscillator();d.type="sawtooth",d.frequency.value=a;const p=this.ctx.createGain();p.gain.value=1;const f=this.ctx.createConstantSource(),y=(o.morph-.5)*1.6;f.offset.value=y,f.start(),d.connect(p),f.connect(p);const w=this.ctx.createWaveShaper(),v=1+o.harmonics*24,m=2048,C=new Float32Array(m);for(let R=0;R<m;R++){const O=R/(m-1)*2-1;C[R]=Math.tanh(v*O)}w.curve=C,w.oversample="4x";const P=this.ctx.createBiquadFilter();P.type="lowpass",P.frequency.value=2e3+o.timbre*14e3,P.Q.value=.2;const N=this.ctx.createGain();return N.gain.value=o.level,p.connect(w).connect(P).connect(N),d.start(),{output:N,stop:R=>{d.stop(R),f.stop(R)},pitched:[d]}}createMacroFM2Op(a,o){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=a;const p=this.ctx.createOscillator();p.type="sine";const f=.25+o.harmonics*7.75;p.frequency.value=a*f;const y=this.ctx.createGain();y.gain.value=Math.max(0,o.timbre)*a*2,p.connect(y).connect(d.frequency);const w=this.ctx.createBiquadFilter();w.type="lowpass",w.frequency.value=1e3+o.morph*15e3,w.Q.value=.1;const v=this.ctx.createGain();return v.gain.value=o.level,d.connect(w).connect(v),d.start(),p.start(),{output:v,stop:m=>{d.stop(m),p.stop(m)},pitched:[d]}}createMacroVA(a,o){const d=this.ctx.createOscillator(),p=this.ctx.createOscillator();d.type="sawtooth",p.type="triangle",d.frequency.value=a,p.frequency.value=a;const f=this.ctx.createGain(),y=this.ctx.createGain();f.gain.value=1-o.timbre,y.gain.value=o.timbre;const w=this.ctx.createGain(),v=this.ctx.createBiquadFilter();return v.type="lowpass",v.frequency.value=1e3+o.harmonics*15e3,v.Q.value=.5,p.connect(f).connect(w),d.connect(y).connect(w),w.connect(v),p.start(),d.start(),{output:v,stop:m=>{p.stop(m),d.stop(m)},pitched:[p,d]}}createMacroFold(a,o){const d=this.ctx.createOscillator();d.type="sine",d.frequency.value=a;const p=this.ctx.createGain(),f=this.ctx.createWaveShaper(),y=this.ctx.createGain(),w=.2+o.harmonics*1.6,v=o.morph;f.curve=this.makeWavefolderCurve(w,v),f.oversample="4x",p.gain.value=1,y.gain.value=o.level;const m=this.ctx.createBiquadFilter();return m.type="lowpass",m.frequency.value=4e3+o.timbre*16e3,m.Q.value=.2,d.connect(p).connect(f).connect(m).connect(y),d.start(),{output:y,stop:C=>d.stop(C),pitched:[d]}}createMacroPluck(a,o){const d=this.ctx.createGain(),p=this.ctx.createBufferSource(),f=Math.floor(this.ctx.sampleRate*.02),y=this.ctx.createBuffer(1,f,this.ctx.sampleRate),w=y.getChannelData(0);for(let R=0;R<f;R++)w[R]=(Math.random()*2-1)*(1-R/f);p.buffer=y,p.loop=!1;const v=1/Math.max(20,a),m=this.ctx.createDelay(1);m.delayTime.value=v;const C=this.ctx.createGain();C.gain.value=.85+o.harmonics*.14;const P=this.ctx.createBiquadFilter();P.type="lowpass",P.frequency.value=1e3+o.timbre*8e3,P.Q.value=0;const N=this.ctx.createBiquadFilter();return N.type="highpass",N.frequency.value=50+o.morph*400,p.connect(N).connect(m).connect(d),m.connect(P).connect(C).connect(m),d.gain.value=o.level,p.start(),{output:d,stop:R=>{},pitched:[]}}makeVoice(a){const o=this.ctx.currentTime,d=this.patch.envelope,p=this.ctx.createGain();if(p.gain.value=0,p.connect(this.filter),(this.patch.engineMode??"classic")==="macro"&&this.patch.macro){const E=this.patch.macro;let L;switch(E.model){case"fold":L=this.createMacroFold(a,E);break;case"pluck":L=this.createMacroPluck(a,E);break;case"supersaw":L=this.createMacroSuperSaw(a,E);break;case"pwm":L=this.createMacroPWM(a,E);break;case"fm2op":L=this.createMacroFM2Op(a,E);break;case"wavetable":L=this.createMacroWavetable(a,E);break;case"harmonic":L=this.createMacroHarmonic(a,E);break;case"chord":L=this.createMacroChord(a,E);break;case"va":default:L=this.createMacroVA(a,E);break}L.output.connect(p);const I=[];if(L.pitched&&L.pitched.length)for(const K of L.pitched)for(const k of this.lfos)k.dest==="pitch"&&this.patch[this.lfos.indexOf(k)===0?"lfo1":"lfo2"]?.enabled&&(k.gain.connect(K.detune),I.push({g:k.gain,p:K.detune}));const V=p.gain;return V.cancelScheduledValues(o),V.setValueAtTime(0,o),V.linearRampToValueAtTime(1,o+Math.max(.001,d.attack)),V.linearRampToValueAtTime(d.sustain,o+d.attack+Math.max(.001,d.decay)),{stop:K=>{const k=Math.max(this.ctx.currentTime,K);V.cancelScheduledValues(k),V.setValueAtTime(V.value,k),V.linearRampToValueAtTime(0,k+Math.max(.001,d.release)),L.stop(k+d.release+.05);for(const z of I)try{z.g.disconnect(z.p)}catch{}}}}const f=this.ctx.createGain(),y=this.ctx.createGain(),w=Math.max(0,Math.min(1,this.patch.mix));f.gain.value=1-w,y.gain.value=w;const v=this.ctx.createGain();v.gain.value=1,f.connect(v),y.connect(v),v.connect(p);const m=[];let C=null,P=null;const N=[];{let E;if(this.patch.osc1.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,E=L}else{const L=this.ctx.createOscillator();L.type=this.patch.osc1.wave,L.frequency.setValueAtTime(a,o);const I=this.patch.osc1.detune||0,V=(this.patch.osc1.finePct??0)/100,b=Math.abs(I)*.05*V,K=I+b;L.detune.value=K,E=L,C=L}if(E.connect(f),m.push(E),this.patch.fm.enabled&&"frequency"in E){const L=E,I=this.ctx.createOscillator();I.type=this.patch.osc2.wave;const V=Math.max(.01,this.patch.fm.ratio||1);I.frequency.setValueAtTime(a*V,o),I.detune.value=this.patch.osc2.detune||0;const b=this.ctx.createGain();b.gain.value=Math.max(0,this.patch.fm.amount||0),I.connect(b),b.connect(L.frequency),m.push(I)}if("detune"in E)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(E.detune),N.push({g:L.gain,p:E.detune}))}{let E;if(this.patch.osc2.wave==="noise"){const L=this.ctx.createBufferSource();L.buffer=this.noiseBuffer,L.loop=!0,E=L}else{const L=this.ctx.createOscillator();L.type=this.patch.osc2.wave,L.frequency.setValueAtTime(a,o),L.detune.value=this.patch.osc2.detune,E=L,P=L}if(E.connect(y),m.push(E),this.patch.ring.enabled){const L=this.ctx.createGain();L.gain.value=0,m[0].connect(L);const I=this.ctx.createGain();I.gain.value=1,E.connect(I),I.connect(L.gain);const V=Math.max(0,Math.min(1,this.patch.ring.amount));v.gain.value=1-V;const b=this.ctx.createGain();b.gain.value=V,L.connect(b),b.connect(p)}if("detune"in E)for(const L of this.lfos)L.dest==="pitch"&&this.patch[this.lfos.indexOf(L)===0?"lfo1":"lfo2"]?.enabled&&(L.gain.connect(E.detune),N.push({g:L.gain,p:E.detune}))}const R=p.gain;R.cancelScheduledValues(o),R.setValueAtTime(0,o),R.linearRampToValueAtTime(1,o+Math.max(.001,d.attack)),R.linearRampToValueAtTime(d.sustain,o+d.attack+Math.max(.001,d.decay));for(const E of m)"start"in E&&E.start();if(this.patch.sub.enabled){const E=this.ctx.createOscillator();E.type=this.patch.sub.wave||"square";const L=a/Math.pow(2,Math.max(1,Math.min(2,this.patch.sub.octave)));E.frequency.setValueAtTime(L,o);const I=this.ctx.createGain();I.gain.value=Math.max(0,Math.min(1,this.patch.sub.level)),E.connect(I),I.connect(p),m.push(E);for(const V of this.lfos)V.dest==="pitch"&&this.patch[this.lfos.indexOf(V)===0?"lfo1":"lfo2"]?.enabled&&(V.gain.connect(E.detune),N.push({g:V.gain,p:E.detune}))}const T={stop:E=>{const L=Math.max(this.ctx.currentTime,E);R.cancelScheduledValues(L),R.setValueAtTime(R.value,L),R.linearRampToValueAtTime(0,L+Math.max(.001,d.release));for(const I of m)"stop"in I&&I.stop(L+d.release+.05);for(const I of N)try{I.g.disconnect(I.p)}catch{}}};return C&&(T.osc1Detune=C.detune),P&&(T.osc2Detune=P.detune),T}allNotesOff(){const a=this.ctx.currentTime;for(const o of this.activeVoices.values())o.stop(a);this.activeVoices.clear()}getArpChordOffsets(){switch(this.patch.arp?.chord??W.arp.chord??"none"){case"power":return[0,7];case"major":return[0,4,7];case"minor":return[0,3,7];case"sus2":return[0,2,7];case"sus4":return[0,5,7];case"maj7":return[0,4,7,11];case"min7":return[0,3,7,10];default:return[0]}}buildArpPool(){if(this.arpHeld.size===0)return[];const a=this.patch.arp?.mode??"up",o=a==="asplayed"?Array.from(this.arpHeld.values()):Array.from(this.arpHeld.values()).sort((y,w)=>y-w),d=Math.max(1,Math.min(4,this.patch.arp?.octaves??1)),p=[],f=this.getArpChordOffsets();for(let y=0;y<d;y++)for(const w of o){const v=w+y*12;for(const m of f){const C=v+m;C<0||C>127||p.push(C)}}if(a==="down")return p.slice().sort((y,w)=>w-y);if(a==="random")return p.slice().sort(()=>Math.random()-.5);if(a==="updown"){const y=p.slice().sort((v,m)=>v-m),w=y.slice().reverse().slice(1,-1);return y.concat(w)}return p}updateArpScheduler(a={}){const{forceRestart:o=!1}=a;if(!!this.patch.arp?.enabled&&this.arpHeld.size>0){const p=o||this.arpTimer==null;if(p&&this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),p){this.arpPhase=0,this.arpRepeatCounter=0;const f=this.getArpStepMs(),y=this.computeArpAlignmentDelay(f);this.scheduleNextArpTick(y)}}else{if(this.arpTimer!=null&&(clearTimeout(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const p=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(p)}finally{this.arpBypass=!1}this.arpLastNote=null}this.arpIndex=0,this.arpRepeatCounter=0}}computeArpAlignmentDelay(a){if(!(a>0))return 0;const d=this.ctx.currentTime*1e3%a;return d<1?0:a-d}scheduleNextArpTick(a){const o=this.getArpStepMs();let d=0;if(this.patch.arp?.bpmSync){const w=this.patch.arp?.division,v=Math.max(0,Math.min(1,this.patch.arp?.swingPct??0));w==="1/8"?d=v:w==="1/16"?d=v*.5:d=0}const p=this.arpPhase===0?1+d*.5:1-d*.5,f=o*p,y=a??f;this.arpCurrentStepMs=f,this.arpTimer=setTimeout(()=>{if(!this.patch.arp?.enabled||this.arpHeld.size===0){this.updateArpScheduler();return}this.arpTick(),this.arpPhase=this.arpPhase?0:1,this.scheduleNextArpTick()},Math.max(0,y))}getArpStepMs(){const a=this.patch.arp;if(a?.bpmSync){const d=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division||"1/8",f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return d*f}else return 1e3/Math.max(.1,a?.rateHz??8)}arpTick(){let a=this.buildArpPool();if(a.length===0){if(this.arpLastNote!=null){const m=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(m)}finally{this.arpBypass=!1}this.arpLastNote=null}return}const o=Math.max(0,this.patch.arp?.patternLen??0);o>0&&a.length>o&&(a=a.slice(0,o)),this.arpIndex>=a.length&&(this.arpIndex=0);const d=a[this.arpIndex++],p=Math.max(1,Math.min(8,this.patch.arp?.repeats??1));this.arpRepeatCounter<p-1?(this.arpIndex=(this.arpIndex-1+a.length)%a.length,this.arpRepeatCounter++):this.arpRepeatCounter=0,this.arpLastNote!=null&&(this.patch.arp?.gate??.6)>=1,this.arpBypass=!0;try{this.noteOn(d)}finally{this.arpBypass=!1}this.arpLastNote=d;const f=this.arpCurrentStepMs||this.getArpStepMs(),y=Math.max(.05,Math.min(1,this.patch.arp?.gate??.6)),w=f*y,v=d;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(v)}finally{this.arpBypass=!1}},w)}getArpStatus(){const a=!!this.patch.arp?.enabled;let o=0,d=0;if(a){const p=this.buildArpPool().length,f=Math.max(0,this.patch.arp?.patternLen??0);if(o=f>0?Math.min(f,p):p,o<=0&&(o=0),o>0){const y=(this.arpIndex-1+o)%o;d=y<0?0:y}}return{enabled:a,stepIndex:d,length:o}}getSeqStepMs(){const a=this.patch.sequencer,d=6e4/Math.max(20,Math.min(300,a.bpm||120)),p=a.division,f=p==="1/4"?1:p==="1/8"?.5:p==="1/8T"?1/3:p==="1/16"?.25:1/6;return d*f}updateSeqScheduler(){const a=this.patch.sequencer;if(!!a.enabled&&!!a.playing)this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqPhase=0,this.seqStepIndex=0,this.scheduleNextSeqTick();else if(this.seqTimer!=null&&(clearTimeout(this.seqTimer),this.seqTimer=null),this.seqLastNote!=null){const d=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(d)}finally{this.arpBypass=!1}this.seqLastNote=null}}scheduleNextSeqTick(){const a=this.getSeqStepMs(),o=this.patch.sequencer?.division;let d=Math.max(0,Math.min(1,this.patch.sequencer?.swingPct??0));o==="1/16"&&(d*=.5),o==="1/8"&&(d=d),(o==="1/4"||o?.endsWith("T"))&&(d=0);const p=this.seqPhase===0?1+d*.5:1-d*.5,f=a*p;this.seqCurrentStepMs=f,this.seqTimer=setTimeout(()=>{if(!this.patch.sequencer?.enabled||!this.patch.sequencer?.playing){this.updateSeqScheduler();return}this.seqTick(),this.seqPhase=this.seqPhase?0:1,this.scheduleNextSeqTick()},f)}seqTick(){const a=this.patch.sequencer,o=Math.max(1,Math.min(a.steps.length,a.length)),d=this.seqStepIndex%o,p=a.steps[d]||{on:!1,offset:0};if(this.seqStepIndex=(this.seqStepIndex+1)%o,this.seqLastNote!=null&&(a.gate??.6)>=1){const f=this.seqLastNote;this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}this.seqLastNote=null}if(p.on){const f=Math.round((a.rootMidi||60)+(p.offset||0));this.arpBypass=!0;try{this.noteOn(f)}finally{this.arpBypass=!1}this.seqLastNote=f;const y=Math.max(.05,Math.min(1,a.gate??.6)),w=(this.seqCurrentStepMs||this.getSeqStepMs())*y;setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(f)}finally{this.arpBypass=!1}},w)}}getSequencerStatus(){const a=this.patch.sequencer,o=!!a.enabled&&!!a.playing,d=Math.max(0,Math.min(a.steps.length,a.length)),p=o&&d>0?(this.seqStepIndex+d-1)%d:0;return{enabled:o,stepIndex:p,length:d}}previewNote(a,o=150){this.arpBypass=!0;try{this.noteOn(a)}finally{this.arpBypass=!1}setTimeout(()=>{this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}},Math.max(20,o))}noteOn(a){if(this.patch.arp?.enabled&&!this.arpBypass){this.arpHeld.add(a),this.updateArpScheduler();return}const o=440*Math.pow(2,(a-69)/12),d=this.makeVoice(o);this.activeVoices.set(a,d)}noteOff(a){if(this.patch.arp?.enabled&&!this.arpBypass){if(this.patch.arp?.latch||(this.arpHeld.delete(a),this.arpHeld.size===0&&this.updateArpScheduler()),this.arpLastNote===a){const d=this.activeVoices.get(a);d&&d.stop(this.ctx.currentTime),this.activeVoices.delete(a),this.arpLastNote===a&&(this.arpLastNote=null)}return}const o=this.activeVoices.get(a);o&&(o.stop(this.ctx.currentTime),this.activeVoices.delete(a))}arpClear(){if(this.arpHeld.clear(),this.arpIndex=0,this.arpTimer!=null&&(clearInterval(this.arpTimer),this.arpTimer=null),this.arpLastNote!=null){const a=this.arpLastNote;this.arpBypass=!0;try{this.noteOff(a)}finally{this.arpBypass=!1}this.arpLastNote=null}}}const Pf={},lc=u=>{let a;const o=new Set,d=(C,P)=>{const N=typeof C=="function"?C(a):C;if(!Object.is(N,a)){const R=a;a=P??(typeof N!="object"||N===null)?N:Object.assign({},a,N),o.forEach(O=>O(a,R))}},p=()=>a,v={setState:d,getState:p,getInitialState:()=>m,subscribe:C=>(o.add(C),()=>o.delete(C)),destroy:()=>{(Pf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},m=a=u(d,p,v);return v},Tf=u=>u?lc(u):lc;var Ji={exports:{}},eo={},to={exports:{}},no={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc;function _f(){if(sc)return no;sc=1;var u=$r();function a(P,N){return P===N&&(P!==0||1/P===1/N)||P!==P&&N!==N}var o=typeof Object.is=="function"?Object.is:a,d=u.useState,p=u.useEffect,f=u.useLayoutEffect,y=u.useDebugValue;function w(P,N){var R=N(),O=d({inst:{value:R,getSnapshot:N}}),T=O[0].inst,E=O[1];return f(function(){T.value=R,T.getSnapshot=N,v(T)&&E({inst:T})},[P,R,N]),p(function(){return v(T)&&E({inst:T}),P(function(){v(T)&&E({inst:T})})},[P]),y(R),R}function v(P){var N=P.getSnapshot;P=P.value;try{var R=N();return!o(P,R)}catch{return!0}}function m(P,N){return N()}var C=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:w;return no.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:C,no}var ic;function Of(){return ic||(ic=1,to.exports=_f()),to.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc;function Lf(){if(oc)return eo;oc=1;var u=$r(),a=Of();function o(m,C){return m===C&&(m!==0||1/m===1/C)||m!==m&&C!==C}var d=typeof Object.is=="function"?Object.is:o,p=a.useSyncExternalStore,f=u.useRef,y=u.useEffect,w=u.useMemo,v=u.useDebugValue;return eo.useSyncExternalStoreWithSelector=function(m,C,P,N,R){var O=f(null);if(O.current===null){var T={hasValue:!1,value:null};O.current=T}else T=O.current;O=w(function(){function L(k){if(!I){if(I=!0,V=k,k=N(k),R!==void 0&&T.hasValue){var z=T.value;if(R(z,k))return b=z}return b=k}if(z=b,d(V,k))return z;var B=N(k);return R!==void 0&&R(z,B)?z:(V=k,b=B)}var I=!1,V,b,K=P===void 0?null:P;return[function(){return L(C())},K===null?void 0:function(){return L(K())}]},[C,P,N,R]);var E=p(m,O[0],O[1]);return y(function(){T.hasValue=!0,T.value=E},[E]),v(E),E},eo}var ac;function Rf(){return ac||(ac=1,Ji.exports=Lf()),Ji.exports}var If=Rf();const Df=gc(If),yc={},{useDebugValue:zf}=Nt,{useSyncExternalStoreWithSelector:Af}=Df;let uc=!1;const Ff=u=>u;function qf(u,a=Ff,o){(yc?"production":void 0)!=="production"&&o&&!uc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uc=!0);const d=Af(u.subscribe,u.getState,u.getServerState||u.getInitialState,a,o);return zf(d),d}const bf=u=>{(yc?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof u=="function"?Tf(u):u,o=(d,p)=>qf(a,d,p);return Object.assign(o,a),o},Bf=u=>bf,Hf={};function Uf(u,a){let o;try{o=u()}catch{return}return{getItem:p=>{var f;const y=v=>v===null?null:JSON.parse(v,void 0),w=(f=o.getItem(p))!=null?f:null;return w instanceof Promise?w.then(y):y(w)},setItem:(p,f)=>o.setItem(p,JSON.stringify(f,void 0)),removeItem:p=>o.removeItem(p)}}const Wr=u=>a=>{try{const o=u(a);return o instanceof Promise?o:{then(d){return Wr(d)(o)},catch(d){return this}}}catch(o){return{then(d){return this},catch(d){return Wr(d)(o)}}}},Vf=(u,a)=>(o,d,p)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,L)=>({...L,...E}),...a},y=!1;const w=new Set,v=new Set;let m;try{m=f.getStorage()}catch{}if(!m)return u((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...E)},d,p);const C=Wr(f.serialize),P=()=>{const E=f.partialize({...d()});let L;const I=C({state:E,version:f.version}).then(V=>m.setItem(f.name,V)).catch(V=>{L=V});if(L)throw L;return I},N=p.setState;p.setState=(E,L)=>{N(E,L),P()};const R=u((...E)=>{o(...E),P()},d,p);let O;const T=()=>{var E;if(!m)return;y=!1,w.forEach(I=>I(d()));const L=((E=f.onRehydrateStorage)==null?void 0:E.call(f,d()))||void 0;return Wr(m.getItem.bind(m))(f.name).then(I=>{if(I)return f.deserialize(I)}).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==f.version){if(f.migrate)return f.migrate(I.state,I.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return I.state}).then(I=>{var V;return O=f.merge(I,(V=d())!=null?V:R),o(O,!0),P()}).then(()=>{L?.(O,void 0),y=!0,v.forEach(I=>I(O))}).catch(I=>{L?.(void 0,I)})};return p.persist={setOptions:E=>{f={...f,...E},E.getStorage&&(m=E.getStorage())},clearStorage:()=>{m?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>T(),hasHydrated:()=>y,onHydrate:E=>(w.add(E),()=>{w.delete(E)}),onFinishHydration:E=>(v.add(E),()=>{v.delete(E)})},T(),O||R},Wf=(u,a)=>(o,d,p)=>{let f={storage:Uf(()=>localStorage),partialize:T=>T,version:0,merge:(T,E)=>({...E,...T}),...a},y=!1;const w=new Set,v=new Set;let m=f.storage;if(!m)return u((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...T)},d,p);const C=()=>{const T=f.partialize({...d()});return m.setItem(f.name,{state:T,version:f.version})},P=p.setState;p.setState=(T,E)=>{P(T,E),C()};const N=u((...T)=>{o(...T),C()},d,p);p.getInitialState=()=>N;let R;const O=()=>{var T,E;if(!m)return;y=!1,w.forEach(I=>{var V;return I((V=d())!=null?V:N)});const L=((E=f.onRehydrateStorage)==null?void 0:E.call(f,(T=d())!=null?T:N))||void 0;return Wr(m.getItem.bind(m))(f.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==f.version){if(f.migrate)return[!0,f.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var V;const[b,K]=I;if(R=f.merge(K,(V=d())!=null?V:N),o(R,!0),b)return C()}).then(()=>{L?.(R,void 0),R=d(),y=!0,v.forEach(I=>I(R))}).catch(I=>{L?.(void 0,I)})};return p.persist={setOptions:T=>{f={...f,...T},T.storage&&(m=T.storage)},clearStorage:()=>{m?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>O(),hasHydrated:()=>y,onHydrate:T=>(w.add(T),()=>{w.delete(T)}),onFinishHydration:T=>(v.add(T),()=>{v.delete(T)})},f.skipHydration||O(),R||N},$f=(u,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((Hf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Vf(u,a)):Wf(u,a),Gf=$f,ee=Bf()(Gf((u,a)=>({engine:null,patch:W,layoutOrder:[],tempo:110,transport:{tempo:110,playing:!1,tick:0},midi:{supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]},setEngine:o=>u({engine:o}),updatePatch:o=>{const d={...a().patch,...o,osc1:{...a().patch.osc1,...o.osc1},osc2:{...a().patch.osc2,...o.osc2},fm:{...a().patch.fm,...o.fm},sub:{...a().patch.sub,...o.sub},ring:{...a().patch.ring,...o.ring},filter:{...a().patch.filter,...o.filter},envelope:{...a().patch.envelope,...o.envelope},master:{...a().patch.master,...o.master},macro:{...a().patch.macro||W.macro,...o.macro},effects:{...a().patch.effects||W.effects,...o.effects},lfo1:{...a().patch.lfo1||W.lfo1,...o.lfo1},lfo2:{...a().patch.lfo2||W.lfo2,...o.lfo2},arp:{...a().patch.arp||W.arp,...o.arp},sequencer:{...a().patch.sequencer||W.sequencer,...o.sequencer},mix:o.mix!=null?o.mix:a().patch.mix,expression:{...a().patch.expression||W.expression,...o.expression}};a().engine?.applyPatch(o),u({patch:d})},setLayoutOrder:o=>u({layoutOrder:o}),setTempo:o=>u(d=>({tempo:o,transport:{...d.transport,tempo:o}})),setTransportPlaying:o=>u(d=>({transport:{...d.transport,playing:o,tick:0}})),bumpTransportTick:()=>u(o=>({transport:{...o.transport,tick:o.transport.tick+1}})),importPatch:o=>{const d=JSON.parse(o),p={...a().patch,...d,osc1:{...a().patch.osc1,...d.osc1},osc2:{...a().patch.osc2,...d.osc2},fm:{...a().patch.fm,...d.fm},sub:{...a().patch.sub,...d.sub},ring:{...a().patch.ring,...d.ring},filter:{...a().patch.filter,...d.filter},envelope:{...a().patch.envelope,...d.envelope},master:{...a().patch.master,...d.master},macro:{...a().patch.macro||W.macro,...d.macro},effects:{...a().patch.effects||W.effects,...d.effects},lfo1:{...a().patch.lfo1||W.lfo1,...d.lfo1},lfo2:{...a().patch.lfo2||W.lfo2,...d.lfo2},arp:{...a().patch.arp||W.arp,...d.arp},sequencer:{...a().patch.sequencer||W.sequencer,...d.sequencer},mix:d.mix!=null?d.mix:a().patch.mix,expression:{...a().patch.expression||W.expression,...d.expression}};a().engine?.applyPatch(p),u({patch:p})},exportPatch:()=>JSON.stringify(a().patch,null,2),setMidiSupported:o=>u(d=>({midi:{...d.midi,supported:o}})),setMidiStatus:(o,d=null)=>u(p=>({midi:{...p.midi,status:o,lastError:d}})),setMidiEnabled:o=>u(d=>({midi:{...d.midi,enabled:o}})),setMidiInputs:o=>u(d=>({midi:{...d.midi,inputs:o}})),setMidiSelectedInput:o=>u(d=>({midi:{...d.midi,selectedInputId:o}})),setMidiActiveNotes:o=>u(d=>({midi:{...d.midi,activeNotes:o}}))}),{name:"websynth-patch",partialize:u=>({patch:{...u.patch,sequencer:u.patch.sequencer?{...u.patch.sequencer,playing:!1}:u.patch.sequencer,arp:u.patch.arp?{...u.patch.arp,bpmSync:u.patch.arp.bpmSync??!0}:u.patch.arp},layoutOrder:u.layoutOrder,tempo:u.tempo,transport:{tempo:u.transport.tempo,playing:!1,tick:0},midi:{enabled:u.midi.enabled,selectedInputId:u.midi.selectedInputId}}),version:8,migrate:(u,a)=>{const o=u?.patch;if(!o)return u;const d={...W,...o,osc1:{...W.osc1,...o.osc1||{}},osc2:{...W.osc2,...o.osc2||{}},fm:{...W.fm,...o.fm||{}},sub:{...W.sub,...o.sub||{}},ring:{...W.ring,...o.ring||{}},filter:{...W.filter,...o.filter||{}},envelope:{...W.envelope,...o.envelope||{}},master:{...W.master,...o.master||{}},macro:{...W.macro,...o.macro||{}},effects:{...W.effects,...o.effects||{}},lfo1:{...W.lfo1,...o.lfo1||{}},lfo2:{...W.lfo2,...o.lfo2||{}},arp:{...W.arp,...o.arp||{}},sequencer:{...W.sequencer,...o.sequencer||{}},mix:typeof o.mix=="number"?o.mix:W.mix,expression:{...W.expression,...o.expression||{}}},p=Array.isArray(u?.layoutOrder)?u.layoutOrder.filter(C=>typeof C=="string"):[],f=typeof u?.tempo=="number"?u.tempo:110,y=u?.transport,w=y?{tempo:y.tempo??f,playing:!1,tick:0}:{tempo:f,playing:!1,tick:0},v=u?.midi,m={supported:null,status:"idle",enabled:v?.enabled??!1,inputs:[],selectedInputId:v?.selectedInputId??null,lastError:null,activeNotes:[]};return{...u,patch:d,layoutOrder:p,tempo:f,transport:w,midi:m}},onRehydrateStorage:()=>u=>{u&&(u.engine=null,Array.isArray(u.layoutOrder)||(u.layoutOrder=[]),typeof u.tempo!="number"&&(u.tempo=110),u.transport||(u.transport={tempo:u.tempo,playing:!1,tick:0}),u.midi?u.midi={supported:null,status:"idle",enabled:!!u.midi.enabled,inputs:[],selectedInputId:u.midi.selectedInputId??null,lastError:null,activeNotes:[]}:u.midi={supported:null,status:"idle",enabled:!1,inputs:[],selectedInputId:null,lastError:null,activeNotes:[]})}}));function Ge({value:u,min:a,max:o,step:d=.01,size:p=56,label:f,onChange:y,disabled:w=!1}){const[v,m]=Z.useState(!1),C=Z.useRef(null),P=Z.useCallback(B=>Math.min(o,Math.max(a,B)),[a,o]),N=o-a,R=N===0?0:(u-a)/N,O=Z.useMemo(()=>-135+R*270,[R]),T=B=>{w||(B.target.setPointerCapture(B.pointerId),C.current={y:B.clientY,v:u},m(!0))},E=B=>{if(!C.current||w)return;const ie=(C.current.y-B.clientY)/150*N,Me=P(C.current.v+ie);y(ro(Me,d))},L=B=>{w||(B.target.releasePointerCapture(B.pointerId),C.current=null,m(!1))},I=B=>{if(w)return;const G=d;(B.key==="ArrowUp"||B.key==="ArrowRight")&&y(P(ro(u+G,G))),(B.key==="ArrowDown"||B.key==="ArrowLeft")&&y(P(ro(u-G,G)))},V=p/2-6,b=p/2,K=p/2,k=b+Math.cos(O*Math.PI/180)*(V-6),z=K+Math.sin(O*Math.PI/180)*(V-6);return s.jsxs("div",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:6,opacity:w?.4:1,pointerEvents:w?"none":"auto"},children:[s.jsxs("svg",{width:p,height:p,onPointerDown:T,onPointerMove:E,onPointerUp:L,onKeyDown:I,role:"slider","aria-label":f,"aria-valuemin":a,"aria-valuemax":o,"aria-valuenow":u,tabIndex:w?-1:0,style:{cursor:w?"default":"ns-resize",outline:v?"1px solid var(--accent)":"none",borderRadius:8},children:[s.jsx("circle",{cx:b,cy:K,r:V,fill:"#0f1217",stroke:"#2a3040"}),s.jsx("circle",{cx:b,cy:K,r:V-8,fill:"#161a22",stroke:"#202635"}),s.jsx("line",{x1:b,y1:K,x2:k,y2:z,stroke:"var(--accent)",strokeWidth:3,strokeLinecap:"round"})]}),f&&s.jsxs("div",{style:{display:"flex",gap:6,alignItems:"baseline"},children:[s.jsx("span",{className:"label",children:f}),s.jsx("span",{className:"value",children:Qf(u)})]})]})}function ro(u,a){const o=1/a;return Math.round(u*o)/o}function Qf(u){return Math.abs(u)>=100?u.toFixed(0):Math.abs(u)>=10?u.toFixed(1):u.toFixed(2)}function yt({value:u,min:a,max:o,step:d=.01,label:p,onChange:f,disabled:y=!1,format:w}){return s.jsxs("label",{style:{display:"grid",gap:6,opacity:y?.6:1},children:[p&&s.jsx("span",{className:"label",children:p}),s.jsx("input",{type:"range",min:a,max:o,step:d,value:u,onChange:v=>f(Number(v.target.value)),disabled:y}),s.jsx("span",{className:"value",children:w?w(u):u.toFixed(2)})]})}function Kf(){const u=ee(f=>f.patch),a=ee(f=>f.updatePatch),o=u.engineMode??"classic",d=f=>a({engineMode:f}),p=f=>{const y=u.macro??W.macro;a({macro:{...y,...f}})};return o==="macro"?s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:o,onChange:f=>d(f.target.value),children:[s.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),s.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Model"}),s.jsxs("select",{value:u.macro?.model??"va",onChange:f=>p({model:f.target.value}),children:[s.jsx("option",{value:"va",children:"VA (analog blend)"}),s.jsx("option",{value:"fold",children:"Wavefolder"}),s.jsx("option",{value:"pluck",children:"Pluck (KarplusStrong)"}),s.jsx("option",{value:"supersaw",children:"SuperSaw"}),s.jsx("option",{value:"pwm",children:"PWM"}),s.jsx("option",{value:"fm2op",children:"FM 2-Op"}),s.jsx("option",{value:"wavetable",children:"Wavetable (blend)"}),s.jsx("option",{value:"harmonic",children:"Harmonic (additive)"}),s.jsx("option",{value:"chord",children:"Chord (stack)"})]})]}),s.jsx(yt,{label:"Harmonics",min:0,max:1,step:.001,value:u.macro?.harmonics??.6,onChange:f=>p({harmonics:f})}),s.jsx(yt,{label:"Timbre",min:0,max:1,step:.001,value:u.macro?.timbre??.5,onChange:f=>p({timbre:f})}),s.jsx(yt,{label:"Morph",min:0,max:1,step:.001,value:u.macro?.morph??.5,onChange:f=>p({morph:f})}),s.jsx(yt,{label:"Level",min:0,max:1,step:.001,value:u.macro?.level??1,onChange:f=>p({level:f})})]}):s.jsxs("div",{className:"controls-grid",children:[s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:o,onChange:f=>d(f.target.value),children:[s.jsx("option",{value:"classic",children:"Classic (Osc 1 + Osc 2)"}),s.jsx("option",{value:"macro",children:"Macro (Plaits/MF-like)"})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 1"}),s.jsx("div",{style:{fontSize:12,color:"var(--muted)",letterSpacing:"0.06em",textTransform:"uppercase"},children:"Osc 2"}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Wave"}),s.jsxs("select",{value:u.osc1.wave,onChange:f=>a({osc1:{...u.osc1,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"noise",children:"Noise"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Wave"}),s.jsxs("select",{value:u.osc2.wave,onChange:f=>a({osc2:{...u.osc2,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"noise",children:"Noise"})]})]}),s.jsxs("div",{className:"osc-knob-row",style:{gridColumn:"1 / 2"},children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Detune"}),s.jsx(Ge,{label:void 0,min:-1200,max:1200,step:1,value:u.osc1.detune,onChange:f=>a({osc1:{...u.osc1,detune:f}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Fine %"}),s.jsx(Ge,{label:void 0,min:-100,max:100,step:1,value:u.osc1.finePct??0,onChange:f=>a({osc1:{...u.osc1,finePct:f}})})]})]}),s.jsx("div",{className:"osc-knob-row",style:{gridColumn:"2 / 3",justifyContent:"flex-end"},children:s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Mix"}),s.jsx(Ge,{label:void 0,min:0,max:1,step:.01,value:u.mix,onChange:f=>a({mix:f})})]})}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"auto 1fr 1fr",gap:12,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[s.jsx("input",{type:"checkbox",checked:u.fm?.enabled??!1,onChange:f=>a({fm:{...u.fm,enabled:f.target.checked}})}),s.jsx("span",{className:"label",children:"FM"})]}),s.jsx(yt,{label:"Ratio",min:.1,max:8,step:.1,value:u.fm?.ratio??2,onChange:f=>a({fm:{...u.fm,ratio:f}}),disabled:!(u.fm?.enabled??!1)}),s.jsx(yt,{label:"Amount (Hz)",min:0,max:1e3,step:1,value:u.fm?.amount??0,onChange:f=>a({fm:{...u.fm,amount:f}}),disabled:!(u.fm?.enabled??!1)})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"auto 1fr",gap:12,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,minWidth:120},children:[s.jsx("input",{type:"checkbox",checked:u.ring?.enabled??!1,onChange:f=>a({ring:{...u.ring,enabled:f.target.checked}})}),s.jsx("span",{className:"label",children:"Ring"})]}),s.jsx(yt,{label:"Amount",min:0,max:1,step:.01,value:u.ring?.amount??1,onChange:f=>a({ring:{...u.ring,amount:f}}),disabled:!(u.ring?.enabled??!1)})]})]})}function Xf(){const u=ee(p=>p.patch),a=ee(p=>p.updatePatch),o=p=>{a({filter:{...u.filter,...p}})},d=u.master.gain;return s.jsxs("div",{className:"filter-panel",children:[s.jsxs("label",{className:"filter-type",children:[s.jsx("span",{className:"label",children:"Filter Type"}),s.jsxs("select",{value:u.filter.type,onChange:p=>o({type:p.target.value}),children:[s.jsx("option",{value:"lowpass",children:"Low-pass"}),s.jsx("option",{value:"highpass",children:"High-pass"}),s.jsx("option",{value:"bandpass",children:"Band-pass"}),s.jsx("option",{value:"notch",children:"Notch"})]})]}),s.jsxs("div",{className:"filter-knobs",children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Cutoff"}),s.jsx(Ge,{label:void 0,min:40,max:8e3,step:10,value:u.filter.cutoff,onChange:p=>o({cutoff:p})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Resonance"}),s.jsx(Ge,{label:void 0,min:.1,max:10,step:.1,value:u.filter.q,onChange:p=>o({q:p})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Master"}),s.jsx(Ge,{label:void 0,min:0,max:1,step:.01,value:d,onChange:p=>a({master:{...u.master,gain:p}})})]})]})]})}function Yf(){const u=ee(d=>d.patch),a=ee(d=>d.updatePatch),o=u.envelope;return s.jsx("div",{className:"envelope-panel",children:s.jsxs("div",{className:"envelope-knobs",children:[s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Attack"}),s.jsx(Ge,{label:void 0,min:0,max:2,step:.01,value:o.attack,onChange:d=>a({envelope:{...o,attack:d}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Decay"}),s.jsx(Ge,{label:void 0,min:0,max:2,step:.01,value:o.decay,onChange:d=>a({envelope:{...o,decay:d}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Sustain"}),s.jsx(Ge,{label:void 0,min:0,max:1,step:.01,value:o.sustain,onChange:d=>a({envelope:{...o,sustain:d}})})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Release"}),s.jsx(Ge,{label:void 0,min:0,max:3,step:.01,value:o.release,onChange:d=>a({envelope:{...o,release:d}})})]})]})})}const Zf=[0,2,4,5,7,9,11],Jf={0:1,1:3,2:null,3:6,4:8,5:10,6:null};function ep(u,a=60){const o=Math.floor(u/7),d=Zf[u%7];return a+o*12+d}function tp(u,a=60){const o=Math.floor(u/7),d=Jf[u%7];return d==null?null:a+o*12+d}const oo={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},cc=Object.fromEntries(Object.entries(oo).map(([u,a])=>[a,u.length===1?u.toUpperCase():u]));function np(){const u=ee(b=>b.engine),a=ee(b=>b.midi.activeNotes),[o,d]=Z.useState(()=>new Set),[p,f]=Z.useState(60),y=Z.useRef(new Map),w=Z.useMemo(()=>{const b=new Set(o);for(const K of a)b.add(K);return b},[o,a]),v=b=>{u?.noteOn(b),d(K=>new Set(K).add(b))},m=b=>{u?.noteOff(b),d(K=>{const k=new Set(K);return k.delete(b),k})};Z.useEffect(()=>{const b=new Set,K=B=>B.length===1?B.toLowerCase():B,k=B=>{if(B.repeat)return;const G=K(B.key);if(G==="z"){f(Ne=>Math.max(24,Ne-12));return}if(G==="x"){f(Ne=>Math.min(96,Ne+12));return}const ie=oo[G],Me=ie!=null?p+ie:void 0;Me!=null&&!b.has(G)&&(b.add(G),v(Me))},z=B=>{const G=K(B.key),ie=oo[G],Me=ie!=null?p+ie:void 0;Me!=null&&(b.delete(G),m(Me))};return window.addEventListener("keydown",k),window.addEventListener("keyup",z),()=>{window.removeEventListener("keydown",k),window.removeEventListener("keyup",z)}},[u,p]);const C=14,P=Z.useMemo(()=>Array.from({length:C},(b,K)=>ep(K,p)),[C,p]),N=28,O=N+2,T=Math.floor(p/12)-1,E=T-4,L=(b,K)=>{b.currentTarget.setPointerCapture(b.pointerId),b.preventDefault(),y.current.set(b.pointerId,K),v(K)},I=b=>{if(!y.current.has(b.pointerId))return;const K=y.current.get(b.pointerId),z=document.elementFromPoint(b.clientX,b.clientY)?.dataset?.midi,B=z!=null?Number(z):void 0;if(B==null){K!=null&&(m(K),y.current.delete(b.pointerId));return}B!==K&&(K!=null&&m(K),y.current.set(b.pointerId,B),v(B))},V=b=>{const K=y.current.get(b.pointerId);K!=null&&(m(K),y.current.delete(b.pointerId))};return s.jsxs("div",{className:"keyboard",children:[s.jsx("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between"},children:s.jsxs("div",{className:"octave-indicator",children:[s.jsx("span",{className:"badge",children:"Octave"}),s.jsxs("span",{className:"value",style:{color:E===0?"var(--text)":"var(--accent)"},children:[T," ",E!==0?`(${E>0?"+":""}${E})`:""]})]})}),s.jsxs("div",{className:"keys-and-help",children:[s.jsxs("div",{className:"keys-row",style:{touchAction:"none"},children:[P.map((b,K)=>s.jsx("div",{className:"key",style:{background:w.has(b)?"#d1d5db":"#f8fafc"},"data-midi":b,onPointerDown:k=>L(k,b),onPointerMove:I,onPointerUp:V,onPointerCancel:V,children:s.jsx("span",{className:"key-label",children:cc[b-p]??""})},K)),Array.from({length:C}).map((b,K)=>{const k=tp(K,p);if(k==null)return null;const z=K*O+Math.floor(N*.7);return s.jsx("div",{className:"key black",style:{left:z,background:w.has(k)?"#111827":"#0b0f16"},"data-midi":k,onPointerDown:B=>L(B,k),onPointerMove:I,onPointerUp:V,onPointerCancel:V,children:s.jsx("span",{className:"key-label",children:cc[k-p]??""})},`b-${K}`)})]}),s.jsxs("div",{className:"kbd-help",children:[s.jsx("div",{className:"badge",style:{alignSelf:"flex-start"},children:"Octave shift"}),s.jsxs("div",{className:"kbd-row",children:[s.jsx("span",{className:"kbd",children:"Z"}),s.jsx("span",{className:"hint-text",children:"down"})]}),s.jsxs("div",{className:"kbd-row",children:[s.jsx("span",{className:"kbd",children:"X"}),s.jsx("span",{className:"hint-text",children:"up"})]})]})]})]})}const Ur={highPct:2,lowPct:2,windowPct:25,holdOff:3,corrRefresh:.5};function rp(){const u=ee(P=>P.engine),a=Z.useRef(null),o=Z.useRef(),d=Z.useRef(0),p=Z.useRef(0),f=Z.useRef(0),y=Z.useRef(0),w=Z.useRef(null),v=Z.useRef(128),[m,C]=Z.useState(4096);return Z.useEffect(()=>{const P=a.current;if(!P||!u||typeof u.getAnalyser!="function")return;const N=P.getContext("2d"),R=u.getAnalyser();R.fftSize=m,R.smoothingTimeConstant=0;const O=()=>{const T=u.getWaveform,E=typeof T=="function"?T.call(u):new Uint8Array(R.fftSize),L=window.devicePixelRatio||1,I=P.clientWidth||600,V=P.clientHeight||160,b=Math.floor(I*L),K=Math.floor(V*L);(P.width!==b||P.height!==K)&&(P.width=b,P.height=K);const k=P.width,z=P.height;N.clearRect(0,0,k,z),N.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-bg")||"#05070b",N.fillRect(0,0,k,z),N.save(),N.strokeStyle="rgba(255,255,255,0.06)",N.lineWidth=1,N.beginPath(),N.moveTo(0,z/2),N.lineTo(k,z/2),N.stroke();const B=6;for(let ue=1;ue<B;ue++){const ve=ue*k/B;N.beginPath(),N.moveTo(ve,0),N.lineTo(ve,z),N.stroke()}N.restore();const G=E.length,ie=new Float32Array(G);let Me=0;for(let ue=0;ue<G;ue++)Me+=E[ue];Me/=G;let Ne=0;for(let ue=0;ue<G;ue++){const ve=(E[ue]-Me)/128;ie[ue]=ve,Ne+=ve*ve}let _e=d.current||0;if(Ne>.001){const ue=Math.max(.001,Ur.highPct/100),ve=-Math.max(.001,Ur.lowPct/100);let U=!1;const te=[];for(let oe=1;oe<G;oe++){const be=ie[oe-1],ze=ie[oe];!U&&be<ve&&(U=!0),U&&be<ue&&ze>=ue&&(te.push(oe),U=!1)}if(te.length>=2){const oe=[];for(let ke=1;ke<te.length;ke++)oe.push(te[ke]-te[ke-1]);oe.sort((ke,ft)=>ke-ft);const be=oe[Math.floor(oe.length/2)];let ze=0,Ye=0;for(const ke of oe)Math.abs(ke-be)<=.2*be&&(ze+=ke,Ye++);const Pt=Ye>0?ze/Ye:be,Zt=f.current||Pt,Jt=Math.max(6,Math.min(G,Zt*.6+Pt*.4));f.current=Jt;const rr=((d.current||te[0])+Jt)%G,lr=Math.max(6,Math.floor(Ur.windowPct/100*Jt)),wt=[];for(const ke of te)Math.abs(ke-rr)<=lr&&wt.push(ke);wt.length===0&&wt.push(Math.round(rr));const Oe=Math.max(32,Math.min(256,Math.floor(Jt)));if(v.current=Oe,!w.current){const ke=new Float32Array(Oe);for(let he=0;he<Oe;he++)ke[he]=ie[(wt[0]+he)%G];let ft=0;for(let he=0;he<Oe;he++)ft+=ke[he];ft/=Oe;let Ut=0;for(let he=0;he<Oe;he++)ke[he]=ke[he]-ft,Ut+=ke[he]*ke[he];Ut=Math.sqrt(Math.max(Ut,1e-12));for(let he=0;he<Oe;he++)ke[he]/=Ut;w.current=ke}{let ke=wt[0],ft=-1/0;const Ut=w.current;for(const he of wt){let Tt=0;for(let nt=0;nt<Oe;nt++)Tt+=ie[(he+nt)%G];Tt/=Oe;let pt=0,je=0;for(let nt=0;nt<Oe;nt++){const At=ie[(he+nt)%G]-Tt;pt+=At*At}pt=Math.sqrt(Math.max(pt,1e-12));for(let nt=0;nt<Oe;nt++){const At=(ie[(he+nt)%G]-Tt)/pt;je+=At*Ut[nt]}je>ft&&(ft=je,ke=he)}if(_e=ke,ft<Ur.corrRefresh){const he=new Float32Array(Oe);for(let je=0;je<Oe;je++)he[je]=ie[(_e+je)%G];let Tt=0;for(let je=0;je<Oe;je++)Tt+=he[je];Tt/=Oe;let pt=0;for(let je=0;je<Oe;je++)he[je]=he[je]-Tt,pt+=he[je]*he[je];pt=Math.sqrt(Math.max(pt,1e-12));for(let je=0;je<Oe;je++)he[je]/=pt;w.current=he}}}else if(te.length===1)_e=te[0];else{let oe=0,be=0;for(let ze=1;ze<G;ze++){const Ye=ie[ze]-ie[ze-1];Ye>oe&&(oe=Ye,be=ze)}_e=be}const $=d.current||0,S=f.current||0,D=S?($+S)%G:$,ae=Math.abs(_e-D);if(S&&ae>.6*S||y.current>=Ur.holdOff){const oe=Math.round($*.4+_e*.6);d.current=oe,y.current=0}else y.current+=1;let pe=d.current;const me=12;for(let oe=-me;oe<=me;oe++){const be=(pe+oe+G)%G,ze=(be+1)%G,Ye=ie[be],Pt=ie[ze];if(Ye<ue&&Pt>=ue){const Zt=(ue-Ye)/Math.max(Pt-Ye,1e-6);pe=be+Zt;break}}p.current=pe;const ge=v.current,de=new Float32Array(ge);for(let oe=0;oe<ge;oe++){const be=(pe+oe)%G,ze=Math.floor(be),Ye=(ze+1)%G,Pt=be-ze,Zt=ie[ze]*(1-Pt)+ie[Ye]*Pt;de[oe]=Zt}let Se=0;for(let oe=0;oe<ge;oe++)Se+=de[oe];Se/=ge;let Ue=0;for(let oe=0;oe<ge;oe++)de[oe]=de[oe]-Se,Ue+=de[oe]*de[oe];Ue=Math.sqrt(Math.max(Ue,1e-12));for(let oe=0;oe<ge;oe++)de[oe]/=Ue;w.current=de}const dt=p.current||d.current||0,xt=k/G;N.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--viz-stroke")||"#00ffd5",N.lineWidth=2,N.shadowColor=N.strokeStyle,N.shadowBlur=8,N.beginPath();for(let ue=0;ue<G;ue++){const ve=(ue+dt)%G,U=Math.floor(ve),te=(U+1)%G,$=ve-U,D=((ie[U]*(1-$)+ie[te]*$)*.5+.5)*z,ae=ue*xt;ue===0?N.moveTo(ae,D):N.lineTo(ae,D)}N.stroke(),N.shadowBlur=0,o.current=requestAnimationFrame(O)};return o.current=requestAnimationFrame(O),()=>{o.current&&cancelAnimationFrame(o.current)}},[u,m]),s.jsxs("div",{children:[s.jsx("canvas",{ref:a,width:600,height:300,style:{width:"100%",height:300,borderRadius:8,border:"1px solid #222631"}}),s.jsx("div",{className:"row",style:{marginTop:8,gap:12,alignItems:"center"},children:s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"FFT Size"}),s.jsxs("select",{value:m,onChange:P=>C(Number(P.target.value)),children:[s.jsx("option",{value:1024,children:"1024"}),s.jsx("option",{value:2048,children:"2048"}),s.jsx("option",{value:4096,children:"4096"}),s.jsx("option",{value:8192,children:"8192"})]})]})})]})}function lp(){const u=ee(d=>d.patch),a=ee(d=>d.updatePatch),o=u.effects??{delay:{enabled:!1,time:.25,feedback:.3,mix:.2},reverb:{enabled:!1,size:.5,decay:.5,mix:.25}};return s.jsxs("div",{className:"effects-panel",children:[s.jsxs("div",{className:"effects-row",children:[s.jsx("div",{className:"effects-heading",children:"Delay"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o.delay.enabled,onChange:d=>a({effects:{...o,delay:{...o.delay,enabled:d.target.checked}}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("div",{className:"effects-knobs",children:[s.jsx(Ge,{label:"Time",min:0,max:1.5,step:.01,value:o.delay.time,onChange:d=>a({effects:{...o,delay:{...o.delay,time:d}}}),disabled:!o.delay.enabled}),s.jsx(Ge,{label:"Feedback",min:0,max:.95,step:.01,value:o.delay.feedback,onChange:d=>a({effects:{...o,delay:{...o.delay,feedback:d}}}),disabled:!o.delay.enabled}),s.jsx(Ge,{label:"Mix",min:0,max:1,step:.01,value:o.delay.mix,onChange:d=>a({effects:{...o,delay:{...o.delay,mix:d}}}),disabled:!o.delay.enabled})]})]}),s.jsxs("div",{className:"effects-row",style:{marginTop:12},children:[s.jsx("div",{className:"effects-heading",children:"Reverb"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o.reverb.enabled,onChange:d=>a({effects:{...o,reverb:{...o.reverb,enabled:d.target.checked}}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("div",{className:"effects-knobs",children:[s.jsx(Ge,{label:"Size",min:0,max:1,step:.01,value:o.reverb.size,onChange:d=>a({effects:{...o,reverb:{...o.reverb,size:d}}}),disabled:!o.reverb.enabled}),s.jsx(Ge,{label:"Decay",min:0,max:1,step:.01,value:o.reverb.decay,onChange:d=>a({effects:{...o,reverb:{...o.reverb,decay:d}}}),disabled:!o.reverb.enabled}),s.jsx(Ge,{label:"Mix",min:0,max:1,step:.01,value:o.reverb.mix,onChange:d=>a({effects:{...o,reverb:{...o.reverb,mix:d}}}),disabled:!o.reverb.enabled})]})]})]})}function dc({idx:u}){const a=ee(f=>f.patch),o=ee(f=>f.updatePatch),d=u===1?"lfo1":"lfo2",p=a[d]||{enabled:!1,wave:"sine",rateHz:5,amount:.2,dest:"pitch"};return s.jsxs("div",{className:"lfo-row",children:[s.jsxs("label",{className:"lfo-toggle",children:[s.jsx("input",{type:"checkbox",checked:p.enabled,onChange:f=>o({[d]:{...p,enabled:f.target.checked}})}),s.jsxs("span",{className:"label",children:["LFO ",u]})]}),s.jsxs("label",{className:"lfo-select",children:[s.jsx("span",{className:"label",children:"Wave"}),s.jsxs("select",{value:p.wave,onChange:f=>o({[d]:{...p,wave:f.target.value}}),children:[s.jsx("option",{value:"sine",children:"Sine"}),s.jsx("option",{value:"triangle",children:"Triangle"}),s.jsx("option",{value:"square",children:"Square"}),s.jsx("option",{value:"sawtooth",children:"Saw"})]})]}),s.jsxs("label",{className:"lfo-select",children:[s.jsx("span",{className:"label",children:"Dest"}),s.jsxs("select",{value:p.dest,onChange:f=>o({[d]:{...p,dest:f.target.value}}),children:[s.jsx("option",{value:"pitch",children:"Pitch"}),s.jsx("option",{value:"filter",children:"Filter"}),s.jsx("option",{value:"amp",children:"Amp"})]})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Rate"}),s.jsx(Ge,{label:void 0,min:.01,max:20,step:.01,value:p.rateHz,onChange:f=>o({[d]:{...p,rateHz:f}}),disabled:!p.enabled})]}),s.jsxs("div",{className:"knob-group",children:[s.jsx("span",{className:"label",children:"Amount"}),s.jsx(Ge,{label:void 0,min:0,max:1,step:.01,value:p.amount,onChange:f=>o({[d]:{...p,amount:f}}),disabled:!p.enabled})]})]})}function sp(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx(dc,{idx:1}),s.jsx(dc,{idx:2})]})}function ip(){const u=ee(m=>m.patch),a=ee(m=>m.updatePatch),o=ee(m=>m.engine),d=ee(m=>m.transport.tempo),p=ee(m=>m.setTempo),f=u.arp??W.arp,[y,w]=Nt.useState({enabled:!1,stepIndex:0,length:0}),v=m=>{a({arp:{...f,...m}})};return Nt.useEffect(()=>{if(!o)return;const m=setInterval(()=>{const C=o.getArpStatus?.();C&&w(C)},120);return()=>clearInterval(m)},[o]),s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:f.enabled,onChange:m=>a({arp:{...f,enabled:m.target.checked}})}),s.jsx("span",{className:"label",children:"Enabled"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:f.latch||!1,onChange:m=>a({arp:{...f,latch:m.target.checked}}),disabled:!f.enabled}),s.jsx("span",{className:"label",children:"Latch"})]}),s.jsx("button",{onClick:()=>o?.arpClear(),disabled:!f.enabled,style:{justifySelf:"start",alignSelf:"end",padding:"6px 10px",fontSize:12,borderRadius:6,background:"transparent",border:"1px solid var(--border, #2a3040)",color:"var(--text)"},children:"Clear"}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Mode"}),s.jsxs("select",{value:f.mode,onChange:m=>a({arp:{...f,mode:m.target.value}}),disabled:!f.enabled,children:[s.jsx("option",{value:"up",children:"Up"}),s.jsx("option",{value:"down",children:"Down"}),s.jsx("option",{value:"updown",children:"Up-Down"}),s.jsx("option",{value:"random",children:"Random"}),s.jsx("option",{value:"asplayed",children:"As Played"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Octaves"}),s.jsxs("select",{value:f.octaves,onChange:m=>a({arp:{...f,octaves:Number(m.target.value)}}),disabled:!f.enabled,children:[s.jsx("option",{value:1,children:"1"}),s.jsx("option",{value:2,children:"2"}),s.jsx("option",{value:3,children:"3"}),s.jsx("option",{value:4,children:"4"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Chord"}),s.jsxs("select",{value:f.chord??"none",onChange:m=>a({arp:{...f,chord:m.target.value}}),disabled:!f.enabled,children:[s.jsx("option",{value:"none",children:"Single"}),s.jsx("option",{value:"power",children:"Power (5th)"}),s.jsx("option",{value:"major",children:"Major Triad"}),s.jsx("option",{value:"minor",children:"Minor Triad"}),s.jsx("option",{value:"sus2",children:"Sus2"}),s.jsx("option",{value:"sus4",children:"Sus4"}),s.jsx("option",{value:"maj7",children:"Major 7th"}),s.jsx("option",{value:"min7",children:"Minor 7th"})]})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Division"}),s.jsxs("select",{value:f.division,onChange:m=>v({division:m.target.value}),disabled:!f.enabled,children:[s.jsx("option",{value:"1/4",children:"1/4"}),s.jsx("option",{value:"1/8",children:"1/8"}),s.jsx("option",{value:"1/8T",children:"1/8T"}),s.jsx("option",{value:"1/16",children:"1/16"}),s.jsx("option",{value:"1/16T",children:"1/16T"})]})]}),s.jsx(yt,{label:"BPM",min:40,max:240,step:1,value:d,onChange:m=>{p(m),v({bpm:m,bpmSync:!0})},disabled:!f.enabled,format:m=>`${Math.round(m)}`}),s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx(yt,{label:"Gate",min:.05,max:1,step:.01,value:f.gate,onChange:m=>a({arp:{...f,gate:m}}),disabled:!f.enabled,format:m=>`${Math.round(m*100)}%`})}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[s.jsx(yt,{label:"Swing",min:0,max:.75,step:.01,value:f.swingPct??0,onChange:m=>a({arp:{...f,swingPct:m}}),disabled:!f.enabled||!f.bpmSync,format:m=>`${Math.round(m*100)}%`}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Repeats"}),s.jsx("select",{value:f.repeats??1,onChange:m=>a({arp:{...f,repeats:Number(m.target.value)}}),disabled:!f.enabled,children:[1,2,3,4].map(m=>s.jsxs("option",{value:m,children:[m,"x"]},m))})]}),s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Length"}),s.jsxs("select",{value:f.patternLen??0,onChange:m=>a({arp:{...f,patternLen:Number(m.target.value)}}),disabled:!f.enabled,children:[s.jsx("option",{value:0,children:"Auto"}),Array.from({length:16},(m,C)=>C+1).map(m=>s.jsx("option",{value:m,children:m},m))]})]})]})]})}function op(u){const a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=Math.round(u),d=a[o%12],p=Math.floor(o/12)-1;return`${d}${p}`}function ap(){const u=ee(k=>k.patch),a=ee(k=>k.updatePatch),o=ee(k=>k.engine),d=ee(k=>k.transport.tempo),p=ee(k=>k.transport.playing),f=ee(k=>k.transport.tick),y=ee(k=>k.setTempo),w=ee(k=>k.setTransportPlaying),v=u.sequencer??W.sequencer,m=k=>{const z=u.sequencer??W.sequencer;a({sequencer:{...z,...k}})},C=v.steps||[],P=Math.max(1,Math.min(C.length,v.length)),[N,R]=Nt.useState({enabled:!1,stepIndex:0,length:0});Nt.useEffect(()=>{if(!o)return;const k=setInterval(()=>{const z=o.getSequencerStatus?.();z&&R(z)},100);return()=>clearInterval(k)},[o]);const O=(k,z)=>{const B=C.slice();B[k]={...B[k],...z},m({steps:B})},T={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17},E=Nt.useRef(null),[L,I]=Nt.useState(0),[V,b]=Nt.useState(!1);Nt.useEffect(()=>{I(k=>Math.min(Math.max(0,k),P-1))},[P]),Nt.useEffect(()=>{V&&E.current?.focus()},[V]),Nt.useEffect(()=>{v.enabled&&v.bpm!==d&&m({bpm:d})},[d]),Nt.useEffect(()=>{v.enabled&&v.playing!==p&&m({playing:p})},[p,v.playing,v.enabled]);const K=k=>{if(!V||!v.enabled)return;const z=k.key,B=z.length===1?z.toLowerCase():z;if(B in T){k.preventDefault();const G=T[B];O(L,{on:!0,offset:G}),I(ie=>(ie+1)%P);return}z==="ArrowRight"?(k.preventDefault(),I(G=>(G+1)%P)):z==="ArrowLeft"?(k.preventDefault(),I(G=>(G-1+P)%P)):z==="ArrowUp"?(k.preventDefault(),O(L,{on:!0,offset:Math.min(24,(C[L]?.offset||0)+1)})):z==="ArrowDown"?(k.preventDefault(),O(L,{on:!0,offset:Math.max(-24,(C[L]?.offset||0)-1)})):z==="Enter"?(k.preventDefault(),O(L,{on:!C[L]?.on})):z==="Backspace"||z==="Delete"?(k.preventDefault(),O(L,{on:!1})):z==="+"||z==="="?(k.preventDefault(),O(L,{on:!0,offset:Math.min(24,(C[L]?.offset||0)+1)})):z==="-"||z==="_"?(k.preventDefault(),O(L,{on:!0,offset:Math.max(-24,(C[L]?.offset||0)-1)})):B==="z"?(k.preventDefault(),m({rootMidi:Math.max(24,v.rootMidi-12)})):B==="x"?(k.preventDefault(),m({rootMidi:Math.min(96,v.rootMidi+12)})):z===" "&&(k.preventDefault(),w(!p))};return s.jsxs("div",{className:"sequence-panel",children:[s.jsxs("div",{className:"sequence-controls",children:[s.jsx("button",{className:"play-button",onClick:()=>w(!p),disabled:!v.enabled,children:p?"Stop":"Play"}),s.jsxs("label",{className:"sequence-toggle",children:[s.jsx("input",{type:"checkbox",checked:v.enabled,onChange:k=>m({enabled:k.target.checked})}),s.jsx("span",{children:"Enabled"})]}),s.jsxs("label",{className:"tempo-control",children:[s.jsx("span",{children:"Tempo"}),s.jsx("input",{type:"range",min:40,max:240,step:1,value:d,onChange:k=>{const z=Number(k.target.value);y(z),m({bpm:z})},disabled:!v.enabled}),s.jsxs("span",{className:"tempo-value",children:[Math.round(d)," BPM"]})]}),s.jsxs("label",{className:"sequence-toggle",children:[s.jsx("span",{children:"Division"}),s.jsxs("select",{value:v.division,onChange:k=>m({division:k.target.value}),disabled:!v.enabled,children:[s.jsx("option",{value:"1/4",children:"1/4"}),s.jsx("option",{value:"1/8",children:"1/8"}),s.jsx("option",{value:"1/8T",children:"1/8T"}),s.jsx("option",{value:"1/16",children:"1/16"}),s.jsx("option",{value:"1/16T",children:"1/16T"})]})]})]}),s.jsx("div",{className:"sequence-body",children:s.jsxs("div",{className:"controls-grid",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[s.jsxs("label",{children:[s.jsx("div",{className:"label",children:"Length"}),s.jsx("select",{value:v.length,onChange:k=>m({length:Number(k.target.value)}),disabled:!v.enabled,children:Array.from({length:C.length},(k,z)=>z+1).map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsx(yt,{label:"Gate",min:.05,max:1,step:.01,value:v.gate,onChange:k=>m({gate:k}),disabled:!v.enabled,format:k=>`${Math.round(k*100)}%`}),s.jsx(yt,{label:"Swing",min:0,max:.75,step:.01,value:v.swingPct??0,onChange:k=>m({swingPct:k}),disabled:!v.enabled||v.division.endsWith("T")||v.division==="1/4",format:k=>`${Math.round(k*100)}%`}),s.jsxs("div",{className:"sequence-root",children:[s.jsx("span",{className:"label",children:"Root"}),s.jsx(yt,{label:void 0,min:36,max:84,step:1,value:v.rootMidi,onChange:k=>m({rootMidi:k}),disabled:!v.enabled,format:k=>op(k)})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:12,alignItems:"center"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:V,onChange:k=>b(k.target.checked)}),s.jsx("span",{className:"label",children:"Edit Notes (Keyboard)"})]}),s.jsx("div",{className:"hint-text",style:{opacity:.8},children:"Keys: A/W/S... set notes  Arrows move  Z/X root 1 oct  Space play/pause  +/- semitone  Backspace clear"})]}),s.jsx("div",{ref:E,tabIndex:0,onKeyDown:K,style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(16, 1fr)",gap:6,outline:V?"1px dashed #2a3040":"none",borderRadius:6,padding:2},children:C.map((k,z)=>{const B=z<P,G=k.on&&B,ie=P>0?f%P:0,Me=N.enabled&&p&&B&&ie===z;return s.jsx("div",{onClick:Ne=>{Ne.altKey?O(z,{offset:Math.max(-24,Math.min(24,(k.offset||0)+1))}):O(z,{on:!k.on}),I(z)},onContextMenu:Ne=>{Ne.preventDefault(),O(z,{offset:Math.max(-24,Math.min(24,(k.offset||0)-1))})},title:`Step ${z+1}${k.offset?`, ${k.offset>0?"+":""}${k.offset}`:""}`,style:{height:44,borderRadius:6,border:`1px solid ${Me||z===L&&V?"var(--accent)":"#2a3040"}`,background:G?Me?"var(--accent)":"#1d2432":"#0f1217",color:G?Me?"#0f1217":"var(--text)":"#556",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none"},children:s.jsx("span",{style:{fontSize:11,opacity:.9},children:k.offset===0?"0":k.offset>0?`+${k.offset}`:`${k.offset}`})},z)})})]})})]})}const ao=[{id:"filter.cutoff",label:"Filter Cutoff",category:"Filter",description:"Move the filter cutoff frequency"},{id:"filter.q",label:"Filter Resonance",category:"Filter",description:"Adjust filter Q / resonance"},{id:"master.gain",label:"Master Gain",category:"Master",description:"Scale the master volume"},{id:"mix",label:"Osc Mix",category:"Oscillators",description:"Crossfade between Osc 1 and Osc 2"},{id:"osc1.detune",label:"Osc 1 Detune",category:"Oscillators",description:"Offset oscillator 1 pitch in cents"},{id:"osc2.detune",label:"Osc 2 Detune",category:"Oscillators",description:"Offset oscillator 2 pitch in cents"},{id:"fm.amount",label:"FM Amount",category:"FM",description:"Modulation index for FM routing"},{id:"envelope.attack",label:"Env Attack",category:"Envelope",description:"Envelope attack time"},{id:"envelope.release",label:"Env Release",category:"Envelope",description:"Envelope release time"},{id:"macro.harmonics",label:"Macro Harmonics",category:"Macro",description:"Macro engine harmonics"},{id:"macro.timbre",label:"Macro Timbre",category:"Macro",description:"Macro engine timbre"},{id:"macro.morph",label:"Macro Morph",category:"Macro",description:"Macro engine morph"},{id:"macro.level",label:"Macro Level",category:"Macro",description:"Macro engine output level"},{id:"lfo1.rateHz",label:"LFO 1 Rate",category:"LFO",description:"LFO1 rate in Hz"},{id:"lfo1.amount",label:"LFO 1 Amount",category:"LFO",description:"LFO1 depth"},{id:"lfo2.rateHz",label:"LFO 2 Rate",category:"LFO",description:"LFO2 rate in Hz"},{id:"lfo2.amount",label:"LFO 2 Amount",category:"LFO",description:"LFO2 depth"}],fc=Object.fromEntries(ao.map(u=>[u.id,u.label]));function up(){const u=ee(O=>O.engine),o=ee(O=>O.patch.expression)??W.expression,d=fc[o.x]??"X Axis",p=fc[o.y]??"Y Axis",f=Z.useRef(u),[y,w]=Z.useState(!1),[v,m]=Z.useState(null),C=Z.useRef(!1),P=Z.useRef(null),N=Z.useRef(null);Z.useEffect(()=>{f.current=u},[u]);const R=Z.useCallback(O=>{C.current=O,w(O),O||(N.current=null,P.current!=null&&(cancelAnimationFrame(P.current),P.current=null),f.current?.clearExpression2D(),m(null))},[]);return Z.useEffect(()=>{const O=E=>{E.key==="CapsLock"?R(E.getModifierState("CapsLock")):!E.getModifierState("CapsLock")&&C.current&&R(!1)},T=()=>R(!1);return window.addEventListener("keydown",O),window.addEventListener("keyup",O),window.addEventListener("blur",T),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",O),window.removeEventListener("blur",T)}},[R]),Z.useEffect(()=>{const O=()=>{if(P.current=null,!C.current)return;const I=N.current;I&&(N.current=null,f.current?.setExpression2D(I.x,I.y),m(I))},T=()=>{P.current==null&&(P.current=requestAnimationFrame(O))},E=I=>{if(!f.current)return;const V=I.getModifierState?.("CapsLock")??C.current;if(V!==C.current&&R(V),!V||!["mouse","touch","pen"].includes(I.pointerType))return;const b=Math.min(1,Math.max(0,I.clientX/window.innerWidth)),K=Math.min(1,Math.max(0,1-I.clientY/window.innerHeight));N.current={x:b,y:K},T()},L=()=>R(!1);return window.addEventListener("pointermove",E,{passive:!0}),window.addEventListener("pointerdown",E,{passive:!0}),window.addEventListener("pointerup",E,{passive:!0}),window.addEventListener("pointercancel",L),window.addEventListener("mouseleave",L),()=>{window.removeEventListener("pointermove",E),window.removeEventListener("pointerdown",E),window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",L),window.removeEventListener("mouseleave",L),P.current!=null&&(cancelAnimationFrame(P.current),P.current=null)}},[R]),u?s.jsxs("div",{className:`expression-overlay${y?" active":""}`,"aria-hidden":"true",children:[s.jsx("div",{className:"expression-label",children:"CapsLock XY Expression"}),y?s.jsxs("div",{className:"expression-status",children:["Active  ",d," ",((v?.x??.5)*100).toFixed(0),"%  ",p," ",((v?.y??.5)*100).toFixed(0),"%"]}):s.jsxs("div",{className:"expression-status",children:["Engage CapsLock and move on the trackpad to modulate ",d," / ",p]})]}):null}const pc="application/x-websynth-panel";function hc(u,a,o){if(!u.includes(a))return u;const d=u.filter(f=>f!==a),p=Math.max(0,Math.min(o,d.length));return[...d.slice(0,p),a,...d.slice(p)]}function cp({panels:u,order:a,onOrderChange:o,onRequestHelp:d}){const[p,f]=Z.useState(null),[y,w]=Z.useState(null),[v,m]=Z.useState(!1),C=Z.useMemo(()=>new Map(u.map(k=>[k.id,k])),[u]),P=Z.useMemo(()=>u.map(k=>k.id),[u]),N=Z.useMemo(()=>{const k=(a.length?a:P).filter(G=>C.has(G)),z=new Set(k),B=u.filter(G=>!z.has(G.id)).map(G=>G.id);return[...k,...B]},[a,P,C,u]),R=k=>z=>{z.dataTransfer.effectAllowed="move";try{z.dataTransfer.setData(pc,k)}catch{z.dataTransfer.setData("text/plain",k)}f(k),w(null),m(!1)},O=()=>{f(null),w(null),m(!1)},T=k=>{let z="";try{z=k.dataTransfer.getData(pc)}catch{z=k.dataTransfer.getData("text/plain")}return z||p},E=(k,z)=>B=>{if(B.preventDefault(),B.stopPropagation(),!p)return;const G=B.currentTarget.getBoundingClientRect(),ie=B.clientY<G.top+G.height/2;w({id:k,position:ie?"before":"after"}),m(!1)},L=(k,z)=>B=>{B.preventDefault(),B.stopPropagation();const G=T(B);if(!G)return;const ie=B.currentTarget.getBoundingClientRect(),Ne=B.clientY<ie.top+ie.height/2?z:z+1,_e=hc(N,G,Ne);o(_e),w(null),m(!1)},I=k=>z=>{z.stopPropagation(),y?.id===k&&w(null)},V=k=>{p&&(k.preventDefault(),w(null),m(!0))},b=k=>{k.preventDefault();const z=T(k);if(!z)return;const B=hc(N,z,N.length);o(B),w(null),m(!1)},K=k=>z=>{z.preventDefault(),z.stopPropagation(),d?.(k)};return s.jsx("div",{className:`dashboard-grid${v?" drop-end":""}`,onDragOver:V,onDrop:b,children:N.map((k,z)=>{const B=C.get(k);if(!B)return null;const G=B.span??1,ie=p===k,Me=y?.id===k&&y.position==="before",Ne=y?.id===k&&y.position==="after",_e=["panel","dashboard-panel",ie?"dragging":"",Me?"drop-before":"",Ne?"drop-after":""].filter(Boolean).join(" ");return s.jsx("section",{className:_e,style:{gridColumn:G>1?`span ${G}`:void 0},onDragOver:E(B.id),onDrop:L(B.id,z),onDragLeave:I(B.id),children:s.jsxs("div",{className:"panel-body",children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("h3",{className:"panel-title",children:B.title}),s.jsxs("div",{className:"panel-actions",children:[d?s.jsx("button",{type:"button",className:"panel-help-button",onClick:K(B.id),"aria-label":`Show help for ${B.title}`,children:"?"}):null,s.jsx("span",{className:"panel-drag-hint","aria-hidden":"true",draggable:!0,onDragStart:R(B.id),onDragEnd:O,children:""})]})]}),B.render()]})},B.id)})})}const lo={init:{osc1:{wave:"sawtooth",detune:0,finePct:0},osc2:{wave:"square",detune:0},mix:0,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:1200,q:.8},envelope:{attack:.01,decay:.2,sustain:.7,release:.3},master:{gain:.2}},mellowPad:{osc1:{wave:"triangle",detune:-5,finePct:0},osc2:{wave:"sawtooth",detune:3},mix:.35,fm:{enabled:!1,ratio:2,amount:0},sub:{enabled:!0,octave:1,level:.2,wave:"sine"},ring:{enabled:!1,amount:1},filter:{type:"lowpass",cutoff:800,q:1.2},envelope:{attack:.4,decay:.8,sustain:.8,release:1.5},master:{gain:.25}},brightLead:{osc1:{wave:"square",detune:3,finePct:0},osc2:{wave:"sawtooth",detune:-6},mix:.5,fm:{enabled:!0,ratio:1.5,amount:120},sub:{enabled:!1,octave:1,level:0,wave:"square"},ring:{enabled:!1,amount:1},filter:{type:"bandpass",cutoff:1600,q:.7},envelope:{attack:.01,decay:.15,sustain:.5,release:.2},master:{gain:.22}}};function dp(){const u=ee(y=>y.updatePatch),a=ee(y=>y.exportPatch),o=ee(y=>y.importPatch),d=Z.useRef(null),p=()=>{const y=a(),w=new Blob([y],{type:"application/json"}),v=URL.createObjectURL(w),m=document.createElement("a");m.href=v,m.download="patch.json",m.click(),URL.revokeObjectURL(v)},f=y=>{const w=y.target.files?.[0];if(!w)return;const v=new FileReader;v.onload=()=>{o(String(v.result))},v.readAsText(w)};return s.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("select",{onChange:y=>u(lo[y.target.value]),defaultValue:"init",children:Object.entries(lo).map(([y])=>s.jsx("option",{value:y,children:y},y))}),s.jsx("button",{onClick:()=>d.current?.click(),children:"Import"}),s.jsx("input",{ref:d,type:"file",accept:"application/json",style:{display:"none"},onChange:f}),s.jsx("button",{onClick:p,children:"Export"}),s.jsx("button",{onClick:()=>u(lo.init),children:"Reset"}),s.jsx("button",{title:"Clears local patches to recover from incompatible versions",onClick:()=>{localStorage.removeItem("websynth-patch"),location.reload()},children:"Clear Local"})]}),s.jsx("div",{className:"label",children:"Presets and Patch IO"})]})}function fp(){const a=ee(y=>y.patch.expression)??W.expression,o=ee(y=>y.updatePatch),d=Z.useMemo(()=>{const y=new Map;for(const w of ao){const v=y.get(w.category)??[];v.push(w),y.set(w.category,v)}return Array.from(y.entries())},[]),p=y=>w=>{const v=w.target.value,m=y==="x"?{x:v,y:a.y}:{x:a.x,y:v};o({expression:m})},f=y=>{const w=a?.[y];return ao.find(m=>m.id===w)?.description??"Select a destination to be controlled by the XY surface."};return s.jsxs("div",{className:"expression-panel",children:[s.jsxs("div",{className:"expression-row",children:[s.jsxs("label",{children:[s.jsx("span",{className:"label",children:"X Axis Target"}),s.jsx("select",{value:a?.x??W.expression.x,onChange:p("x"),children:d.map(([y,w])=>s.jsx("optgroup",{label:y,children:w.map(v=>s.jsx("option",{value:v.id,children:v.label},v.id))},y))})]}),s.jsx("p",{className:"hint-text",children:f("x")})]}),s.jsxs("div",{className:"expression-row",children:[s.jsxs("label",{children:[s.jsx("span",{className:"label",children:"Y Axis Target"}),s.jsx("select",{value:a?.y??W.expression.y,onChange:p("y"),children:d.map(([y,w])=>s.jsx("optgroup",{label:y,children:w.map(v=>s.jsx("option",{value:v.id,children:v.label},v.id))},y))})]}),s.jsx("p",{className:"hint-text",children:f("y")})]})]})}function so({open:u,onClose:a,children:o,title:d="Settings",closeLabel:p="Close settings"}){return Z.useEffect(()=>{if(!u)return;const f=y=>{y.key==="Escape"&&a()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[u,a]),u?s.jsxs("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"modal-backdrop",onClick:a}),s.jsxs("div",{className:"modal",children:[s.jsxs("header",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:d}),s.jsx("button",{className:"modal-close",onClick:a,"aria-label":p,children:""})]}),s.jsx("div",{className:"modal-body",children:o})]})]}):null}const xc=16,ls=[{id:"kick",label:"Kick",midi:36,patch:{osc1:{wave:"sine",detune:-24},osc2:{wave:"sine",detune:0},mix:0,envelope:{attack:.001,decay:.18,sustain:0,release:.08},filter:{type:"lowpass",cutoff:380,q:.8},master:{gain:.35}}},{id:"snare",label:"Snare",midi:38,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:12},mix:.55,envelope:{attack:.001,decay:.22,sustain:0,release:.12},filter:{type:"bandpass",cutoff:1800,q:2.8},master:{gain:.28}}},{id:"hat",label:"Hat",midi:42,patch:{osc1:{wave:"noise",detune:0},osc2:{wave:"triangle",detune:24},mix:.7,envelope:{attack:.001,decay:.08,sustain:0,release:.05},filter:{type:"highpass",cutoff:5e3,q:.9},master:{gain:.22}}}];function pp(){const u={};for(const a of ls)u[a.id]=Array.from({length:xc},()=>!1);return u.kick[0]=!0,u.kick[8]=!0,u.snare[4]=!0,u.snare[12]=!0,u.hat=u.hat.map((a,o)=>o%2===0),u}function hp(){const u=ee(O=>O.transport.tempo),a=ee(O=>O.transport.playing),o=ee(O=>O.transport.tick),d=ee(O=>O.setTempo),p=ee(O=>O.setTransportPlaying),[f,y]=Z.useState(()=>pp()),[w,v]=Z.useState(0),m=Z.useRef({}),C=Z.useRef(f);Z.useEffect(()=>{C.current=f},[f]);const P=async O=>{let T=m.current[O];T||(T=new io,m.current[O]=T),await T.resume();const E=ls.find(L=>L.id===O)?.patch;return E&&T.applyPatch({...W,...E}),T},N=async O=>{const T=C.current,E=ls.filter(L=>T[L.id]?.[O]);for(const L of E)(await P(L.id)).previewNote(L.midi,180)};Z.useEffect(()=>{if(!a){v(0);return}const O=o%xc;v(O),N(O)},[o,a]),Z.useEffect(()=>()=>{for(const O of Object.values(m.current))try{O.audioContext.close()}catch{}m.current={}},[]);const R=(O,T)=>{y(E=>{const L={...E,[O]:[...E[O]]};return L[O][T]=!L[O][T],L})};return s.jsxs("div",{className:"drum-machine",children:[s.jsxs("div",{className:"drum-controls",children:[s.jsx("button",{className:"play-button",onClick:()=>p(!a),children:a?"Stop":"Play"}),s.jsxs("label",{className:"tempo-control",children:[s.jsx("span",{children:"Tempo"}),s.jsx("input",{type:"range",min:60,max:180,step:1,value:u,onChange:O=>d(Number(O.target.value))}),s.jsxs("span",{className:"tempo-value",children:[u," BPM"]})]})]}),s.jsx("div",{className:"drum-grid",children:ls.map(O=>s.jsxs("div",{className:"drum-row",children:[s.jsx("div",{className:"drum-label",children:O.label}),s.jsx("div",{className:"drum-steps",children:f[O.id]?.map((T,E)=>{const L=a&&w===E;return s.jsx("button",{className:`drum-step${T?" active":""}${L?" current":""}`,onClick:()=>R(O.id,E)},E)})})]},O.id))})]})}const mp=4;function vp(){const u=ee(f=>f.transport.tempo),a=ee(f=>f.transport.playing),o=ee(f=>f.bumpTransportTick),d=ee(f=>f.patch),p=ee(f=>f.updatePatch);return Z.useEffect(()=>{if(!a)return;const f=6e4/u/mp,y=window.setInterval(()=>o(),f);return()=>window.clearInterval(y)},[a,u,o]),Z.useEffect(()=>{const f=d.sequencer??W.sequencer;f?.enabled&&f.playing!==a&&p({sequencer:{...f,playing:a}})},[a,d.sequencer,p]),Z.useEffect(()=>{const f=d.sequencer??W.sequencer;f?.enabled&&f.bpm!==u&&p({sequencer:{...f,bpm:u}});const y=d.arp??W.arp;y?.enabled&&(y.bpm!==u||!y.bpmSync)&&p({arp:{...y,bpm:u,bpmSync:!0}})},[u,d.sequencer,d.arp,p]),null}const mc=144,gp=128;function yp(u){return Array.from(u.inputs.values()).map(a=>({id:a.id,name:a.name??"Unknown input",manufacturer:a.manufacturer??null}))}let Vr=null;function wc(){return Vr||(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"?Promise.reject(new Error("Web MIDI API is not supported in this environment")):(Vr=navigator.requestMIDIAccess({sysex:!1}).finally(()=>{Vr=null}),Vr))}function xp(){const u=ee(C=>C.engine),a=ee(C=>C.midi),o=ee(C=>C.setMidiSupported),d=ee(C=>C.setMidiStatus),p=ee(C=>C.setMidiInputs),f=ee(C=>C.setMidiSelectedInput),y=ee(C=>C.setMidiActiveNotes),w=Z.useRef(null),v=Z.useRef(null),m=Z.useRef(new Set);return Z.useEffect(()=>{if(!a.enabled){const P=Array.from(m.current);P.length&&u&&P.forEach(R=>u.noteOff(R)),m.current.clear(),y([]);const N=a.supported===!1?"unsupported":"idle";a.status!==N&&d(N),p([]),w.current&&(w.current.onstatechange=null);return}if(typeof navigator>"u"||typeof navigator.requestMIDIAccess!="function"){o(!1),d("unsupported");return}let C=!1;return o(!0),d("requesting"),wc().then(P=>{if(C)return;w.current=P;const N=()=>{const R=yp(P);p(R);const{selectedInputId:O}=ee.getState().midi;R.length===0&&(m.current.clear(),y([])),R.length>0?R.some(E=>E.id===O)||f(R[0]?.id??null):O&&f(null)};N(),P.onstatechange=()=>N(),d("ready")}).catch(P=>{if(C)return;const N=P instanceof Error?P.message:"Failed to access MIDI devices";d("error",N)}),()=>{C=!0,w.current&&(w.current.onstatechange=null),w.current=null}},[u,a.enabled,y,p,f,d,o]),Z.useEffect(()=>{if(!a.enabled){v.current&&(v.current.onmidimessage=null,v.current=null);return}const C=w.current;if(!C)return;const P=a.selectedInputId,N=P?Array.from(C.inputs.values()).find(O=>O.id===P):null;if(v.current&&v.current!==N){v.current.onmidimessage=null,v.current=null;const O=Array.from(m.current);O.length&&u&&O.forEach(T=>u.noteOff(T)),m.current.clear(),y([])}if(!N)return;const R=O=>{const T=O.data;if(!T||T.length<2)return;const E=T[0],L=T[1],I=T[2]??0,V=E&240,b=L;if(V===mc&&I>0){u&&u.noteOn(b),m.current.add(b),y(Array.from(m.current));return}(V===gp||V===mc&&I===0)&&(u&&u.noteOff(b),m.current.delete(b),y(Array.from(m.current)))};return N.onmidimessage=R,v.current=N,()=>{N.onmidimessage===R&&(N.onmidimessage=null);const O=Array.from(m.current);O.length&&u&&O.forEach(T=>u.noteOff(T)),m.current.clear(),y([])}},[u,a.enabled,a.selectedInputId,y]),null}const wp={idle:"Not connected",requesting:"Awaiting browser permission...",ready:"Connected",error:"Connection error",unsupported:"Not supported"};function Sp(){const u=ee(v=>v.midi),a=ee(v=>v.setMidiEnabled),o=ee(v=>v.setMidiSelectedInput),d=ee(v=>v.setMidiStatus),p=ee(v=>v.setMidiSupported),f=Z.useMemo(()=>{const v=wp[u.status]??"Unknown";return u.status==="error"&&u.lastError?`${v}: ${u.lastError}`:u.status==="ready"&&u.inputs.length===0?"Connected - no inputs detected":v},[u.inputs.length,u.lastError,u.status]),y=u.supported===!1,w=Z.useCallback(v=>{if(!v.target.checked){a(!1);return}d("requesting"),a(!0),wc().then(()=>{p(!0)}).catch(C=>{const P=C instanceof Error?C.message:"Failed to access MIDI devices";if(C instanceof Error&&/not supported/i.test(C.message)){p(!1),d("unsupported"),a(!1);return}p(!0),d("error",P)})},[a,d,p]);return s.jsxs("div",{className:"settings-card",children:[s.jsxs("div",{className:"settings-row",children:[s.jsx("label",{className:"settings-label",htmlFor:"midi-enabled",children:"Enable MIDI input"}),s.jsx("input",{id:"midi-enabled",type:"checkbox",checked:u.enabled,onChange:w,disabled:y})]}),s.jsxs("div",{className:"settings-row",children:[s.jsx("span",{className:"settings-label",children:"Status"}),s.jsx("span",{className:"settings-value","data-status":u.status,children:f})]}),u.status==="unsupported"?s.jsx("p",{className:"settings-help",children:"This browser does not expose the Web MIDI API. Try Chrome or Edge on desktop."}):null,s.jsxs("div",{className:"settings-row",children:[s.jsx("label",{className:"settings-label",htmlFor:"midi-input",children:"MIDI input device"}),s.jsxs("select",{id:"midi-input",value:u.selectedInputId??"",onChange:v=>{const m=v.target.value;o(m.length?m:null)},disabled:!u.enabled||u.inputs.length===0,children:[u.inputs.length===0?s.jsx("option",{value:"",children:"No inputs detected"}):null,u.inputs.map(v=>s.jsxs("option",{value:v.id,children:[v.name,v.manufacturer?` (${v.manufacturer})`:""]},v.id))]})]}),u.enabled&&u.inputs.length===0?s.jsx("p",{className:"settings-help",children:"Plug in a controller or check browser permissions."}):null]})}function kp({href:u="https://github.com/szabadkai/synth-demo"}){return s.jsxs("a",{className:"github-corner",href:u,"aria-label":"View WebSynth Studio on GitHub",target:"_blank",rel:"noreferrer noopener",children:[s.jsx("span",{className:"sr-only",children:"View the project repository on GitHub"}),s.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M12 0a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58 0-.29-.01-1.05-.02-2.05-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.35-1.78-1.35-1.78-1.11-.76.08-.75.08-.75 1.22.09 1.87 1.26 1.87 1.26 1.09 1.86 2.86 1.32 3.56 1 .11-.79.43-1.32.78-1.62-2.66-.3-5.47-1.33-5.47-5.9 0-1.3.47-2.37 1.24-3.21-.12-.3-.54-1.51.12-3.15 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23.66 1.64.24 2.85.12 3.15.77.84 1.24 1.9 1.24 3.21 0 4.58-2.82 5.6-5.5 5.9.44.39.83 1.16.83 2.34 0 1.69-.02 3.05-.02 3.47 0 .32.22.69.83.57A12 12 0 0 0 12 0Z"})})]})}const jp=[{title:"Power On + Audio Check",points:["Click Power On (or press any key) to resume the audio engine  browsers block sound until you interact.","Hold a note on the on-screen keyboard or your computer keys (A/W/S) to confirm audio output.","Watch the Audio Ready badge so you know the synth engine is live and responsive."]},{title:"Dashboard Basics",points:["Each panel can be dragged by the  handle to personalise your layout.","Use the Oscilloscope panel to visualise how oscillator, filter, and envelope tweaks shape the signal.","Dive into Oscillator, Filter, Envelope, and Effects panels to sculpt tone, dynamics, and ambience."]},{title:"Modulation Playground",points:["Assign LFOs to pitch, filter, or effect targets for evolving textures  adjust rate, shape, sync, and depth.","Flip on the Arpeggiator to latch held notes, experiment with patterns, octave ranges, and tempo sync.","Program riffs in the Sequencer, toggle steps live, and shape groove with direction and swing."]},{title:"Rhythm Layer",points:["Open the Drum Machine to sequence kick, snare, and hat voices using the shared global transport.","Hit Play/Stop in the Drum Machine (or space bar in the Sequencer) to drive every tempo-aware module.","Adjust BPM from either panel  the Transport keeps LFO sync, sequencer rate, and arps locked in."]},{title:"Expressive Performance",points:["Engage CapsLock to activate the 2D expression surface; glide a trackpad, mouse, or pen for live modulation.","Check the overlay label to see which parameters the X/Y axes control and their real-time values.","Customise X/Y destinations under Settings  Expression to map filter sweeps, macro blends, and more."]},{title:"Patch Workflow",points:["Browse built-in presets from Settings  Patches to explore starting points for new sounds.","Export your patch as JSON to share, import saved patches, or reset to the init patch at any time.","Use Clear Local if you ever need to wipe cached patches after upgrading the app."]},{title:"Hardware MIDI",points:["Toggle Enable MIDI input in Settings  MIDI to request browser permission for your controller.","Select a detected device and play  incoming notes route straight into the synth voice engine.","Status hints show permission prompts, errors, or a friendly ready state so you know what to expect."]},{title:"Next Steps",points:["Layer Sequencer, Arpeggiator, Drum Machine, and expression surface for full arrangements.","Save favourite patches into src/patches/ to share with your team or future sessions.","Before shipping changes, run npm run lint, npm run typecheck, npm test, and npm run build to keep QA tight."]}];function Ep(){return s.jsxs("div",{className:"onboarding-guide",children:[s.jsx("p",{className:"onboarding-intro",children:"New to WebSynth Studio? Work through the highlights below, tweaking the live app as you go. Each section points you to the panels and controls that define the instrument."}),s.jsx("ol",{className:"onboarding-list",children:jp.map(u=>s.jsxs("li",{className:"onboarding-section",children:[s.jsx("h4",{children:u.title}),s.jsx("ul",{children:u.points.map(a=>s.jsx("li",{children:a},a))})]},u.title))})]})}const vc="websynth-guide-seen",Mp=["oscilloscope","oscillator","effects","lfos","arp","sequencer","drum","keyboard"];function Cp(u){return Mp.includes(u)}function Np(){const u=ee(T=>T.engine),a=ee(T=>T.setEngine),o=ee(T=>T.patch),[d,p]=Z.useState(!1),[f,y]=Z.useState(!1),[w,v]=Z.useState(null);Z.useEffect(()=>{try{localStorage.getItem(vc)||y(!0)}catch{}},[]),Z.useEffect(()=>{const T=async()=>{if(!ee.getState().engine){const E=new io;await E.resume(),E.applyPatch(o),a(E)}window.removeEventListener("pointerdown",T),window.removeEventListener("keydown",T)};return window.addEventListener("pointerdown",T),window.addEventListener("keydown",T),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("keydown",T)}},[o,a]);const m=async()=>{if(!u){const T=new io;await T.resume(),T.applyPatch(o),a(T)}},C=[{id:"oscilloscope",title:"Oscilloscope",span:2,render:()=>s.jsxs("div",{className:"oscilloscope-stack",children:[s.jsx(rp,{}),s.jsxs("div",{className:"oscilloscope-row",children:[s.jsx(Xf,{}),s.jsx(Yf,{})]})]})},{id:"oscillator",title:"Oscillator",span:2,render:()=>s.jsx(Kf,{})},{id:"effects",title:"Effects",span:2,render:()=>s.jsx(lp,{})},{id:"lfos",title:"LFOs",span:2,render:()=>s.jsx(sp,{})},{id:"arp",title:"Arpeggiator",span:2,render:()=>s.jsx(ip,{})},{id:"sequencer",title:"Sequencer",span:2,render:()=>s.jsx(ap,{})},{id:"drum",title:"Drum Machine",span:2,render:()=>s.jsx(hp,{})},{id:"keyboard",title:"Keyboard",span:2,render:()=>s.jsx(np,{})}],P=ee(T=>T.layoutOrder),N=ee(T=>T.setLayoutOrder),R=Z.useMemo(()=>({oscilloscope:{title:"Oscilloscope & Signal Shaping",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"This column stacks the live scope with the filter and envelope controls so you can see and hear how each tweak reshapes the voice in real time."}),s.jsx("h5",{children:"Oscilloscope"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Live waveform"})," shows the post-filter signalwatch for clipping, phase inversion, or DC offset."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Visual feedback"})," makes it easy to dial envelope curves or modulation depth by eye."]})]}),s.jsx("h5",{children:"Filter"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Filter Type"}),": switch between low-pass, high-pass, band-pass, or notch responses."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cutoff"}),": set the corner frequency (408 kHz)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Resonance"}),": emphasise frequencies around the cutoff for squelchy tones or formants."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Master"}),": trim the synth output to prevent overload after heavy resonance or drive."]})]}),s.jsx("h5",{children:"Envelope"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Attack/Decay"}),": tune how quickly the note ramps up and falls back."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sustain"}),": set the plateau level while a key is held."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Release"}),": control how long the tail rings once the note stops."]})]}),s.jsx("h5",{children:"Workflow Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Start with moderate sustain and adjust cutoff until the oscilloscope shows a balanced waveform."}),s.jsx("li",{children:"Use short attacks with high resonance for plucky stabs, or longer releases for pads."})]})]})},oscillator:{title:"Oscillator Engine",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"The oscillator panel builds the raw tone. Switch between the classic dual-oscillator stack and the macro voice engine."}),s.jsx("h5",{children:"Classic Mode"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mode"}),": choose Classic to expose Osc 1 and Osc 2 controls; Macro flips to the multi-model engine."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Wave"}),": pick saw, square, triangle, sine, or noise per oscillator."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Detune/Fine"}),": detune Osc 1 in cents for chorus movement; fine tune provides subtle offsets."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": blend Osc 1 against Osc 2 to balance the tone."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FM toggle"}),": enable frequency modulation, then set ",s.jsx("strong",{children:"Ratio"})," for the modulator harmonic and ",s.jsx("strong",{children:"Amount"})," for depth."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ring toggle"}),": engage ring modulation and scale its ",s.jsx("strong",{children:"Amount"})," for metallic textures."]})]}),s.jsx("h5",{children:"Macro Mode"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Model"}),": jump between macro-oscillator flavours (VA, wavefold, pluck, FM 2-Op, etc.)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Harmonics/Timbre/Morph"}),": scan each models parameter setgreat for morphing wavetables or shaping plucks."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level"}),": trim the macro engine output when layering with other voices."]})]}),s.jsx("h5",{children:"Sound Design Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Stack slight detune plus a touch of ring modulation for wide analog pads."}),s.jsx("li",{children:"Macro models respond well to LFO or expression assignmentsmap CapsLock X/Y to Morph or Timbre for live movement."})]})]})},effects:{title:"Effects Rack",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Delay and reverb live here so you can finish a patch without leaving the synth view."}),s.jsx("h5",{children:"Delay"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": toggle the bucket-brigade style delay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Time"}),": set delay time in seconds (01.5s). Syncs nicely with tempo divisions."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Feedback"}),": control repeats; keep under ~0.7 for stable feedback."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": blend the wet signal back with the dry synth."]})]}),s.jsx("h5",{children:"Reverb"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": load the convolution reverb stage."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Size"}),": pick the impulse room length."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Decay"}),": shape how long the tail sustains."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mix"}),": balance ambience without washing out the dry signal."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Short delay times with low mix create slapback for bass and plucks."}),s.jsx("li",{children:"Cut delay feedback when engaging heavy reverb to avoid muddiness."})]})]})},lfos:{title:"LFO Modulators",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Two low-frequency oscillators inject motion into almost any destination in the patch."}),s.jsx("h5",{children:"LFO Controls"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": arm the modulation path for each LFO."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Wave"}),": choose sine, triangle, square, or saw for the modulation shape."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dest"}),": route to pitch, filter, or amptie depth to macros or expression for more routings."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rate"}),": set frequency in Hz (0.0120); syncs with tempo when combined with the transport."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Amount"}),": scale modulation depth; automate this with the Sequencer or expression surface for evolving sounds."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Use LFO1 for slow filter sweeps and LFO2 for faster vibrato or tremolo."}),s.jsx("li",{children:"Disable the checkbox to park an LFO without losing its configuration."})]})]})},arp:{title:"Arpeggiator",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Turn held chords into rhythmic runs that follow the global transport."}),s.jsx("h5",{children:"Playback"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": start capturing held notes."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Latch"}),": keep notes running after you release the keys."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Clear"}),": flush the current latched chord without toggling the arp off."]})]}),s.jsx("h5",{children:"Timing"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mode"}),": set traversal (up, down, up/down, random, as played)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Octaves"}),": extend the pattern across 14 octaves."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Chord"}),": fold power chords, triads, or sevenths into each step."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Division"}),": choose rhythmic value (1/41/16T)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"BPM"}),": the slider writes to the global tempo so drums and sequencer stay in sync."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Gate/Swing"}),": tighten note length and groove feel."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Repeats/Length"}),": loop steps multiple times or clamp the pattern length."]})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Combine Latch with the Sequencer for counterpointthat way the arp handles chords while the sequencer drives lead lines."}),s.jsx("li",{children:"Use the expression surface to modulate filter cutoff while the arp runs for dynamic sweeps."})]})]})},sequencer:{title:"Step Sequencer",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Program note offsets and modulation lanes across up to 16 stepsperfect for basslines or evolving textures."}),s.jsx("h5",{children:"Transport & Timing"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Play"}),": toggles the shared transport; the button mirrors the space-bar shortcut."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enabled"}),": arm the sequencer without nuking your pattern."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Tempo"}),": linked to the global BPM so drums and arp line up."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Division"}),": set step rate (quarter to triplet sixteenths)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Length"}),": choose how many steps play before looping."]})]}),s.jsx("h5",{children:"Shape the Pattern"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Gate"}),": change note length; great for staccato acid lines."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Swing"}),": add shuffle (disabled for triplets and quarter notes)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Root"}),": slide the entire sequence up or down in pitch."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Edit Notes (Keyboard)"}),": enable to type notes with A/W/S; +/- nudges semitones, Z/X shifts the root octave."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Step grid"}),": click to toggle notes, ",s.jsx("strong",{children:"Alt+click"})," raises semitone offset, right-click lowers it."]})]}),s.jsx("h5",{children:"Visual Feedback"}),s.jsxs("ul",{children:[s.jsx("li",{children:"The highlighted cell shows the playhead; cursor outlines follow keyboard edit focus."}),s.jsx("li",{children:"Offsets in the cells (+/- values) represent semitone shifts relative to Root."})]})]})},drum:{title:"Drum Machine",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Create percussive backbeats that share tempo and transport with the synth voice."}),s.jsx("h5",{children:"Transport"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Play/Stop"}),": drives the global clock, so sequencer and arp follow the same BPM."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Tempo"}),": change BPM with the sliderapplies everywhere."]})]}),s.jsx("h5",{children:"Programming"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Step buttons"}),": click to toggle hits for kick, snare, and hat; glowing steps are active."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Current step highlight"}),": a brighter cell shows the beat currently firing."]}),s.jsx("li",{children:"Each instrument has its own SynthEngine voice with curated patches for punchy drums."})]}),s.jsx("h5",{children:"Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Start with the default 4-on-the-floor kick and build snare/hat syncopation around it."}),s.jsx("li",{children:"Layer sequencer basslines with hats on offbeats for instant groove."})]})]})},keyboard:{title:"Keyboard & Performance",body:s.jsxs("div",{className:"module-help",children:[s.jsx("p",{children:"Play and monitor incoming notes from both the computer keyboard and external MIDI controllers."}),s.jsx("h5",{children:"Computer Keys"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Mapping"}),": A/W/S/D/F/G map to white and black keys; apostrophe reaches two octaves up."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Z / X"}),": shift the octave indicator down or up in 12-semitone jumps."]}),s.jsx("li",{children:"Held keys appear highlighted so you always know what is sustaining."})]}),s.jsx("h5",{children:"Pointer & Touch"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Click or drag for glissando; multi-touch (trackpad/tablet) keeps parallel notes held."}),s.jsx("li",{children:"Black keys float above the whites for accurate gliss transitions."})]}),s.jsx("h5",{children:"MIDI Integration"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Notes triggered from external hardware light up alongside local keysgreat for debugging MIDI routing."}),s.jsx("li",{children:"The octave badge shows the base MIDI note and offset so you can align hardware controllers quickly."})]})]})}}),[]),O=w?R[w]:null;return s.jsxs("div",{className:"app",children:[s.jsx(kp,{}),s.jsx(xp,{}),s.jsxs("header",{className:"header",children:[s.jsx("h2",{children:"WebSynth Studio"}),s.jsxs("div",{className:"row",children:[s.jsx("button",{onClick:m,children:u?"Audio Ready":"Power On"}),s.jsx("button",{onClick:()=>{y(!0)},children:"Help"}),s.jsx("button",{onClick:()=>p(!0),children:"Settings"})]})]}),s.jsx("main",{children:s.jsx(cp,{panels:C,order:P,onOrderChange:N,onRequestHelp:T=>{Cp(T)&&v(T)}})}),s.jsx(up,{}),s.jsx(so,{open:w!=null,onClose:()=>v(null),title:O?.title??"Module Help",closeLabel:"Close module help",children:O?.body??s.jsx("p",{children:"Help content coming soon."})}),s.jsx(so,{open:f,onClose:()=>{try{localStorage.setItem(vc,"1")}catch{}y(!1)},title:"Onboarding Guide",closeLabel:"Close help overlay",children:s.jsx(Ep,{})}),s.jsxs(so,{open:d,onClose:()=>p(!1),children:[s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"Patches"}),s.jsx(dp,{})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"Expression"}),s.jsx(fp,{})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h4",{className:"settings-heading",children:"MIDI"}),s.jsx(Sp,{})]})]}),s.jsx(vp,{})]})}const Pp=Cf.createRoot(document.getElementById("root"));Pp.render(s.jsx(Np,{}));
